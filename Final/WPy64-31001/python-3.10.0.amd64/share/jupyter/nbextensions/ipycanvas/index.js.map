{"version":3,"sources":["webpack://ipycanvas/./node_modules/base64-js/index.js","webpack://ipycanvas/./node_modules/buffer/index.js","webpack://ipycanvas/./node_modules/ieee754/index.js","webpack://ipycanvas/./node_modules/isarray/index.js","webpack://ipycanvas/./node_modules/roughjs/bin/geometry.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/scan-line-hachure.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/hachure-filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/zigzag-filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/hatch-filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/dot-filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/dashed-filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/zigzag-line-filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/fillers/filler.js","webpack://ipycanvas/./node_modules/roughjs/bin/math.js","webpack://ipycanvas/./node_modules/path-data-parser/lib/parser.js","webpack://ipycanvas/./node_modules/path-data-parser/lib/absolutize.js","webpack://ipycanvas/./node_modules/path-data-parser/lib/normalize.js","webpack://ipycanvas/./node_modules/roughjs/bin/renderer.js","webpack://ipycanvas/./node_modules/points-on-curve/lib/curve-to-bezier.js","webpack://ipycanvas/./node_modules/points-on-curve/lib/index.js","webpack://ipycanvas/./node_modules/roughjs/bin/generator.js","webpack://ipycanvas/./node_modules/points-on-path/lib/index.js","webpack://ipycanvas/./node_modules/roughjs/bin/canvas.js","webpack://ipycanvas/./src/extension.ts","webpack://ipycanvas/./src/index.ts","webpack://ipycanvas/./src/utils.ts","webpack://ipycanvas/./src/version.ts","webpack://ipycanvas/./src/widget.ts","webpack://ipycanvas/external \"@jupyter-widgets/base\"","webpack://ipycanvas/webpack/bootstrap","webpack://ipycanvas/webpack/startup","webpack://ipycanvas/webpack/runtime/define property getters","webpack://ipycanvas/webpack/runtime/global","webpack://ipycanvas/webpack/runtime/hasOwnProperty shorthand","webpack://ipycanvas/webpack/runtime/make namespace object"],"names":["exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","i","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","length","extraBytes","parts","maxChunkLength","len2","push","encodeChunk","lookup","join","Uint8Array","Array","code","Error","indexOf","start","end","num","output","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","prototype","arg","encodingOrOffset","this","allocUnsafe","from","value","TypeError","ArrayBuffer","array","byteOffset","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","n","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","g","foo","subarray","e","typedArraySupport","poolSize","_augment","Symbol","species","Object","defineProperty","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","max","match","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","Infinity","leadSurrogate","trim","replace","stringtrim","base64clean","src","dst","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","abs","log","LN2","module","rotatePoints","points","center","degrees","cx","cy","angle","PI","cos","sin","forEach","p","lineLength","line","p1","p2","sqrt","lineIntersection","a1","b1","c1","a2","b2","c2","determinant","isPointInPolygon","vertices","extreme","MAX_SAFE_INTEGER","count","current","next","doIntersect","orientation","onSegment","q","r","q1","q2","o1","o2","o3","o4","polygonHachureLines","o","rotationCenter","round","hachureAngle","lines","gap","hachureGap","strokeWidth","edges","ymin","ymax","islope","sort","e1","e2","activeEdges","ix","splice","edge","filter","ae","ae1","ae2","nexti","ce","ne","straightHachureLines","rotateLines","HachureFiller","helper","_fillPolygon","connectEnds","connectingLines","ops","renderLines","doubleLineOps","polygon","result","prev","segment","segSplits","splitOnIntersections","error","intersections","ip","d0","d1","point","distance","ips","map","shift","pop","midPointInPolygon","spoints","slines","subSegment","ZigZagFiller","HatchFiller","assign","set2","DotFiller","curveStepCount","roughness","dotsOnLines","fweight","fillWeight","ro","dl","ceil","minY","randOffsetWithRange","el","ellipse","DashedFiller","dashedLine","dashOffset","dashGap","startOffset","alpha","atan","lstart","lend","ZigZagLineFiller","zo","zigzagOffset","zigzagLines","dz","middle","fillers","Random","seed","imul","random","PARAMS","A","C","H","h","L","l","M","Q","S","T","t","V","v","Z","z","isType","token","parsePath","segments","tokens","RegExp","$1","text","parseFloat","tokenize","mode","index","paramsCount","params","numbeToken","key","absolutize","subx","suby","newdata","normalize","lastType","lcx","lcy","cx1","cy1","x1","y1","cx2","cy2","r1","r2","largeArcFlag","sweepFlag","arcToCubicCurves","curve","rotate","angleRad","x2","y2","recursive","f1","f2","r1Pow","r2Pow","left","right","k","asin","toFixed","df","f2old","x2old","y2old","s1","s2","tan","hx","hy","m1","m2","m3","m4","curves","r3","randOffset","_offsetOpt","_offset","width","height","ellipseWithParams","generateEllipseParams","opset","_doubleLine","linearPath","close","psq","stepCount","increment","rx","ry","curveFitRandomness","curveFitting","ellipseParams","ap1","cp1","_computeEllipsePoints","_curve","disableMultiStroke","ap2","estimatedPoints","arc","stop","closed","roughClosure","strt","stp","ellipseInc","arcInc","_arc","op","solidFillPolygon","maxRandomnessOffset","patternFillPolygon","fillerName","fillStyle","getFiller","fillPolygon","randomizer","roughnessGain","filling","singleStroke","disableMultiStrokeFill","_line","move","overlay","lengthSq","halfOffset","divergePoint","midDispX","bowing","midDispY","randomHalf","randomFull","_curveWithOffset","ps","closePoint","curveTightness","cachedVertArray","overlap","corePoints","allPoints","radOffset","_bezierTo","ros","f","iterations","clone","distanceSq","distanceToSegmentSq","w","l2","lerp","getPointsOnBezierCurveWithSplitting","tolerance","newPoints","outPoints","p3","p4","ux","uy","vx","vy","flatness","p0","q3","red","simplify","simplifyPoints","epsilon","maxDistSq","maxNdx","distSq","pointsOnBezierCurves","numSegments","NOS","RoughGenerator","config","defaultOptions","stroke","combineNestedSvgPaths","options","_o","shape","sets","_d","paths","outline","rectangle","ellipseResponse","diameter","patternFillArc","cloneOptionsAlterSeed","polyPoints","pointsIn","curveToBezier","hasFill","hasStroke","simplified","simplification","path","normalized","currentPoints","pendingCurve","appendPendingCurve","appendPendingPoints","lastPoint","simplifiedSet","pointsOnPath","combined","first","svgPath","drawing","item","drawable","opsToPath","fillSketch","RoughCanvas","canvas","ctx","getContext","gen","getDefaultOptions","save","strokeStyle","lineWidth","strokeLineDash","setLineDash","strokeLineDashOffset","lineDashOffset","_drawToContext","restore","fillRule","fillLineDash","fillLineDashOffset","rule","beginPath","moveTo","bezierCurveTo","lineTo","draw","circle","window","__webpack_public_path__","document","querySelector","getAttribute","Scalar","getTypedArray","dataview","metadata","dtype","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","isScalar","Arg","ScalarArg","super","idx","BufferArg","bufferMetadata","toBlob","Promise","resolve","reject","blob","buffers","reader","FileReader","onloadend","Uint8ClampedArray","readAsArrayBuffer","Blob","img","Image","onload","URL","createObjectURL","MODULE_VERSION","version","MODULE_NAME","name","context","createImageFromWidget","image","url","format","get","TextDecoder","decode","COMMANDS","Path2DModel","WidgetModel","defaults","_model_name","model_name","_model_module","model_module","_model_module_version","model_module_version","attributes","initialize","Path2D","PatternModel","repetition","patternSource","CanvasModel","MultiCanvasModel","pattern","createPattern","serializers","deserialize","unpack_models","createElement","GradientModel","x0","y0","color_stops","createGradient","colorStop","addColorStop","createLinearGradient","LinearGradientModel","RadialGradientModel","r0","createRadialGradient","DOMWidgetModel","_view_name","view_name","_view_module","view_module","_view_module_version","view_module_version","sync_image_data","image_data","_send_client_ready_event","resizeCanvas","drawImageData","on_some_change","on","syncImageData","bind","onCommand","send","event","fromBytes","drawImage","trigger","command","commands","JSON","parse","processCommand","forEachView","view","updateCanvas","remainingBuffers","subcommand","subbuffers","nBuffers","args","sleep","fillRect","strokeRect","drawRects","fillArc","strokeArc","drawArcs","fillCircle","strokeCircle","drawCircles","strokeLine","strokeLines","strokePolygon","fillPath","putImageData","setAttr","clearCanvas","executeCommand","time","setTimeout","callback","getArg","numberRects","getItem","radius","startAngle","endAngle","anticlockwise","closePath","numberArcs","numberCircles","serializedPath","widget_manager","serializedImage","_drawImage","dx","dy","imageData","ImageData","offscreenCanvas","attr","startsWith","widgetModel","ATTRS","clear","clearRect","view_id","views","then","setAttribute","toBytes","save_changes","serialize","DataView","RoughCanvasModel","roughFillStyle","roughCanvas","getRoughFillStyle","getRoughStrokeStyle","ellipseSize","ROUGH_ATTRS","CanvasView","DOMWidgetView","model","addEventListener","handleEvent","onMouseMove","onMouseDown","onMouseUp","onMouseOut","onTouchStart","onTouchEnd","onTouchMove","onTouchCancel","getCoordinates","touches","rect","getBoundingClientRect","clientX","clientY","top","_canvases","updateCanvasModels","canvasModel","canvasModels","__WEBPACK_EXTERNAL_MODULE__612__","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","definition","enumerable","globalThis","Function","prop","hasOwnProperty","toStringTag"],"mappings":"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","file":"index.js","sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","export function rotatePoints(points, center, degrees) {\n    if (points && points.length) {\n        const [cx, cy] = center;\n        const angle = (Math.PI / 180) * degrees;\n        const cos = Math.cos(angle);\n        const sin = Math.sin(angle);\n        points.forEach((p) => {\n            const [x, y] = p;\n            p[0] = ((x - cx) * cos) - ((y - cy) * sin) + cx;\n            p[1] = ((x - cx) * sin) + ((y - cy) * cos) + cy;\n        });\n    }\n}\nexport function rotateLines(lines, center, degrees) {\n    const points = [];\n    lines.forEach((line) => points.push(...line));\n    rotatePoints(points, center, degrees);\n}\nexport function lineLength(line) {\n    const p1 = line[0];\n    const p2 = line[1];\n    return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}\nexport function lineIntersection(a, b, c, d) {\n    const a1 = b[1] - a[1];\n    const b1 = a[0] - b[0];\n    const c1 = a1 * (a[0]) + b1 * (a[1]);\n    const a2 = d[1] - c[1];\n    const b2 = c[0] - d[0];\n    const c2 = a2 * (c[0]) + b2 * (c[1]);\n    const determinant = a1 * b2 - a2 * b1;\n    return determinant ? [(b2 * c1 - b1 * c2) / determinant, (a1 * c2 - a2 * c1) / determinant] : null;\n}\nexport function isPointInPolygon(points, x, y) {\n    const vertices = points.length;\n    // There must be at least 3 vertices in polygon\n    if (vertices < 3) {\n        return false;\n    }\n    const extreme = [Number.MAX_SAFE_INTEGER, y];\n    const p = [x, y];\n    let count = 0;\n    for (let i = 0; i < vertices; i++) {\n        const current = points[i];\n        const next = points[(i + 1) % vertices];\n        if (doIntersect(current, next, p, extreme)) {\n            if (orientation(current, p, next) === 0) {\n                return onSegment(current, p, next);\n            }\n            count++;\n        }\n    }\n    // true if count is off\n    return count % 2 === 1;\n}\n// Check if q lies on the line segment pr\nfunction onSegment(p, q, r) {\n    return (q[0] <= Math.max(p[0], r[0]) &&\n        q[0] >= Math.min(p[0], r[0]) &&\n        q[1] <= Math.max(p[1], r[1]) &&\n        q[1] >= Math.min(p[1], r[1]));\n}\n// For the ordered points p, q, r, return\n// 0 if p, q, r are collinear\n// 1 if Clockwise\n// 2 if counterclickwise\nfunction orientation(p, q, r) {\n    const val = (q[1] - p[1]) * (r[0] - q[0]) - (q[0] - p[0]) * (r[1] - q[1]);\n    if (val === 0) {\n        return 0;\n    }\n    return val > 0 ? 1 : 2;\n}\n// Check is p1q1 intersects with p2q2\nexport function doIntersect(p1, q1, p2, q2) {\n    const o1 = orientation(p1, q1, p2);\n    const o2 = orientation(p1, q1, q2);\n    const o3 = orientation(p2, q2, p1);\n    const o4 = orientation(p2, q2, q1);\n    if (o1 !== o2 && o3 !== o4) {\n        return true;\n    }\n    // p1, q1 and p2 are colinear and p2 lies on segment p1q1\n    if (o1 === 0 && onSegment(p1, p2, q1)) {\n        return true;\n    }\n    // p1, q1 and p2 are colinear and q2 lies on segment p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) {\n        return true;\n    }\n    // p2, q2 and p1 are colinear and p1 lies on segment p2q2\n    if (o3 === 0 && onSegment(p2, p1, q2)) {\n        return true;\n    }\n    // p2, q2 and q1 are colinear and q1 lies on segment p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) {\n        return true;\n    }\n    return false;\n}\n","import { rotatePoints, rotateLines } from '../geometry';\nexport function polygonHachureLines(points, o) {\n    const rotationCenter = [0, 0];\n    const angle = Math.round(o.hachureAngle + 90);\n    if (angle) {\n        rotatePoints(points, rotationCenter, angle);\n    }\n    const lines = straightHachureLines(points, o);\n    if (angle) {\n        rotatePoints(points, rotationCenter, -angle);\n        rotateLines(lines, rotationCenter, -angle);\n    }\n    return lines;\n}\nfunction straightHachureLines(points, o) {\n    const vertices = [...points];\n    if (vertices[0].join(',') !== vertices[vertices.length - 1].join(',')) {\n        vertices.push([vertices[0][0], vertices[0][1]]);\n    }\n    const lines = [];\n    if (vertices && vertices.length > 2) {\n        let gap = o.hachureGap;\n        if (gap < 0) {\n            gap = o.strokeWidth * 4;\n        }\n        gap = Math.max(gap, 0.1);\n        // Create sorted edges table\n        const edges = [];\n        for (let i = 0; i < vertices.length - 1; i++) {\n            const p1 = vertices[i];\n            const p2 = vertices[i + 1];\n            if (p1[1] !== p2[1]) {\n                const ymin = Math.min(p1[1], p2[1]);\n                edges.push({\n                    ymin,\n                    ymax: Math.max(p1[1], p2[1]),\n                    x: ymin === p1[1] ? p1[0] : p2[0],\n                    islope: (p2[0] - p1[0]) / (p2[1] - p1[1])\n                });\n            }\n        }\n        edges.sort((e1, e2) => {\n            if (e1.ymin < e2.ymin) {\n                return -1;\n            }\n            if (e1.ymin > e2.ymin) {\n                return 1;\n            }\n            if (e1.x < e2.x) {\n                return -1;\n            }\n            if (e1.x > e2.x) {\n                return 1;\n            }\n            if (e1.ymax === e2.ymax) {\n                return 0;\n            }\n            return (e1.ymax - e2.ymax) / Math.abs((e1.ymax - e2.ymax));\n        });\n        if (!edges.length) {\n            return lines;\n        }\n        // Start scanning\n        let activeEdges = [];\n        let y = edges[0].ymin;\n        while (activeEdges.length || edges.length) {\n            if (edges.length) {\n                let ix = -1;\n                for (let i = 0; i < edges.length; i++) {\n                    if (edges[i].ymin > y) {\n                        break;\n                    }\n                    ix = i;\n                }\n                const removed = edges.splice(0, ix + 1);\n                removed.forEach((edge) => {\n                    activeEdges.push({ s: y, edge });\n                });\n            }\n            activeEdges = activeEdges.filter((ae) => {\n                if (ae.edge.ymax <= y) {\n                    return false;\n                }\n                return true;\n            });\n            activeEdges.sort((ae1, ae2) => {\n                if (ae1.edge.x === ae2.edge.x) {\n                    return 0;\n                }\n                return (ae1.edge.x - ae2.edge.x) / Math.abs((ae1.edge.x - ae2.edge.x));\n            });\n            // fill between the edges\n            if (activeEdges.length > 1) {\n                for (let i = 0; i < activeEdges.length; i = i + 2) {\n                    const nexti = i + 1;\n                    if (nexti >= activeEdges.length) {\n                        break;\n                    }\n                    const ce = activeEdges[i].edge;\n                    const ne = activeEdges[nexti].edge;\n                    lines.push([\n                        [Math.round(ce.x), y],\n                        [Math.round(ne.x), y]\n                    ]);\n                }\n            }\n            y += gap;\n            activeEdges.forEach((ae) => {\n                ae.edge.x = ae.edge.x + (gap * ae.edge.islope);\n            });\n        }\n    }\n    return lines;\n}\n","import { lineLength, lineIntersection, doIntersect, isPointInPolygon } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport class HachureFiller {\n    constructor(helper) {\n        this.helper = helper;\n    }\n    fillPolygon(points, o) {\n        return this._fillPolygon(points, o);\n    }\n    _fillPolygon(points, o, connectEnds = false) {\n        let lines = polygonHachureLines(points, o);\n        if (connectEnds) {\n            const connectingLines = this.connectingLines(points, lines);\n            lines = lines.concat(connectingLines);\n        }\n        const ops = this.renderLines(lines, o);\n        return { type: 'fillSketch', ops };\n    }\n    renderLines(lines, o) {\n        const ops = [];\n        for (const line of lines) {\n            ops.push(...this.helper.doubleLineOps(line[0][0], line[0][1], line[1][0], line[1][1], o));\n        }\n        return ops;\n    }\n    connectingLines(polygon, lines) {\n        const result = [];\n        if (lines.length > 1) {\n            for (let i = 1; i < lines.length; i++) {\n                const prev = lines[i - 1];\n                if (lineLength(prev) < 3) {\n                    continue;\n                }\n                const current = lines[i];\n                const segment = [current[0], prev[1]];\n                if (lineLength(segment) > 3) {\n                    const segSplits = this.splitOnIntersections(polygon, segment);\n                    result.push(...segSplits);\n                }\n            }\n        }\n        return result;\n    }\n    midPointInPolygon(polygon, segment) {\n        return isPointInPolygon(polygon, (segment[0][0] + segment[1][0]) / 2, (segment[0][1] + segment[1][1]) / 2);\n    }\n    splitOnIntersections(polygon, segment) {\n        const error = Math.max(5, lineLength(segment) * 0.1);\n        const intersections = [];\n        for (let i = 0; i < polygon.length; i++) {\n            const p1 = polygon[i];\n            const p2 = polygon[(i + 1) % polygon.length];\n            if (doIntersect(p1, p2, ...segment)) {\n                const ip = lineIntersection(p1, p2, segment[0], segment[1]);\n                if (ip) {\n                    const d0 = lineLength([ip, segment[0]]);\n                    const d1 = lineLength([ip, segment[1]]);\n                    if (d0 > error && d1 > error) {\n                        intersections.push({\n                            point: ip,\n                            distance: d0\n                        });\n                    }\n                }\n            }\n        }\n        if (intersections.length > 1) {\n            const ips = intersections.sort((a, b) => a.distance - b.distance).map((d) => d.point);\n            if (!isPointInPolygon(polygon, ...segment[0])) {\n                ips.shift();\n            }\n            if (!isPointInPolygon(polygon, ...segment[1])) {\n                ips.pop();\n            }\n            if (ips.length <= 1) {\n                if (this.midPointInPolygon(polygon, segment)) {\n                    return [segment];\n                }\n                else {\n                    return [];\n                }\n            }\n            const spoints = [segment[0], ...ips, segment[1]];\n            const slines = [];\n            for (let i = 0; i < (spoints.length - 1); i += 2) {\n                const subSegment = [spoints[i], spoints[i + 1]];\n                if (this.midPointInPolygon(polygon, subSegment)) {\n                    slines.push(subSegment);\n                }\n            }\n            return slines;\n        }\n        else if (this.midPointInPolygon(polygon, segment)) {\n            return [segment];\n        }\n        else {\n            return [];\n        }\n    }\n}\n","import { HachureFiller } from './hachure-filler';\nexport class ZigZagFiller extends HachureFiller {\n    fillPolygon(points, o) {\n        return this._fillPolygon(points, o, true);\n    }\n}\n","import { HachureFiller } from './hachure-filler';\nexport class HatchFiller extends HachureFiller {\n    fillPolygon(points, o) {\n        const set = this._fillPolygon(points, o);\n        const o2 = Object.assign({}, o, { hachureAngle: o.hachureAngle + 90 });\n        const set2 = this._fillPolygon(points, o2);\n        set.ops = set.ops.concat(set2.ops);\n        return set;\n    }\n}\n","import { lineLength } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport class DotFiller {\n    constructor(helper) {\n        this.helper = helper;\n    }\n    fillPolygon(points, o) {\n        o = Object.assign({}, o, { curveStepCount: 4, hachureAngle: 0, roughness: 1 });\n        const lines = polygonHachureLines(points, o);\n        return this.dotsOnLines(lines, o);\n    }\n    dotsOnLines(lines, o) {\n        const ops = [];\n        let gap = o.hachureGap;\n        if (gap < 0) {\n            gap = o.strokeWidth * 4;\n        }\n        gap = Math.max(gap, 0.1);\n        let fweight = o.fillWeight;\n        if (fweight < 0) {\n            fweight = o.strokeWidth / 2;\n        }\n        const ro = gap / 4;\n        for (const line of lines) {\n            const length = lineLength(line);\n            const dl = length / gap;\n            const count = Math.ceil(dl) - 1;\n            const offset = length - (count * gap);\n            const x = ((line[0][0] + line[1][0]) / 2) - (gap / 4);\n            const minY = Math.min(line[0][1], line[1][1]);\n            for (let i = 0; i < count; i++) {\n                const y = minY + offset + (i * gap);\n                const cx = this.helper.randOffsetWithRange(x - ro, x + ro, o);\n                const cy = this.helper.randOffsetWithRange(y - ro, y + ro, o);\n                const el = this.helper.ellipse(cx, cy, fweight, fweight, o);\n                ops.push(...el.ops);\n            }\n        }\n        return { type: 'fillSketch', ops };\n    }\n}\n","import { lineLength } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport class DashedFiller {\n    constructor(helper) {\n        this.helper = helper;\n    }\n    fillPolygon(points, o) {\n        const lines = polygonHachureLines(points, o);\n        return { type: 'fillSketch', ops: this.dashedLine(lines, o) };\n    }\n    dashedLine(lines, o) {\n        const offset = o.dashOffset < 0 ? (o.hachureGap < 0 ? (o.strokeWidth * 4) : o.hachureGap) : o.dashOffset;\n        const gap = o.dashGap < 0 ? (o.hachureGap < 0 ? (o.strokeWidth * 4) : o.hachureGap) : o.dashGap;\n        const ops = [];\n        lines.forEach((line) => {\n            const length = lineLength(line);\n            const count = Math.floor(length / (offset + gap));\n            const startOffset = (length + gap - (count * (offset + gap))) / 2;\n            let p1 = line[0];\n            let p2 = line[1];\n            if (p1[0] > p2[0]) {\n                p1 = line[1];\n                p2 = line[0];\n            }\n            const alpha = Math.atan((p2[1] - p1[1]) / (p2[0] - p1[0]));\n            for (let i = 0; i < count; i++) {\n                const lstart = i * (offset + gap);\n                const lend = lstart + offset;\n                const start = [p1[0] + (lstart * Math.cos(alpha)) + (startOffset * Math.cos(alpha)), p1[1] + lstart * Math.sin(alpha) + (startOffset * Math.sin(alpha))];\n                const end = [p1[0] + (lend * Math.cos(alpha)) + (startOffset * Math.cos(alpha)), p1[1] + (lend * Math.sin(alpha)) + (startOffset * Math.sin(alpha))];\n                ops.push(...this.helper.doubleLineOps(start[0], start[1], end[0], end[1], o));\n            }\n        });\n        return ops;\n    }\n}\n","import { lineLength } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport class ZigZagLineFiller {\n    constructor(helper) {\n        this.helper = helper;\n    }\n    fillPolygon(points, o) {\n        const gap = o.hachureGap < 0 ? (o.strokeWidth * 4) : o.hachureGap;\n        const zo = o.zigzagOffset < 0 ? gap : o.zigzagOffset;\n        o = Object.assign({}, o, { hachureGap: gap + zo });\n        const lines = polygonHachureLines(points, o);\n        return { type: 'fillSketch', ops: this.zigzagLines(lines, zo, o) };\n    }\n    zigzagLines(lines, zo, o) {\n        const ops = [];\n        lines.forEach((line) => {\n            const length = lineLength(line);\n            const count = Math.round(length / (2 * zo));\n            let p1 = line[0];\n            let p2 = line[1];\n            if (p1[0] > p2[0]) {\n                p1 = line[1];\n                p2 = line[0];\n            }\n            const alpha = Math.atan((p2[1] - p1[1]) / (p2[0] - p1[0]));\n            for (let i = 0; i < count; i++) {\n                const lstart = i * 2 * zo;\n                const lend = (i + 1) * 2 * zo;\n                const dz = Math.sqrt(2 * Math.pow(zo, 2));\n                const start = [p1[0] + (lstart * Math.cos(alpha)), p1[1] + lstart * Math.sin(alpha)];\n                const end = [p1[0] + (lend * Math.cos(alpha)), p1[1] + (lend * Math.sin(alpha))];\n                const middle = [start[0] + dz * Math.cos(alpha + Math.PI / 4), start[1] + dz * Math.sin(alpha + Math.PI / 4)];\n                ops.push(...this.helper.doubleLineOps(start[0], start[1], middle[0], middle[1], o), ...this.helper.doubleLineOps(middle[0], middle[1], end[0], end[1], o));\n            }\n        });\n        return ops;\n    }\n}\n","import { HachureFiller } from './hachure-filler';\nimport { ZigZagFiller } from './zigzag-filler';\nimport { HatchFiller } from './hatch-filler';\nimport { DotFiller } from './dot-filler';\nimport { DashedFiller } from './dashed-filler';\nimport { ZigZagLineFiller } from './zigzag-line-filler';\nconst fillers = {};\nexport function getFiller(o, helper) {\n    let fillerName = o.fillStyle || 'hachure';\n    if (!fillers[fillerName]) {\n        switch (fillerName) {\n            case 'zigzag':\n                if (!fillers[fillerName]) {\n                    fillers[fillerName] = new ZigZagFiller(helper);\n                }\n                break;\n            case 'cross-hatch':\n                if (!fillers[fillerName]) {\n                    fillers[fillerName] = new HatchFiller(helper);\n                }\n                break;\n            case 'dots':\n                if (!fillers[fillerName]) {\n                    fillers[fillerName] = new DotFiller(helper);\n                }\n                break;\n            case 'dashed':\n                if (!fillers[fillerName]) {\n                    fillers[fillerName] = new DashedFiller(helper);\n                }\n                break;\n            case 'zigzag-line':\n                if (!fillers[fillerName]) {\n                    fillers[fillerName] = new ZigZagLineFiller(helper);\n                }\n                break;\n            case 'hachure':\n            default:\n                fillerName = 'hachure';\n                if (!fillers[fillerName]) {\n                    fillers[fillerName] = new HachureFiller(helper);\n                }\n                break;\n        }\n    }\n    return fillers[fillerName];\n}\n","export function randomSeed() {\n    return Math.floor(Math.random() * 2 ** 31);\n}\nexport class Random {\n    constructor(seed) {\n        this.seed = seed;\n    }\n    next() {\n        if (this.seed) {\n            return ((2 ** 31 - 1) & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31;\n        }\n        else {\n            return Math.random();\n        }\n    }\n}\n","const COMMAND = 0;\nconst NUMBER = 1;\nconst EOD = 2;\nconst PARAMS = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };\nfunction tokenize(d) {\n    const tokens = new Array();\n    while (d !== '') {\n        if (d.match(/^([ \\t\\r\\n,]+)/)) {\n            d = d.substr(RegExp.$1.length);\n        }\n        else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {\n            tokens[tokens.length] = { type: COMMAND, text: RegExp.$1 };\n            d = d.substr(RegExp.$1.length);\n        }\n        else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {\n            tokens[tokens.length] = { type: NUMBER, text: `${parseFloat(RegExp.$1)}` };\n            d = d.substr(RegExp.$1.length);\n        }\n        else {\n            return [];\n        }\n    }\n    tokens[tokens.length] = { type: EOD, text: '' };\n    return tokens;\n}\nfunction isType(token, type) {\n    return token.type === type;\n}\nexport function parsePath(d) {\n    const segments = [];\n    const tokens = tokenize(d);\n    let mode = 'BOD';\n    let index = 0;\n    let token = tokens[index];\n    while (!isType(token, EOD)) {\n        let paramsCount = 0;\n        const params = [];\n        if (mode === 'BOD') {\n            if (token.text === 'M' || token.text === 'm') {\n                index++;\n                paramsCount = PARAMS[token.text];\n                mode = token.text;\n            }\n            else {\n                return parsePath('M0,0' + d);\n            }\n        }\n        else if (isType(token, NUMBER)) {\n            paramsCount = PARAMS[mode];\n        }\n        else {\n            index++;\n            paramsCount = PARAMS[token.text];\n            mode = token.text;\n        }\n        if ((index + paramsCount) < tokens.length) {\n            for (let i = index; i < index + paramsCount; i++) {\n                const numbeToken = tokens[i];\n                if (isType(numbeToken, NUMBER)) {\n                    params[params.length] = +numbeToken.text;\n                }\n                else {\n                    throw new Error('Param not a number: ' + mode + ',' + numbeToken.text);\n                }\n            }\n            if (typeof PARAMS[mode] === 'number') {\n                const segment = { key: mode, data: params };\n                segments.push(segment);\n                index += paramsCount;\n                token = tokens[index];\n                if (mode === 'M')\n                    mode = 'L';\n                if (mode === 'm')\n                    mode = 'l';\n            }\n            else {\n                throw new Error('Bad segment: ' + mode);\n            }\n        }\n        else {\n            throw new Error('Path data ended short');\n        }\n    }\n    return segments;\n}\nexport function serialize(segments) {\n    const tokens = [];\n    for (const { key, data } of segments) {\n        tokens.push(key);\n        switch (key) {\n            case 'C':\n            case 'c':\n                tokens.push(data[0], `${data[1]},`, data[2], `${data[3]},`, data[4], data[5]);\n                break;\n            case 'S':\n            case 's':\n            case 'Q':\n            case 'q':\n                tokens.push(data[0], `${data[1]},`, data[2], data[3]);\n                break;\n            default:\n                tokens.push(...data);\n                break;\n        }\n    }\n    return tokens.join(' ');\n}\n","// Translate relative commands to absolute commands\nexport function absolutize(segments) {\n    let cx = 0, cy = 0;\n    let subx = 0, suby = 0;\n    const out = [];\n    for (const { key, data } of segments) {\n        switch (key) {\n            case 'M':\n                out.push({ key: 'M', data: [...data] });\n                [cx, cy] = data;\n                [subx, suby] = data;\n                break;\n            case 'm':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: 'M', data: [cx, cy] });\n                subx = cx;\n                suby = cy;\n                break;\n            case 'L':\n                out.push({ key: 'L', data: [...data] });\n                [cx, cy] = data;\n                break;\n            case 'l':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: 'L', data: [cx, cy] });\n                break;\n            case 'C':\n                out.push({ key: 'C', data: [...data] });\n                cx = data[4];\n                cy = data[5];\n                break;\n            case 'c': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: 'C', data: newdata });\n                cx = newdata[4];\n                cy = newdata[5];\n                break;\n            }\n            case 'Q':\n                out.push({ key: 'Q', data: [...data] });\n                cx = data[2];\n                cy = data[3];\n                break;\n            case 'q': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: 'Q', data: newdata });\n                cx = newdata[2];\n                cy = newdata[3];\n                break;\n            }\n            case 'A':\n                out.push({ key: 'A', data: [...data] });\n                cx = data[5];\n                cy = data[6];\n                break;\n            case 'a':\n                cx += data[5];\n                cy += data[6];\n                out.push({ key: 'A', data: [data[0], data[1], data[2], data[3], data[4], cx, cy] });\n                break;\n            case 'H':\n                out.push({ key: 'H', data: [...data] });\n                cx = data[0];\n                break;\n            case 'h':\n                cx += data[0];\n                out.push({ key: 'H', data: [cx] });\n                break;\n            case 'V':\n                out.push({ key: 'V', data: [...data] });\n                cy = data[0];\n                break;\n            case 'v':\n                cy += data[0];\n                out.push({ key: 'V', data: [cy] });\n                break;\n            case 'S':\n                out.push({ key: 'S', data: [...data] });\n                cx = data[2];\n                cy = data[3];\n                break;\n            case 's': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: 'S', data: newdata });\n                cx = newdata[2];\n                cy = newdata[3];\n                break;\n            }\n            case 'T':\n                out.push({ key: 'T', data: [...data] });\n                cx = data[0];\n                cy = data[1];\n                break;\n            case 't':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: 'T', data: [cx, cy] });\n                break;\n            case 'Z':\n            case 'z':\n                out.push({ key: 'Z', data: [] });\n                cx = subx;\n                cy = suby;\n                break;\n        }\n    }\n    return out;\n}\n","// Normalize path to include only M, L, C, and Z commands\nexport function normalize(segments) {\n    const out = [];\n    let lastType = '';\n    let cx = 0, cy = 0;\n    let subx = 0, suby = 0;\n    let lcx = 0, lcy = 0;\n    for (const { key, data } of segments) {\n        switch (key) {\n            case 'M':\n                out.push({ key: 'M', data: [...data] });\n                [cx, cy] = data;\n                [subx, suby] = data;\n                break;\n            case 'C':\n                out.push({ key: 'C', data: [...data] });\n                cx = data[4];\n                cy = data[5];\n                lcx = data[2];\n                lcy = data[3];\n                break;\n            case 'L':\n                out.push({ key: 'L', data: [...data] });\n                [cx, cy] = data;\n                break;\n            case 'H':\n                cx = data[0];\n                out.push({ key: 'L', data: [cx, cy] });\n                break;\n            case 'V':\n                cy = data[0];\n                out.push({ key: 'L', data: [cx, cy] });\n                break;\n            case 'S': {\n                let cx1 = 0, cy1 = 0;\n                if (lastType === 'C' || lastType === 'S') {\n                    cx1 = cx + (cx - lcx);\n                    cy1 = cy + (cy - lcy);\n                }\n                else {\n                    cx1 = cx;\n                    cy1 = cy;\n                }\n                out.push({ key: 'C', data: [cx1, cy1, ...data] });\n                lcx = data[0];\n                lcy = data[1];\n                cx = data[2];\n                cy = data[3];\n                break;\n            }\n            case 'T': {\n                const [x, y] = data;\n                let x1 = 0, y1 = 0;\n                if (lastType === 'Q' || lastType === 'T') {\n                    x1 = cx + (cx - lcx);\n                    y1 = cy + (cy - lcy);\n                }\n                else {\n                    x1 = cx;\n                    y1 = cy;\n                }\n                const cx1 = cx + 2 * (x1 - cx) / 3;\n                const cy1 = cy + 2 * (y1 - cy) / 3;\n                const cx2 = x + 2 * (x1 - x) / 3;\n                const cy2 = y + 2 * (y1 - y) / 3;\n                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });\n                lcx = x1;\n                lcy = y1;\n                cx = x;\n                cy = y;\n                break;\n            }\n            case 'Q': {\n                const [x1, y1, x, y] = data;\n                const cx1 = cx + 2 * (x1 - cx) / 3;\n                const cy1 = cy + 2 * (y1 - cy) / 3;\n                const cx2 = x + 2 * (x1 - x) / 3;\n                const cy2 = y + 2 * (y1 - y) / 3;\n                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });\n                lcx = x1;\n                lcy = y1;\n                cx = x;\n                cy = y;\n                break;\n            }\n            case 'A': {\n                const r1 = Math.abs(data[0]);\n                const r2 = Math.abs(data[1]);\n                const angle = data[2];\n                const largeArcFlag = data[3];\n                const sweepFlag = data[4];\n                const x = data[5];\n                const y = data[6];\n                if (r1 === 0 || r2 === 0) {\n                    out.push({ key: 'C', data: [cx, cy, x, y, x, y] });\n                    cx = x;\n                    cy = y;\n                }\n                else {\n                    if (cx !== x || cy !== y) {\n                        const curves = arcToCubicCurves(cx, cy, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n                        curves.forEach(function (curve) {\n                            out.push({ key: 'C', data: curve });\n                        });\n                        cx = x;\n                        cy = y;\n                    }\n                }\n                break;\n            }\n            case 'Z':\n                out.push({ key: 'Z', data: [] });\n                cx = subx;\n                cy = suby;\n                break;\n        }\n        lastType = key;\n    }\n    return out;\n}\nfunction degToRad(degrees) {\n    return (Math.PI * degrees) / 180;\n}\nfunction rotate(x, y, angleRad) {\n    const X = x * Math.cos(angleRad) - y * Math.sin(angleRad);\n    const Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);\n    return [X, Y];\n}\nfunction arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {\n    const angleRad = degToRad(angle);\n    let params = [];\n    let f1 = 0, f2 = 0, cx = 0, cy = 0;\n    if (recursive) {\n        [f1, f2, cx, cy] = recursive;\n    }\n    else {\n        [x1, y1] = rotate(x1, y1, -angleRad);\n        [x2, y2] = rotate(x2, y2, -angleRad);\n        const x = (x1 - x2) / 2;\n        const y = (y1 - y2) / 2;\n        let h = (x * x) / (r1 * r1) + (y * y) / (r2 * r2);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            r1 = h * r1;\n            r2 = h * r2;\n        }\n        const sign = (largeArcFlag === sweepFlag) ? -1 : 1;\n        const r1Pow = r1 * r1;\n        const r2Pow = r2 * r2;\n        const left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;\n        const right = r1Pow * y * y + r2Pow * x * x;\n        const k = sign * Math.sqrt(Math.abs(left / right));\n        cx = k * r1 * y / r2 + (x1 + x2) / 2;\n        cy = k * -r2 * x / r1 + (y1 + y2) / 2;\n        f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));\n        f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));\n        if (x1 < cx) {\n            f1 = Math.PI - f1;\n        }\n        if (x2 < cx) {\n            f2 = Math.PI - f2;\n        }\n        if (f1 < 0) {\n            f1 = Math.PI * 2 + f1;\n        }\n        if (f2 < 0) {\n            f2 = Math.PI * 2 + f2;\n        }\n        if (sweepFlag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweepFlag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    let df = f2 - f1;\n    if (Math.abs(df) > (Math.PI * 120 / 180)) {\n        const f2old = f2;\n        const x2old = x2;\n        const y2old = y2;\n        if (sweepFlag && f2 > f1) {\n            f2 = f1 + (Math.PI * 120 / 180) * (1);\n        }\n        else {\n            f2 = f1 + (Math.PI * 120 / 180) * (-1);\n        }\n        x2 = cx + r1 * Math.cos(f2);\n        y2 = cy + r2 * Math.sin(f2);\n        params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    const c1 = Math.cos(f1);\n    const s1 = Math.sin(f1);\n    const c2 = Math.cos(f2);\n    const s2 = Math.sin(f2);\n    const t = Math.tan(df / 4);\n    const hx = 4 / 3 * r1 * t;\n    const hy = 4 / 3 * r2 * t;\n    const m1 = [x1, y1];\n    const m2 = [x1 + hx * s1, y1 - hy * c1];\n    const m3 = [x2 + hx * s2, y2 - hy * c2];\n    const m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(params);\n    }\n    else {\n        params = [m2, m3, m4].concat(params);\n        const curves = [];\n        for (let i = 0; i < params.length; i += 3) {\n            const r1 = rotate(params[i][0], params[i][1], angleRad);\n            const r2 = rotate(params[i + 1][0], params[i + 1][1], angleRad);\n            const r3 = rotate(params[i + 2][0], params[i + 2][1], angleRad);\n            curves.push([r1[0], r1[1], r2[0], r2[1], r3[0], r3[1]]);\n        }\n        return curves;\n    }\n}\n","import { getFiller } from './fillers/filler.js';\nimport { Random } from './math.js';\nimport { parsePath, normalize, absolutize } from 'path-data-parser';\nconst helper = {\n    randOffset,\n    randOffsetWithRange,\n    ellipse,\n    doubleLineOps: doubleLineFillOps\n};\nexport function line(x1, y1, x2, y2, o) {\n    return { type: 'path', ops: _doubleLine(x1, y1, x2, y2, o) };\n}\nexport function linearPath(points, close, o) {\n    const len = (points || []).length;\n    if (len > 2) {\n        const ops = [];\n        for (let i = 0; i < (len - 1); i++) {\n            ops.push(..._doubleLine(points[i][0], points[i][1], points[i + 1][0], points[i + 1][1], o));\n        }\n        if (close) {\n            ops.push(..._doubleLine(points[len - 1][0], points[len - 1][1], points[0][0], points[0][1], o));\n        }\n        return { type: 'path', ops };\n    }\n    else if (len === 2) {\n        return line(points[0][0], points[0][1], points[1][0], points[1][1], o);\n    }\n    return { type: 'path', ops: [] };\n}\nexport function polygon(points, o) {\n    return linearPath(points, true, o);\n}\nexport function rectangle(x, y, width, height, o) {\n    const points = [\n        [x, y],\n        [x + width, y],\n        [x + width, y + height],\n        [x, y + height]\n    ];\n    return polygon(points, o);\n}\nexport function curve(points, o) {\n    let o1 = _curveWithOffset(points, 1 * (1 + o.roughness * 0.2), o);\n    if (!o.disableMultiStroke) {\n        const o2 = _curveWithOffset(points, 1.5 * (1 + o.roughness * 0.22), cloneOptionsAlterSeed(o));\n        o1 = o1.concat(o2);\n    }\n    return { type: 'path', ops: o1 };\n}\nexport function ellipse(x, y, width, height, o) {\n    const params = generateEllipseParams(width, height, o);\n    return ellipseWithParams(x, y, o, params).opset;\n}\nexport function generateEllipseParams(width, height, o) {\n    const psq = Math.sqrt(Math.PI * 2 * Math.sqrt((Math.pow(width / 2, 2) + Math.pow(height / 2, 2)) / 2));\n    const stepCount = Math.max(o.curveStepCount, (o.curveStepCount / Math.sqrt(200)) * psq);\n    const increment = (Math.PI * 2) / stepCount;\n    let rx = Math.abs(width / 2);\n    let ry = Math.abs(height / 2);\n    const curveFitRandomness = 1 - o.curveFitting;\n    rx += _offsetOpt(rx * curveFitRandomness, o);\n    ry += _offsetOpt(ry * curveFitRandomness, o);\n    return { increment, rx, ry };\n}\nexport function ellipseWithParams(x, y, o, ellipseParams) {\n    const [ap1, cp1] = _computeEllipsePoints(ellipseParams.increment, x, y, ellipseParams.rx, ellipseParams.ry, 1, ellipseParams.increment * _offset(0.1, _offset(0.4, 1, o), o), o);\n    let o1 = _curve(ap1, null, o);\n    if (!o.disableMultiStroke) {\n        const [ap2] = _computeEllipsePoints(ellipseParams.increment, x, y, ellipseParams.rx, ellipseParams.ry, 1.5, 0, o);\n        const o2 = _curve(ap2, null, o);\n        o1 = o1.concat(o2);\n    }\n    return {\n        estimatedPoints: cp1,\n        opset: { type: 'path', ops: o1 }\n    };\n}\nexport function arc(x, y, width, height, start, stop, closed, roughClosure, o) {\n    const cx = x;\n    const cy = y;\n    let rx = Math.abs(width / 2);\n    let ry = Math.abs(height / 2);\n    rx += _offsetOpt(rx * 0.01, o);\n    ry += _offsetOpt(ry * 0.01, o);\n    let strt = start;\n    let stp = stop;\n    while (strt < 0) {\n        strt += Math.PI * 2;\n        stp += Math.PI * 2;\n    }\n    if ((stp - strt) > (Math.PI * 2)) {\n        strt = 0;\n        stp = Math.PI * 2;\n    }\n    const ellipseInc = (Math.PI * 2) / o.curveStepCount;\n    const arcInc = Math.min(ellipseInc / 2, (stp - strt) / 2);\n    const ops = _arc(arcInc, cx, cy, rx, ry, strt, stp, 1, o);\n    if (!o.disableMultiStroke) {\n        const o2 = _arc(arcInc, cx, cy, rx, ry, strt, stp, 1.5, o);\n        ops.push(...o2);\n    }\n    if (closed) {\n        if (roughClosure) {\n            ops.push(..._doubleLine(cx, cy, cx + rx * Math.cos(strt), cy + ry * Math.sin(strt), o), ..._doubleLine(cx, cy, cx + rx * Math.cos(stp), cy + ry * Math.sin(stp), o));\n        }\n        else {\n            ops.push({ op: 'lineTo', data: [cx, cy] }, { op: 'lineTo', data: [cx + rx * Math.cos(strt), cy + ry * Math.sin(strt)] });\n        }\n    }\n    return { type: 'path', ops };\n}\nexport function svgPath(path, o) {\n    const segments = normalize(absolutize(parsePath(path)));\n    const ops = [];\n    let first = [0, 0];\n    let current = [0, 0];\n    for (const { key, data } of segments) {\n        switch (key) {\n            case 'M': {\n                const ro = 1 * (o.maxRandomnessOffset || 0);\n                ops.push({ op: 'move', data: data.map((d) => d + _offsetOpt(ro, o)) });\n                current = [data[0], data[1]];\n                first = [data[0], data[1]];\n                break;\n            }\n            case 'L':\n                ops.push(..._doubleLine(current[0], current[1], data[0], data[1], o));\n                current = [data[0], data[1]];\n                break;\n            case 'C': {\n                const [x1, y1, x2, y2, x, y] = data;\n                ops.push(..._bezierTo(x1, y1, x2, y2, x, y, current, o));\n                current = [x, y];\n                break;\n            }\n            case 'Z':\n                ops.push(..._doubleLine(current[0], current[1], first[0], first[1], o));\n                current = [first[0], first[1]];\n                break;\n        }\n    }\n    return { type: 'path', ops };\n}\n// Fills\nexport function solidFillPolygon(points, o) {\n    const ops = [];\n    if (points.length) {\n        const offset = o.maxRandomnessOffset || 0;\n        const len = points.length;\n        if (len > 2) {\n            ops.push({ op: 'move', data: [points[0][0] + _offsetOpt(offset, o), points[0][1] + _offsetOpt(offset, o)] });\n            for (let i = 1; i < len; i++) {\n                ops.push({ op: 'lineTo', data: [points[i][0] + _offsetOpt(offset, o), points[i][1] + _offsetOpt(offset, o)] });\n            }\n        }\n    }\n    return { type: 'fillPath', ops };\n}\nexport function patternFillPolygon(points, o) {\n    return getFiller(o, helper).fillPolygon(points, o);\n}\nexport function patternFillArc(x, y, width, height, start, stop, o) {\n    const cx = x;\n    const cy = y;\n    let rx = Math.abs(width / 2);\n    let ry = Math.abs(height / 2);\n    rx += _offsetOpt(rx * 0.01, o);\n    ry += _offsetOpt(ry * 0.01, o);\n    let strt = start;\n    let stp = stop;\n    while (strt < 0) {\n        strt += Math.PI * 2;\n        stp += Math.PI * 2;\n    }\n    if ((stp - strt) > (Math.PI * 2)) {\n        strt = 0;\n        stp = Math.PI * 2;\n    }\n    const increment = (stp - strt) / o.curveStepCount;\n    const points = [];\n    for (let angle = strt; angle <= stp; angle = angle + increment) {\n        points.push([cx + rx * Math.cos(angle), cy + ry * Math.sin(angle)]);\n    }\n    points.push([cx + rx * Math.cos(stp), cy + ry * Math.sin(stp)]);\n    points.push([cx, cy]);\n    return patternFillPolygon(points, o);\n}\nexport function randOffset(x, o) {\n    return _offsetOpt(x, o);\n}\nexport function randOffsetWithRange(min, max, o) {\n    return _offset(min, max, o);\n}\nexport function doubleLineFillOps(x1, y1, x2, y2, o) {\n    return _doubleLine(x1, y1, x2, y2, o, true);\n}\n// Private helpers\nfunction cloneOptionsAlterSeed(ops) {\n    const result = Object.assign({}, ops);\n    result.randomizer = undefined;\n    if (ops.seed) {\n        result.seed = ops.seed + 1;\n    }\n    return result;\n}\nfunction random(ops) {\n    if (!ops.randomizer) {\n        ops.randomizer = new Random(ops.seed || 0);\n    }\n    return ops.randomizer.next();\n}\nfunction _offset(min, max, ops, roughnessGain = 1) {\n    return ops.roughness * roughnessGain * ((random(ops) * (max - min)) + min);\n}\nfunction _offsetOpt(x, ops, roughnessGain = 1) {\n    return _offset(-x, x, ops, roughnessGain);\n}\nfunction _doubleLine(x1, y1, x2, y2, o, filling = false) {\n    const singleStroke = filling ? o.disableMultiStrokeFill : o.disableMultiStroke;\n    const o1 = _line(x1, y1, x2, y2, o, true, false);\n    if (singleStroke) {\n        return o1;\n    }\n    const o2 = _line(x1, y1, x2, y2, o, true, true);\n    return o1.concat(o2);\n}\nfunction _line(x1, y1, x2, y2, o, move, overlay) {\n    const lengthSq = Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2);\n    const length = Math.sqrt(lengthSq);\n    let roughnessGain = 1;\n    if (length < 200) {\n        roughnessGain = 1;\n    }\n    else if (length > 500) {\n        roughnessGain = 0.4;\n    }\n    else {\n        roughnessGain = (-0.0016668) * length + 1.233334;\n    }\n    let offset = o.maxRandomnessOffset || 0;\n    if ((offset * offset * 100) > lengthSq) {\n        offset = length / 10;\n    }\n    const halfOffset = offset / 2;\n    const divergePoint = 0.2 + random(o) * 0.2;\n    let midDispX = o.bowing * o.maxRandomnessOffset * (y2 - y1) / 200;\n    let midDispY = o.bowing * o.maxRandomnessOffset * (x1 - x2) / 200;\n    midDispX = _offsetOpt(midDispX, o, roughnessGain);\n    midDispY = _offsetOpt(midDispY, o, roughnessGain);\n    const ops = [];\n    const randomHalf = () => _offsetOpt(halfOffset, o, roughnessGain);\n    const randomFull = () => _offsetOpt(offset, o, roughnessGain);\n    if (move) {\n        if (overlay) {\n            ops.push({\n                op: 'move', data: [\n                    x1 + randomHalf(),\n                    y1 + randomHalf()\n                ]\n            });\n        }\n        else {\n            ops.push({\n                op: 'move', data: [\n                    x1 + _offsetOpt(offset, o, roughnessGain),\n                    y1 + _offsetOpt(offset, o, roughnessGain)\n                ]\n            });\n        }\n    }\n    if (overlay) {\n        ops.push({\n            op: 'bcurveTo', data: [\n                midDispX + x1 + (x2 - x1) * divergePoint + randomHalf(),\n                midDispY + y1 + (y2 - y1) * divergePoint + randomHalf(),\n                midDispX + x1 + 2 * (x2 - x1) * divergePoint + randomHalf(),\n                midDispY + y1 + 2 * (y2 - y1) * divergePoint + randomHalf(),\n                x2 + randomHalf(),\n                y2 + randomHalf()\n            ]\n        });\n    }\n    else {\n        ops.push({\n            op: 'bcurveTo', data: [\n                midDispX + x1 + (x2 - x1) * divergePoint + randomFull(),\n                midDispY + y1 + (y2 - y1) * divergePoint + randomFull(),\n                midDispX + x1 + 2 * (x2 - x1) * divergePoint + randomFull(),\n                midDispY + y1 + 2 * (y2 - y1) * divergePoint + randomFull(),\n                x2 + randomFull(),\n                y2 + randomFull()\n            ]\n        });\n    }\n    return ops;\n}\nfunction _curveWithOffset(points, offset, o) {\n    const ps = [];\n    ps.push([\n        points[0][0] + _offsetOpt(offset, o),\n        points[0][1] + _offsetOpt(offset, o),\n    ]);\n    ps.push([\n        points[0][0] + _offsetOpt(offset, o),\n        points[0][1] + _offsetOpt(offset, o),\n    ]);\n    for (let i = 1; i < points.length; i++) {\n        ps.push([\n            points[i][0] + _offsetOpt(offset, o),\n            points[i][1] + _offsetOpt(offset, o),\n        ]);\n        if (i === (points.length - 1)) {\n            ps.push([\n                points[i][0] + _offsetOpt(offset, o),\n                points[i][1] + _offsetOpt(offset, o),\n            ]);\n        }\n    }\n    return _curve(ps, null, o);\n}\nfunction _curve(points, closePoint, o) {\n    const len = points.length;\n    const ops = [];\n    if (len > 3) {\n        const b = [];\n        const s = 1 - o.curveTightness;\n        ops.push({ op: 'move', data: [points[1][0], points[1][1]] });\n        for (let i = 1; (i + 2) < len; i++) {\n            const cachedVertArray = points[i];\n            b[0] = [cachedVertArray[0], cachedVertArray[1]];\n            b[1] = [cachedVertArray[0] + (s * points[i + 1][0] - s * points[i - 1][0]) / 6, cachedVertArray[1] + (s * points[i + 1][1] - s * points[i - 1][1]) / 6];\n            b[2] = [points[i + 1][0] + (s * points[i][0] - s * points[i + 2][0]) / 6, points[i + 1][1] + (s * points[i][1] - s * points[i + 2][1]) / 6];\n            b[3] = [points[i + 1][0], points[i + 1][1]];\n            ops.push({ op: 'bcurveTo', data: [b[1][0], b[1][1], b[2][0], b[2][1], b[3][0], b[3][1]] });\n        }\n        if (closePoint && closePoint.length === 2) {\n            const ro = o.maxRandomnessOffset;\n            ops.push({ op: 'lineTo', data: [closePoint[0] + _offsetOpt(ro, o), closePoint[1] + _offsetOpt(ro, o)] });\n        }\n    }\n    else if (len === 3) {\n        ops.push({ op: 'move', data: [points[1][0], points[1][1]] });\n        ops.push({\n            op: 'bcurveTo', data: [\n                points[1][0], points[1][1],\n                points[2][0], points[2][1],\n                points[2][0], points[2][1]\n            ]\n        });\n    }\n    else if (len === 2) {\n        ops.push(..._doubleLine(points[0][0], points[0][1], points[1][0], points[1][1], o));\n    }\n    return ops;\n}\nfunction _computeEllipsePoints(increment, cx, cy, rx, ry, offset, overlap, o) {\n    const corePoints = [];\n    const allPoints = [];\n    const radOffset = _offsetOpt(0.5, o) - (Math.PI / 2);\n    allPoints.push([\n        _offsetOpt(offset, o) + cx + 0.9 * rx * Math.cos(radOffset - increment),\n        _offsetOpt(offset, o) + cy + 0.9 * ry * Math.sin(radOffset - increment)\n    ]);\n    for (let angle = radOffset; angle < (Math.PI * 2 + radOffset - 0.01); angle = angle + increment) {\n        const p = [\n            _offsetOpt(offset, o) + cx + rx * Math.cos(angle),\n            _offsetOpt(offset, o) + cy + ry * Math.sin(angle)\n        ];\n        corePoints.push(p);\n        allPoints.push(p);\n    }\n    allPoints.push([\n        _offsetOpt(offset, o) + cx + rx * Math.cos(radOffset + Math.PI * 2 + overlap * 0.5),\n        _offsetOpt(offset, o) + cy + ry * Math.sin(radOffset + Math.PI * 2 + overlap * 0.5)\n    ]);\n    allPoints.push([\n        _offsetOpt(offset, o) + cx + 0.98 * rx * Math.cos(radOffset + overlap),\n        _offsetOpt(offset, o) + cy + 0.98 * ry * Math.sin(radOffset + overlap)\n    ]);\n    allPoints.push([\n        _offsetOpt(offset, o) + cx + 0.9 * rx * Math.cos(radOffset + overlap * 0.5),\n        _offsetOpt(offset, o) + cy + 0.9 * ry * Math.sin(radOffset + overlap * 0.5)\n    ]);\n    return [allPoints, corePoints];\n}\nfunction _arc(increment, cx, cy, rx, ry, strt, stp, offset, o) {\n    const radOffset = strt + _offsetOpt(0.1, o);\n    const points = [];\n    points.push([\n        _offsetOpt(offset, o) + cx + 0.9 * rx * Math.cos(radOffset - increment),\n        _offsetOpt(offset, o) + cy + 0.9 * ry * Math.sin(radOffset - increment)\n    ]);\n    for (let angle = radOffset; angle <= stp; angle = angle + increment) {\n        points.push([\n            _offsetOpt(offset, o) + cx + rx * Math.cos(angle),\n            _offsetOpt(offset, o) + cy + ry * Math.sin(angle)\n        ]);\n    }\n    points.push([\n        cx + rx * Math.cos(stp),\n        cy + ry * Math.sin(stp)\n    ]);\n    points.push([\n        cx + rx * Math.cos(stp),\n        cy + ry * Math.sin(stp)\n    ]);\n    return _curve(points, null, o);\n}\nfunction _bezierTo(x1, y1, x2, y2, x, y, current, o) {\n    const ops = [];\n    const ros = [o.maxRandomnessOffset || 1, (o.maxRandomnessOffset || 1) + 0.3];\n    let f = [0, 0];\n    const iterations = o.disableMultiStroke ? 1 : 2;\n    for (let i = 0; i < iterations; i++) {\n        if (i === 0) {\n            ops.push({ op: 'move', data: [current[0], current[1]] });\n        }\n        else {\n            ops.push({ op: 'move', data: [current[0] + _offsetOpt(ros[0], o), current[1] + _offsetOpt(ros[0], o)] });\n        }\n        f = [x + _offsetOpt(ros[i], o), y + _offsetOpt(ros[i], o)];\n        ops.push({\n            op: 'bcurveTo', data: [\n                x1 + _offsetOpt(ros[i], o), y1 + _offsetOpt(ros[i], o),\n                x2 + _offsetOpt(ros[i], o), y2 + _offsetOpt(ros[i], o),\n                f[0], f[1]\n            ]\n        });\n    }\n    return ops;\n}\n","function clone(p) {\n    return [...p];\n}\nexport function curveToBezier(pointsIn, curveTightness = 0) {\n    const len = pointsIn.length;\n    if (len < 3) {\n        throw new Error('A curve must have at least three points.');\n    }\n    const out = [];\n    if (len === 3) {\n        out.push(clone(pointsIn[0]), clone(pointsIn[1]), clone(pointsIn[2]), clone(pointsIn[2]));\n    }\n    else {\n        const points = [];\n        points.push(pointsIn[0], pointsIn[0]);\n        for (let i = 1; i < pointsIn.length; i++) {\n            points.push(pointsIn[i]);\n            if (i === (pointsIn.length - 1)) {\n                points.push(pointsIn[i]);\n            }\n        }\n        const b = [];\n        const s = 1 - curveTightness;\n        out.push(clone(points[0]));\n        for (let i = 1; (i + 2) < points.length; i++) {\n            const cachedVertArray = points[i];\n            b[0] = [cachedVertArray[0], cachedVertArray[1]];\n            b[1] = [cachedVertArray[0] + (s * points[i + 1][0] - s * points[i - 1][0]) / 6, cachedVertArray[1] + (s * points[i + 1][1] - s * points[i - 1][1]) / 6];\n            b[2] = [points[i + 1][0] + (s * points[i][0] - s * points[i + 2][0]) / 6, points[i + 1][1] + (s * points[i][1] - s * points[i + 2][1]) / 6];\n            b[3] = [points[i + 1][0], points[i + 1][1]];\n            out.push(b[1], b[2], b[3]);\n        }\n    }\n    return out;\n}\n","// distance between 2 points\nfunction distance(p1, p2) {\n    return Math.sqrt(distanceSq(p1, p2));\n}\n// distance between 2 points squared\nfunction distanceSq(p1, p2) {\n    return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);\n}\n// Sistance squared from a point p to the line segment vw\nfunction distanceToSegmentSq(p, v, w) {\n    const l2 = distanceSq(v, w);\n    if (l2 === 0) {\n        return distanceSq(p, v);\n    }\n    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;\n    t = Math.max(0, Math.min(1, t));\n    return distanceSq(p, lerp(v, w, t));\n}\nfunction lerp(a, b, t) {\n    return [\n        a[0] + (b[0] - a[0]) * t,\n        a[1] + (b[1] - a[1]) * t,\n    ];\n}\n// Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/\nfunction flatness(points, offset) {\n    const p1 = points[offset + 0];\n    const p2 = points[offset + 1];\n    const p3 = points[offset + 2];\n    const p4 = points[offset + 3];\n    let ux = 3 * p2[0] - 2 * p1[0] - p4[0];\n    ux *= ux;\n    let uy = 3 * p2[1] - 2 * p1[1] - p4[1];\n    uy *= uy;\n    let vx = 3 * p3[0] - 2 * p4[0] - p1[0];\n    vx *= vx;\n    let vy = 3 * p3[1] - 2 * p4[1] - p1[1];\n    vy *= vy;\n    if (ux < vx) {\n        ux = vx;\n    }\n    if (uy < vy) {\n        uy = vy;\n    }\n    return ux + uy;\n}\nfunction getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {\n    const outPoints = newPoints || [];\n    if (flatness(points, offset) < tolerance) {\n        const p0 = points[offset + 0];\n        if (outPoints.length) {\n            const d = distance(outPoints[outPoints.length - 1], p0);\n            if (d > 1) {\n                outPoints.push(p0);\n            }\n        }\n        else {\n            outPoints.push(p0);\n        }\n        outPoints.push(points[offset + 3]);\n    }\n    else {\n        // subdivide\n        const t = .5;\n        const p1 = points[offset + 0];\n        const p2 = points[offset + 1];\n        const p3 = points[offset + 2];\n        const p4 = points[offset + 3];\n        const q1 = lerp(p1, p2, t);\n        const q2 = lerp(p2, p3, t);\n        const q3 = lerp(p3, p4, t);\n        const r1 = lerp(q1, q2, t);\n        const r2 = lerp(q2, q3, t);\n        const red = lerp(r1, r2, t);\n        getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);\n        getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);\n    }\n    return outPoints;\n}\nexport function simplify(points, distance) {\n    return simplifyPoints(points, 0, points.length, distance);\n}\n// RamerDouglasPeucker algorithm\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\nfunction simplifyPoints(points, start, end, epsilon, newPoints) {\n    const outPoints = newPoints || [];\n    // find the most distance point from the endpoints\n    const s = points[start];\n    const e = points[end - 1];\n    let maxDistSq = 0;\n    let maxNdx = 1;\n    for (let i = start + 1; i < end - 1; ++i) {\n        const distSq = distanceToSegmentSq(points[i], s, e);\n        if (distSq > maxDistSq) {\n            maxDistSq = distSq;\n            maxNdx = i;\n        }\n    }\n    // if that point is too far, split\n    if (Math.sqrt(maxDistSq) > epsilon) {\n        simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);\n        simplifyPoints(points, maxNdx, end, epsilon, outPoints);\n    }\n    else {\n        if (!outPoints.length) {\n            outPoints.push(s);\n        }\n        outPoints.push(e);\n    }\n    return outPoints;\n}\nexport function pointsOnBezierCurves(points, tolerance = 0.15, distance) {\n    const newPoints = [];\n    const numSegments = (points.length - 1) / 3;\n    for (let i = 0; i < numSegments; i++) {\n        const offset = i * 3;\n        getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);\n    }\n    if (distance && distance > 0) {\n        return simplifyPoints(newPoints, 0, newPoints.length, distance);\n    }\n    return newPoints;\n}\n","import { line, solidFillPolygon, patternFillPolygon, rectangle, ellipseWithParams, generateEllipseParams, linearPath, arc, patternFillArc, curve, svgPath } from './renderer.js';\nimport { randomSeed } from './math.js';\nimport { curveToBezier } from 'points-on-curve/lib/curve-to-bezier.js';\nimport { pointsOnBezierCurves } from 'points-on-curve';\nimport { pointsOnPath } from 'points-on-path';\nconst NOS = 'none';\nexport class RoughGenerator {\n    constructor(config) {\n        this.defaultOptions = {\n            maxRandomnessOffset: 2,\n            roughness: 1,\n            bowing: 1,\n            stroke: '#000',\n            strokeWidth: 1,\n            curveTightness: 0,\n            curveFitting: 0.95,\n            curveStepCount: 9,\n            fillStyle: 'hachure',\n            fillWeight: -1,\n            hachureAngle: -41,\n            hachureGap: -1,\n            dashOffset: -1,\n            dashGap: -1,\n            zigzagOffset: -1,\n            seed: 0,\n            combineNestedSvgPaths: false,\n            disableMultiStroke: false,\n            disableMultiStrokeFill: false\n        };\n        this.config = config || {};\n        if (this.config.options) {\n            this.defaultOptions = this._o(this.config.options);\n        }\n    }\n    static newSeed() {\n        return randomSeed();\n    }\n    _o(options) {\n        return options ? Object.assign({}, this.defaultOptions, options) : this.defaultOptions;\n    }\n    _d(shape, sets, options) {\n        return { shape, sets: sets || [], options: options || this.defaultOptions };\n    }\n    line(x1, y1, x2, y2, options) {\n        const o = this._o(options);\n        return this._d('line', [line(x1, y1, x2, y2, o)], o);\n    }\n    rectangle(x, y, width, height, options) {\n        const o = this._o(options);\n        const paths = [];\n        const outline = rectangle(x, y, width, height, o);\n        if (o.fill) {\n            const points = [[x, y], [x + width, y], [x + width, y + height], [x, y + height]];\n            if (o.fillStyle === 'solid') {\n                paths.push(solidFillPolygon(points, o));\n            }\n            else {\n                paths.push(patternFillPolygon(points, o));\n            }\n        }\n        if (o.stroke !== NOS) {\n            paths.push(outline);\n        }\n        return this._d('rectangle', paths, o);\n    }\n    ellipse(x, y, width, height, options) {\n        const o = this._o(options);\n        const paths = [];\n        const ellipseParams = generateEllipseParams(width, height, o);\n        const ellipseResponse = ellipseWithParams(x, y, o, ellipseParams);\n        if (o.fill) {\n            if (o.fillStyle === 'solid') {\n                const shape = ellipseWithParams(x, y, o, ellipseParams).opset;\n                shape.type = 'fillPath';\n                paths.push(shape);\n            }\n            else {\n                paths.push(patternFillPolygon(ellipseResponse.estimatedPoints, o));\n            }\n        }\n        if (o.stroke !== NOS) {\n            paths.push(ellipseResponse.opset);\n        }\n        return this._d('ellipse', paths, o);\n    }\n    circle(x, y, diameter, options) {\n        const ret = this.ellipse(x, y, diameter, diameter, options);\n        ret.shape = 'circle';\n        return ret;\n    }\n    linearPath(points, options) {\n        const o = this._o(options);\n        return this._d('linearPath', [linearPath(points, false, o)], o);\n    }\n    arc(x, y, width, height, start, stop, closed = false, options) {\n        const o = this._o(options);\n        const paths = [];\n        const outline = arc(x, y, width, height, start, stop, closed, true, o);\n        if (closed && o.fill) {\n            if (o.fillStyle === 'solid') {\n                const shape = arc(x, y, width, height, start, stop, true, false, o);\n                shape.type = 'fillPath';\n                paths.push(shape);\n            }\n            else {\n                paths.push(patternFillArc(x, y, width, height, start, stop, o));\n            }\n        }\n        if (o.stroke !== NOS) {\n            paths.push(outline);\n        }\n        return this._d('arc', paths, o);\n    }\n    curve(points, options) {\n        const o = this._o(options);\n        const paths = [];\n        const outline = curve(points, o);\n        if (o.fill && o.fill !== NOS && points.length >= 3) {\n            const bcurve = curveToBezier(points);\n            const polyPoints = pointsOnBezierCurves(bcurve, 10, (1 + o.roughness) / 2);\n            if (o.fillStyle === 'solid') {\n                paths.push(solidFillPolygon(polyPoints, o));\n            }\n            else {\n                paths.push(patternFillPolygon(polyPoints, o));\n            }\n        }\n        if (o.stroke !== NOS) {\n            paths.push(outline);\n        }\n        return this._d('curve', paths, o);\n    }\n    polygon(points, options) {\n        const o = this._o(options);\n        const paths = [];\n        const outline = linearPath(points, true, o);\n        if (o.fill) {\n            if (o.fillStyle === 'solid') {\n                paths.push(solidFillPolygon(points, o));\n            }\n            else {\n                paths.push(patternFillPolygon(points, o));\n            }\n        }\n        if (o.stroke !== NOS) {\n            paths.push(outline);\n        }\n        return this._d('polygon', paths, o);\n    }\n    path(d, options) {\n        const o = this._o(options);\n        const paths = [];\n        if (!d) {\n            return this._d('path', paths, o);\n        }\n        d = (d || '').replace(/\\n/g, ' ').replace(/(-\\s)/g, '-').replace('/(\\s\\s)/g', ' ');\n        const hasFill = o.fill && o.fill !== 'transparent' && o.fill !== NOS;\n        const hasStroke = o.stroke !== NOS;\n        const simplified = !!(o.simplification && (o.simplification < 1));\n        const distance = simplified ? (4 - 4 * (o.simplification)) : ((1 + o.roughness) / 2);\n        const sets = pointsOnPath(d, 1, distance);\n        if (hasFill) {\n            if (o.combineNestedSvgPaths) {\n                const combined = [];\n                sets.forEach((set) => combined.push(...set));\n                if (o.fillStyle === 'solid') {\n                    paths.push(solidFillPolygon(combined, o));\n                }\n                else {\n                    paths.push(patternFillPolygon(combined, o));\n                }\n            }\n            else {\n                sets.forEach((polyPoints) => {\n                    if (o.fillStyle === 'solid') {\n                        paths.push(solidFillPolygon(polyPoints, o));\n                    }\n                    else {\n                        paths.push(patternFillPolygon(polyPoints, o));\n                    }\n                });\n            }\n        }\n        if (hasStroke) {\n            if (simplified) {\n                sets.forEach((set) => {\n                    paths.push(linearPath(set, false, o));\n                });\n            }\n            else {\n                paths.push(svgPath(d, o));\n            }\n        }\n        return this._d('path', paths, o);\n    }\n    opsToPath(drawing) {\n        let path = '';\n        for (const item of drawing.ops) {\n            const data = item.data;\n            switch (item.op) {\n                case 'move':\n                    path += `M${data[0]} ${data[1]} `;\n                    break;\n                case 'bcurveTo':\n                    path += `C${data[0]} ${data[1]}, ${data[2]} ${data[3]}, ${data[4]} ${data[5]} `;\n                    break;\n                case 'lineTo':\n                    path += `L${data[0]} ${data[1]} `;\n                    break;\n            }\n        }\n        return path.trim();\n    }\n    toPaths(drawable) {\n        const sets = drawable.sets || [];\n        const o = drawable.options || this.defaultOptions;\n        const paths = [];\n        for (const drawing of sets) {\n            let path = null;\n            switch (drawing.type) {\n                case 'path':\n                    path = {\n                        d: this.opsToPath(drawing),\n                        stroke: o.stroke,\n                        strokeWidth: o.strokeWidth,\n                        fill: NOS\n                    };\n                    break;\n                case 'fillPath':\n                    path = {\n                        d: this.opsToPath(drawing),\n                        stroke: NOS,\n                        strokeWidth: 0,\n                        fill: o.fill || NOS\n                    };\n                    break;\n                case 'fillSketch':\n                    path = this.fillSketch(drawing, o);\n                    break;\n            }\n            if (path) {\n                paths.push(path);\n            }\n        }\n        return paths;\n    }\n    fillSketch(drawing, o) {\n        let fweight = o.fillWeight;\n        if (fweight < 0) {\n            fweight = o.strokeWidth / 2;\n        }\n        return {\n            d: this.opsToPath(drawing),\n            stroke: o.fill || NOS,\n            strokeWidth: fweight,\n            fill: NOS\n        };\n    }\n}\n","import { pointsOnBezierCurves, simplify } from 'points-on-curve';\nimport { parsePath, absolutize, normalize } from 'path-data-parser';\nexport function pointsOnPath(path, tolerance, distance) {\n    const segments = parsePath(path);\n    const normalized = normalize(absolutize(segments));\n    const sets = [];\n    let currentPoints = [];\n    let start = [0, 0];\n    let pendingCurve = [];\n    const appendPendingCurve = () => {\n        if (pendingCurve.length >= 4) {\n            currentPoints.push(...pointsOnBezierCurves(pendingCurve, tolerance));\n        }\n        pendingCurve = [];\n    };\n    const appendPendingPoints = () => {\n        appendPendingCurve();\n        if (currentPoints.length) {\n            sets.push(currentPoints);\n            currentPoints = [];\n        }\n    };\n    for (const { key, data } of normalized) {\n        switch (key) {\n            case 'M':\n                appendPendingPoints();\n                start = [data[0], data[1]];\n                currentPoints.push(start);\n                break;\n            case 'L':\n                appendPendingCurve();\n                currentPoints.push([data[0], data[1]]);\n                break;\n            case 'C':\n                if (!pendingCurve.length) {\n                    const lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;\n                    pendingCurve.push([lastPoint[0], lastPoint[1]]);\n                }\n                pendingCurve.push([data[0], data[1]]);\n                pendingCurve.push([data[2], data[3]]);\n                pendingCurve.push([data[4], data[5]]);\n                break;\n            case 'Z':\n                appendPendingCurve();\n                currentPoints.push([start[0], start[1]]);\n                break;\n        }\n    }\n    appendPendingPoints();\n    if (!distance) {\n        return sets;\n    }\n    const out = [];\n    for (const set of sets) {\n        const simplifiedSet = simplify(set, distance);\n        if (simplifiedSet.length) {\n            out.push(simplifiedSet);\n        }\n    }\n    return out;\n}\n","import { RoughGenerator } from './generator';\nexport class RoughCanvas {\n    constructor(canvas, config) {\n        this.canvas = canvas;\n        this.ctx = this.canvas.getContext('2d');\n        this.gen = new RoughGenerator(config);\n    }\n    draw(drawable) {\n        const sets = drawable.sets || [];\n        const o = drawable.options || this.getDefaultOptions();\n        const ctx = this.ctx;\n        for (const drawing of sets) {\n            switch (drawing.type) {\n                case 'path':\n                    ctx.save();\n                    ctx.strokeStyle = o.stroke === 'none' ? 'transparent' : o.stroke;\n                    ctx.lineWidth = o.strokeWidth;\n                    if (o.strokeLineDash) {\n                        ctx.setLineDash(o.strokeLineDash);\n                    }\n                    if (o.strokeLineDashOffset) {\n                        ctx.lineDashOffset = o.strokeLineDashOffset;\n                    }\n                    this._drawToContext(ctx, drawing);\n                    ctx.restore();\n                    break;\n                case 'fillPath':\n                    ctx.save();\n                    ctx.fillStyle = o.fill || '';\n                    const fillRule = (drawable.shape === 'curve' || drawable.shape === 'polygon') ? 'evenodd' : 'nonzero';\n                    this._drawToContext(ctx, drawing, fillRule);\n                    ctx.restore();\n                    break;\n                case 'fillSketch':\n                    this.fillSketch(ctx, drawing, o);\n                    break;\n            }\n        }\n    }\n    fillSketch(ctx, drawing, o) {\n        let fweight = o.fillWeight;\n        if (fweight < 0) {\n            fweight = o.strokeWidth / 2;\n        }\n        ctx.save();\n        if (o.fillLineDash) {\n            ctx.setLineDash(o.fillLineDash);\n        }\n        if (o.fillLineDashOffset) {\n            ctx.lineDashOffset = o.fillLineDashOffset;\n        }\n        ctx.strokeStyle = o.fill || '';\n        ctx.lineWidth = fweight;\n        this._drawToContext(ctx, drawing);\n        ctx.restore();\n    }\n    _drawToContext(ctx, drawing, rule = 'nonzero') {\n        ctx.beginPath();\n        for (const item of drawing.ops) {\n            const data = item.data;\n            switch (item.op) {\n                case 'move':\n                    ctx.moveTo(data[0], data[1]);\n                    break;\n                case 'bcurveTo':\n                    ctx.bezierCurveTo(data[0], data[1], data[2], data[3], data[4], data[5]);\n                    break;\n                case 'lineTo':\n                    ctx.lineTo(data[0], data[1]);\n                    break;\n            }\n        }\n        if (drawing.type === 'fillPath') {\n            ctx.fill(rule);\n        }\n        else {\n            ctx.stroke();\n        }\n    }\n    get generator() {\n        return this.gen;\n    }\n    getDefaultOptions() {\n        return this.gen.defaultOptions;\n    }\n    line(x1, y1, x2, y2, options) {\n        const d = this.gen.line(x1, y1, x2, y2, options);\n        this.draw(d);\n        return d;\n    }\n    rectangle(x, y, width, height, options) {\n        const d = this.gen.rectangle(x, y, width, height, options);\n        this.draw(d);\n        return d;\n    }\n    ellipse(x, y, width, height, options) {\n        const d = this.gen.ellipse(x, y, width, height, options);\n        this.draw(d);\n        return d;\n    }\n    circle(x, y, diameter, options) {\n        const d = this.gen.circle(x, y, diameter, options);\n        this.draw(d);\n        return d;\n    }\n    linearPath(points, options) {\n        const d = this.gen.linearPath(points, options);\n        this.draw(d);\n        return d;\n    }\n    polygon(points, options) {\n        const d = this.gen.polygon(points, options);\n        this.draw(d);\n        return d;\n    }\n    arc(x, y, width, height, start, stop, closed = false, options) {\n        const d = this.gen.arc(x, y, width, height, start, stop, closed, options);\n        this.draw(d);\n        return d;\n    }\n    curve(points, options) {\n        const d = this.gen.curve(points, options);\n        this.draw(d);\n        return d;\n    }\n    path(d, options) {\n        const drawing = this.gen.path(d, options);\n        this.draw(drawing);\n        return drawing;\n    }\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\n// Entry point for the notebook bundle containing custom model definitions.\n//\n// Setup notebook base URL\n//\n// Some static assets may be required by the custom widget javascript. The base\n// url for the notebook is not known at build time and is therefore computed\n// dynamically.\n(window as any).__webpack_public_path__ = document.querySelector('body')!.getAttribute('data-base-url') + 'nbextensions/ipycanvas';\n\nexport * from './index';\n","// Copyright (c) Martin Renou\n// Distributed under the terms of the Modified BSD License.\n\nexport * from './version';\nexport * from './widget';\n","export function getTypedArray(dataview: any, metadata: any) {\n  switch (metadata.dtype) {\n    case 'int8':\n      return new Int8Array(dataview.buffer);\n      break;\n    case 'uint8':\n        return new Uint8Array(dataview.buffer);\n        break;\n    case 'int16':\n      return new Int16Array(dataview.buffer);\n      break;\n    case 'int32':\n      return new Int32Array(dataview.buffer);\n      break;\n    case 'float32':\n      return new Float32Array(dataview.buffer);\n      break;\n    case 'float64':\n      return new Float64Array(dataview.buffer);\n      break;\n    default:\n      throw 'Unknown dtype ' + metadata.dtype;\n      break;\n  }\n}\n\n// Scalar type\ntype Scalar = null | boolean | number | string;\n\nnamespace Scalar {\n  export\n  function isScalar(x: any): x is Scalar {\n      return x === null || typeof x === \"boolean\" || typeof x === \"number\" || typeof x === \"string\";\n  }\n}\n\ntype TypedArray = Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array | Uint8ClampedArray | Float32Array | Float64Array;\n\n// Buffered argument\nexport\nabstract class Arg {\n  abstract getItem(idx: number) : any;\n\n  length: number;\n}\n\nclass ScalarArg extends Arg {\n  constructor(value: Scalar) {\n    super();\n\n    this.value = value;\n    this.length = Infinity;\n  }\n\n  getItem(idx: number) : any {\n    return this.value;\n  }\n\n  value: Scalar;\n}\n\nclass BufferArg extends Arg {\n  constructor(bufferMetadata: any, buffer: any[]) {\n    super();\n\n    this.value = getTypedArray(buffer, bufferMetadata);\n    this.length = this.value.length;\n  }\n\n  getItem(idx: number) : any {\n    return this.value[idx];\n  }\n\n  value: TypedArray;\n}\n\nexport\nfunction getArg(metadata: any, buffers: any) : Arg {\n  if (Scalar.isScalar(metadata)) {\n    return new ScalarArg(metadata);\n  }\n\n  if (metadata['idx'] !== undefined) {\n    return new BufferArg(metadata, buffers[metadata['idx']])\n  }\n\n  throw 'Could not process argument ' + metadata;\n}\n\nexport\nasync function toBlob(canvas: HTMLCanvasElement) : Promise<Blob> {\n  return new Promise<Blob>((resolve, reject) => {\n    canvas.toBlob((blob) => {\n      if (blob == null) {\n        return reject('Unable to create blob');\n      }\n\n      resolve(blob);\n    });\n  });\n}\n\nexport\nasync function toBytes(canvas: HTMLCanvasElement) : Promise<Uint8ClampedArray> {\n  const blob = await toBlob(canvas);\n\n  return new Promise<Uint8ClampedArray>((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n        if (typeof reader.result == 'string' || reader.result == null) {\n          return reject('Unable to read blob');\n        }\n\n        const bytes = new Uint8ClampedArray(reader.result);\n        resolve(bytes);\n    };\n    reader.readAsArrayBuffer(blob);\n  });\n}\n\nexport\nasync function fromBytes(array: Uint8ClampedArray) : Promise<HTMLImageElement> {\n  const blob = new Blob([array]);\n\n  return new Promise<HTMLImageElement>((resolve, reject) => {\n    const img = new Image();\n\n    img.onload = () => {\n      resolve(img);\n    }\n\n    img.src = URL.createObjectURL(blob);\n  });\n}\n","// Copyright (c) Martin Renou\n// Distributed under the terms of the Modified BSD License.\n\nconst data = require('../package.json');\n\n/**\n * The _model_module_version/_view_module_version this package implements.\n *\n * The html widget manager assumes that this is the same as the npm package\n * version number.\n */\nexport const MODULE_VERSION = data.version;\n\n/*\n * The current package name.\n */\nexport const MODULE_NAME = data.name;\n","// Copyright (c) Martin Renou\n// Distributed under the terms of the Modified BSD License.\n\nimport { Buffer } from 'buffer';\n\nimport {\n  DOMWidgetModel, DOMWidgetView, WidgetModel, ISerializers, Dict, unpack_models\n} from '@jupyter-widgets/base';\n\nimport {\n  RoughCanvas\n} from 'roughjs/bin/canvas';\n\nimport {\n  MODULE_NAME, MODULE_VERSION\n} from './version';\n\nimport {\n  getArg, toBytes, fromBytes, getTypedArray\n} from './utils';\n\n\nfunction getContext(canvas: HTMLCanvasElement) {\n  const context = canvas.getContext(\"2d\");\n  if (context === null) {\n    throw 'Could not create 2d context.';\n  }\n  return context;\n}\n\nfunction serializeImageData(array: Uint8ClampedArray) {\n  return new DataView(array.buffer.slice(0));\n}\n\nfunction deserializeImageData(dataview: DataView | null) {\n  if (dataview === null) {\n    return null;\n  }\n\n  return new Uint8ClampedArray(dataview.buffer);\n}\n\nasync function createImageFromWidget(image: DOMWidgetModel): Promise<HTMLImageElement> {\n  // Create the image manually instead of creating an ImageView\n  let url: string;\n  const format = image.get('format');\n  const value = image.get('value');\n  if (format !== 'url') {\n      const blob = new Blob([value], {type: `image/${format}`});\n      url = URL.createObjectURL(blob);\n  } else {\n      url = (new TextDecoder('utf-8')).decode(value.buffer);\n  }\n\n  const img = new Image();\n  return new Promise((resolve) => {\n    img.onload = () => {\n      resolve(img);\n    };\n    img.src = url;\n  });\n}\n\n\nconst COMMANDS = [\n  'fillRect', 'strokeRect', 'fillRects', 'strokeRects', 'clearRect', 'fillArc',\n  'fillCircle', 'strokeArc', 'strokeCircle', 'fillArcs', 'strokeArcs',\n  'fillCircles', 'strokeCircles', 'strokeLine', 'beginPath', 'closePath',\n  'stroke', 'fillPath', 'fill', 'moveTo', 'lineTo',\n  'rect', 'arc', 'ellipse', 'arcTo', 'quadraticCurveTo',\n  'bezierCurveTo', 'fillText', 'strokeText', 'setLineDash', 'drawImage',\n  'putImageData', 'clip', 'save', 'restore', 'translate',\n  'rotate', 'scale', 'transform', 'setTransform', 'resetTransform',\n  'set', 'clear', 'sleep', 'fillPolygon', 'strokePolygon',\n  'strokeLines',\n];\n\n\nexport\nclass Path2DModel extends WidgetModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_name: Path2DModel.model_name,\n      _model_module: Path2DModel.model_module,\n      _model_module_version: Path2DModel.model_module_version,\n      value: '',\n    };\n  }\n\n  initialize(attributes: any, options: any) {\n    super.initialize(attributes, options);\n\n    this.value = new Path2D(this.get('value'));\n  }\n\n  value: Path2D;\n\n  static model_name = 'Path2DModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n}\n\n\nexport\nclass PatternModel extends WidgetModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_name: PatternModel.model_name,\n      _model_module: PatternModel.model_module,\n      _model_module_version: PatternModel.model_module_version,\n      image: '',\n      repetition: 'repeat',\n    };\n  }\n\n  async initialize(attributes: any, options: any) {\n    super.initialize(attributes, options);\n\n    const image = this.get('image');\n    let patternSource: HTMLCanvasElement | HTMLImageElement | undefined = undefined;\n\n    if (image instanceof CanvasModel || image instanceof MultiCanvasModel) {\n      patternSource = image.canvas;\n    }\n\n    if (image.get('_model_name') == 'ImageModel') {\n      const img = await createImageFromWidget(image);\n      patternSource = img;\n    }\n\n    if (patternSource == undefined) {\n      throw \"Could not understand the souce for the pattern\";\n    }\n\n    const pattern = PatternModel.ctx.createPattern(patternSource, this.get('repetition'));\n\n    if (pattern == null) {\n      throw \"Could not initialize pattern object\";\n    }\n\n    this.value = pattern;\n  }\n\n  static serializers: ISerializers = {\n    ...WidgetModel.serializers,\n    image: { deserialize: (unpack_models as any) },\n  }\n\n  value: CanvasPattern;\n\n  static model_name = 'PatternModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n\n  // Global context for creating the gradients\n  static ctx: CanvasRenderingContext2D = getContext(document.createElement('canvas'));\n}\n\n\nclass GradientModel extends WidgetModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_module: GradientModel.model_module,\n      _model_module_version: GradientModel.model_module_version,\n      x0: 0.,\n      y0: 0.,\n      x1: 0.,\n      y1: 0.,\n      color_stops: [],\n    };\n  }\n\n  initialize(attributes: any, options: any) {\n    super.initialize(attributes, options);\n\n    this.createGradient();\n\n    for (const colorStop of this.get('color_stops')) {\n      this.value.addColorStop(colorStop[0], colorStop[1]);\n    }\n  }\n\n  protected createGradient() {\n    this.value = GradientModel.ctx.createLinearGradient(\n      this.get('x0'), this.get('y0'),\n      this.get('x1'), this.get('y1')\n    );\n  }\n\n  value: CanvasGradient;\n\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n\n  // Global context for creating the gradients\n  static ctx: CanvasRenderingContext2D = getContext(document.createElement('canvas'));\n}\n\n\nexport\nclass LinearGradientModel extends GradientModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_name: LinearGradientModel.model_name,\n    };\n  }\n\n  static model_name = 'LinearGradientModel';\n}\n\n\nexport\nclass RadialGradientModel extends GradientModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_name: RadialGradientModel.model_name,\n      r0: 0.,\n      r1: 0.,\n    };\n  }\n\n  protected createGradient() {\n    this.value = GradientModel.ctx.createRadialGradient(\n      this.get('x0'), this.get('y0'), this.get('r0'),\n      this.get('x1'), this.get('y1'), this.get('r1')\n    );\n  }\n\n  static model_name = 'RadialGradientModel';\n}\n\n\nexport\nclass CanvasModel extends DOMWidgetModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_name: CanvasModel.model_name,\n      _model_module: CanvasModel.model_module,\n      _model_module_version: CanvasModel.model_module_version,\n      _view_name: CanvasModel.view_name,\n      _view_module: CanvasModel.view_module,\n      _view_module_version: CanvasModel.view_module_version,\n      width: 700,\n      height: 500,\n      sync_image_data: false,\n      image_data: null,\n      _send_client_ready_event: true,\n    };\n  }\n\n  static serializers: ISerializers = {\n    ...DOMWidgetModel.serializers,\n    image_data: {\n      serialize: serializeImageData,\n      deserialize: deserializeImageData\n    }\n  }\n\n  static ATTRS = [\n    'fillStyle', 'strokeStyle', 'globalAlpha', 'font', 'textAlign',\n    'textBaseline', 'direction', 'globalCompositeOperation',\n    'lineWidth', 'lineCap', 'lineJoin', 'miterLimit', 'lineDashOffset',\n    'shadowOffsetX', 'shadowOffsetY', 'shadowBlur', 'shadowColor',\n  ];\n\n  initialize(attributes: any, options: any) {\n    super.initialize(attributes, options);\n\n    this.canvas = document.createElement('canvas');\n    this.ctx = getContext(this.canvas);\n\n    this.resizeCanvas();\n    this.drawImageData();\n\n    this.on_some_change(['width', 'height'], this.resizeCanvas, this);\n    this.on('change:sync_image_data', this.syncImageData.bind(this));\n    this.on('msg:custom', this.onCommand.bind(this));\n\n    if (this.get('_send_client_ready_event')) {\n      this.send({ event: 'client_ready' }, {});\n    }\n  }\n\n  private async drawImageData() {\n    if (this.get('image_data') !== null) {\n      const img = await fromBytes(this.get('image_data'));\n\n      this.ctx.drawImage(img, 0, 0);\n\n      this.trigger('new-frame');\n    }\n  }\n\n  private async onCommand(command: any, buffers: any) {\n    // Retrieve the commands buffer as an object (list of commands)\n    const commands = JSON.parse(Buffer.from(getTypedArray(buffers[0], command)).toString('utf-8'));\n\n    await this.processCommand(commands, buffers.slice(1, buffers.length));\n\n    this.forEachView((view: CanvasView) => {\n      view.updateCanvas();\n    });\n\n    this.trigger('new-frame');\n    this.syncImageData();\n  }\n\n  private async processCommand(command: any, buffers: any) {\n    // If it's a list of commands\n    if (command instanceof Array && command[0] instanceof Array) {\n      let remainingBuffers = buffers;\n\n      for (const subcommand of command) {\n        let subbuffers = [];\n        const nBuffers: Number = subcommand[2];\n        if (nBuffers) {\n          subbuffers = remainingBuffers.slice(0, nBuffers);\n          remainingBuffers = remainingBuffers.slice(nBuffers)\n        }\n        await this.processCommand(subcommand, subbuffers);\n      }\n      return;\n    }\n\n    const name: string = COMMANDS[command[0]];\n    const args: any[] = command[1];\n    switch (name) {\n      case 'sleep':\n        await this.sleep(args[0]);\n        break;\n      case 'fillRect':\n        this.fillRect(args[0], args[1], args[2], args[3]);\n        break;\n      case 'strokeRect':\n        this.strokeRect(args[0], args[1], args[2], args[3]);\n        break;\n      case 'fillRects':\n        this.drawRects(args, buffers, this.fillRect.bind(this));\n        break;\n      case 'strokeRects':\n        this.drawRects(args, buffers, this.strokeRect.bind(this));\n        break;\n      case 'fillArc':\n        this.fillArc(args[0], args[1], args[2], args[3], args[4], args[5]);\n        break;\n      case 'strokeArc':\n        this.strokeArc(args[0], args[1], args[2], args[3], args[4], args[5]);\n        break;\n      case 'fillArcs':\n        this.drawArcs(args, buffers, this.fillArc.bind(this));\n        break;\n      case 'strokeArcs':\n        this.drawArcs(args, buffers, this.strokeArc.bind(this));\n        break;\n      case 'fillCircle':\n        this.fillCircle(args[0], args[1], args[2]);\n        break;\n      case 'strokeCircle':\n        this.strokeCircle(args[0], args[1], args[2]);\n        break;\n      case 'fillCircles':\n        this.drawCircles(args, buffers, this.fillCircle.bind(this));\n        break;\n      case 'strokeCircles':\n        this.drawCircles(args, buffers, this.strokeCircle.bind(this));\n        break;\n      case 'strokeLine':\n        this.strokeLine(args, buffers);\n        break;\n      case 'strokeLines':\n        this.strokeLines(args, buffers);\n        break;\n      case 'fillPolygon':\n        this.fillPolygon(args, buffers);\n        break;\n      case 'strokePolygon':\n        this.strokePolygon(args, buffers);\n        break;\n      case 'fillPath':\n        await this.fillPath(args, buffers);\n        break;\n      case 'drawImage':\n        await this.drawImage(args, buffers);\n        break;\n      case 'putImageData':\n        this.putImageData(args, buffers);\n        break;\n      case 'set':\n        await this.setAttr(args[0], args[1]);\n        break;\n      case 'clear':\n        this.clearCanvas();\n        break;\n      default:\n        this.executeCommand(name, args);\n        break;\n    }\n  }\n\n  private async sleep(time: number) {\n    this.forEachView((view: CanvasView) => {\n      view.updateCanvas();\n    });\n\n    this.trigger('new-frame');\n    this.syncImageData();\n\n    await new Promise(resolve => setTimeout(resolve, time));\n  }\n\n  protected fillRect(x: number, y: number, width: number, height: number) {\n    this.ctx.fillRect(x, y, width, height);\n  }\n\n  protected strokeRect(x: number, y: number, width: number, height: number) {\n    this.ctx.strokeRect(x, y, width, height);\n  }\n\n  private drawRects(args: any[], buffers: any, callback: (x: number, y: number, width: number, height: number) => void) {\n    const x = getArg(args[0], buffers);\n    const y = getArg(args[1], buffers);\n    const width = getArg(args[2], buffers);\n    const height = getArg(args[3], buffers);\n\n    const numberRects = Math.min(x.length, y.length, width.length, height.length);\n\n    for (let idx = 0; idx < numberRects; ++idx) {\n      callback(x.getItem(idx), y.getItem(idx), width.getItem(idx), height.getItem(idx));\n    }\n  }\n\n  protected fillArc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\n    this.ctx.beginPath();\n\n    this.ctx.moveTo(x, y);  // Move to center\n    this.ctx.lineTo(x + radius * Math.cos(startAngle), y + radius * Math.sin(startAngle));  // Line to beginning of the arc\n    this.ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n    this.ctx.lineTo(x, y);  // Line to center\n    this.ctx.fill();\n\n    this.ctx.closePath();\n  }\n\n  protected strokeArc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\n    this.ctx.beginPath();\n\n    this.ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n    this.ctx.stroke();\n\n    this.ctx.closePath();\n  }\n\n  private drawArcs(args: any[], buffers: any, callback: (x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) => void) {\n    const x = getArg(args[0], buffers);\n    const y = getArg(args[1], buffers);\n    const radius = getArg(args[2], buffers);\n    const startAngle = getArg(args[3], buffers);\n    const endAngle = getArg(args[4], buffers);\n    const anticlockwise = getArg(args[5], buffers);\n\n    const numberArcs = Math.min(\n      x.length, y.length, radius.length,\n      startAngle.length, endAngle.length\n    );\n\n    for (let idx = 0; idx < numberArcs; ++idx) {\n      callback(\n        x.getItem(idx), y.getItem(idx), radius.getItem(idx),\n        startAngle.getItem(idx), endAngle.getItem(idx),\n        anticlockwise.getItem(idx)\n      )\n    }\n  }\n\n  protected fillCircle(x: number, y: number, radius: number) {\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, radius, 0, 2 * Math.PI);\n    this.ctx.fill();\n\n    this.ctx.closePath();\n  }\n\n  protected strokeCircle(x: number, y: number, radius: number) {\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, radius, 0, 2 * Math.PI);\n    this.ctx.stroke();\n\n    this.ctx.closePath();\n  }\n\n  private drawCircles(args: any[], buffers: any, callback: (x: number, y: number, radius: number) => void) {\n    const x = getArg(args[0], buffers);\n    const y = getArg(args[1], buffers);\n    const radius = getArg(args[2], buffers);\n\n    const numberCircles = Math.min(x.length, y.length, radius.length);\n\n    for (let idx = 0; idx < numberCircles; ++idx) {\n      callback(x.getItem(idx), y.getItem(idx), radius.getItem(idx))\n    }\n  }\n\n  protected strokeLine(args: any[], buffers: any) {\n    this.ctx.beginPath();\n    this.ctx.moveTo(args[0], args[1]);\n    this.ctx.lineTo(args[2], args[3]);\n    this.ctx.stroke();\n\n    this.ctx.closePath();\n  }\n\n  protected strokeLines(args: any[], buffers: any) {\n    this.ctx.beginPath();\n    const points = getArg(args[0], buffers);\n\n    // Move to the first point, then create lines between points\n    this.ctx.moveTo(points.getItem(0), points.getItem(1));\n    for (let idx = 2; idx < points.length; idx += 2) {\n      this.ctx.lineTo(points.getItem(idx), points.getItem(idx + 1));\n    }\n\n    this.ctx.stroke();\n    this.ctx.closePath();\n  }\n\n  protected fillPolygon(args: any[], buffers: any) {\n    this.ctx.beginPath();\n    const points = getArg(args[0], buffers);\n\n    // Move to the first point, then create lines between points\n    this.ctx.moveTo(points.getItem(0), points.getItem(1));\n    for (let idx = 2; idx < points.length; idx += 2) {\n      this.ctx.lineTo(points.getItem(idx), points.getItem(idx + 1));\n    }\n\n    this.ctx.closePath();\n    this.ctx.fill();\n  }\n\n  protected strokePolygon(args: any[], buffers: any) {\n    this.ctx.beginPath();\n    const points = getArg(args[0], buffers);\n\n    // Move to the first point, then create lines between points\n    this.ctx.moveTo(points.getItem(0), points.getItem(1));\n    for (let idx = 2; idx < points.length; idx += 2) {\n      this.ctx.lineTo(points.getItem(idx), points.getItem(idx + 1));\n    }\n\n    this.ctx.closePath();\n    this.ctx.stroke();\n  }\n\n  protected async fillPath(args: any[], buffers: any) {\n    const [serializedPath] = args;\n\n    const path = await unpack_models(serializedPath, this.widget_manager);\n\n    this.ctx.fill(path.value);\n  }\n\n  private async drawImage(args: any[], buffers: any) {\n    const [serializedImage, x, y, width, height] = args;\n\n    const image = await unpack_models(serializedImage, this.widget_manager);\n\n    if (image instanceof CanvasModel || image instanceof MultiCanvasModel) {\n      this._drawImage(image.canvas, x, y, width, height);\n      return;\n    }\n\n    if (image.get('_model_name') == 'ImageModel') {\n      const img = await createImageFromWidget(image);\n      this._drawImage(img, x, y, width, height);\n    }\n  }\n\n  private _drawImage(image: HTMLCanvasElement | HTMLImageElement,\n                     x: number, y: number,\n                     width: number | undefined, height: number | undefined) {\n    if (width === undefined || height === undefined) {\n      this.ctx.drawImage(image, x, y);\n    } else {\n      this.ctx.drawImage(image, x, y, width, height);\n    }\n  }\n\n  private putImageData(args: any[], buffers: any) {\n    const [bufferMetadata, dx, dy] = args;\n\n    const width = bufferMetadata.shape[1];\n    const height = bufferMetadata.shape[0];\n\n    const data = new Uint8ClampedArray(buffers[0].buffer);\n    const imageData = new ImageData(data, width, height);\n\n    // Draw on a temporary off-screen canvas. This is a workaround for `putImageData` to support transparency.\n    const offscreenCanvas = document.createElement('canvas');\n    offscreenCanvas.width = width;\n    offscreenCanvas.height = height;\n    getContext(offscreenCanvas).putImageData(imageData, 0, 0);\n\n    this.ctx.drawImage(offscreenCanvas, dx, dy);\n  }\n\n  protected async setAttr(attr: number, value: any) {\n    if (typeof value === 'string' && value.startsWith('IPY')) {\n      const widgetModel: GradientModel = await unpack_models(value, this.widget_manager);\n      value = widgetModel.value;\n    }\n\n    (this.ctx as any)[CanvasModel.ATTRS[attr]] = value;\n  }\n\n  private clearCanvas() {\n    this.forEachView((view: CanvasView) => {\n      view.clear();\n    });\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  protected executeCommand(name: string, args: any[] = []) {\n    (this.ctx as any)[name](...args);\n  }\n\n  private forEachView(callback: (view: CanvasView) => void) {\n    for (const view_id in this.views) {\n      this.views[view_id].then((view: CanvasView) => {\n        callback(view);\n      });\n    }\n  }\n\n  private resizeCanvas() {\n    this.canvas.setAttribute('width', this.get('width'));\n    this.canvas.setAttribute('height', this.get('height'));\n  }\n\n  private async syncImageData() {\n    if (!this.get('sync_image_data')) {\n      return;\n    }\n\n    const bytes = await toBytes(this.canvas);\n\n    this.set('image_data', bytes);\n    this.save_changes();\n  }\n\n  static model_name = 'CanvasModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n  static view_name = 'CanvasView';\n  static view_module = MODULE_NAME;\n  static view_module_version = MODULE_VERSION;\n\n  canvas: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n\n  views: Dict<Promise<CanvasView>>;\n}\n\n\nexport\nclass RoughCanvasModel extends CanvasModel {\n  static ROUGH_ATTRS: string[] = new Array(100).concat(['roughFillStyle', 'roughness', 'bowing']);\n\n  defaults() {\n    return {...super.defaults(),\n      _model_name: RoughCanvasModel.model_name,\n    };\n  }\n\n  initialize(attributes: any, options: any) {\n    super.initialize(attributes, options);\n\n    this.roughCanvas = new RoughCanvas(this.canvas);\n  }\n\n  protected fillRect(x: number, y: number, width: number, height: number) {\n    this.roughCanvas.rectangle(x, y, width, height, this.getRoughFillStyle());\n  }\n\n  protected strokeRect(x: number, y: number, width: number, height: number) {\n    this.roughCanvas.rectangle(x, y, width, height, this.getRoughStrokeStyle());\n  }\n\n  protected fillCircle(x: number, y: number, radius: number) {\n    this.roughCanvas.circle(x, y, 2. * radius, this.getRoughFillStyle());\n  }\n\n  protected strokeCircle(x: number, y: number, radius: number) {\n    this.roughCanvas.circle(x, y, 2. * radius, this.getRoughStrokeStyle());\n  }\n\n  protected strokeLine(args: any[], buffers: any) {\n    this.roughCanvas.line(args[0], args[1], args[2], args[3], this.getRoughStrokeStyle());\n  }\n\n  protected strokeLines(args: any[], buffers: any) {\n    const points = getArg(args[0], buffers);\n\n    const polygon: [number, number][] = [];\n    for (let idx = 0; idx < points.length; idx += 2) {\n      polygon.push([points.getItem(idx), points.getItem(idx + 1)]);\n    }\n\n    this.roughCanvas.linearPath(polygon, this.getRoughStrokeStyle());\n  }\n\n  protected async fillPath(args: any[], buffers: any) {\n    const [serializedPath] = args;\n\n    const path = await unpack_models(serializedPath, this.widget_manager);\n\n    this.roughCanvas.path(path.get('value'), this.getRoughFillStyle());\n  }\n\n  protected fillArc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\n    const ellipseSize = 2. * radius;\n\n    // The following is needed because roughjs does not allow a clockwise draw\n    const start = anticlockwise ? endAngle : startAngle;\n    const end = anticlockwise ? startAngle + 2. * Math.PI : endAngle;\n\n    this.roughCanvas.arc(x, y, ellipseSize, ellipseSize, start, end, true, this.getRoughFillStyle());\n  }\n\n  protected strokeArc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\n    const ellipseSize = 2. * radius;\n\n    // The following is needed because roughjs does not allow a clockwise draw\n    const start = anticlockwise ? endAngle : startAngle;\n    const end = anticlockwise ? startAngle + 2. * Math.PI : endAngle;\n\n    this.roughCanvas.arc(x, y, ellipseSize, ellipseSize, start, end, false, this.getRoughStrokeStyle());\n  }\n\n  protected fillPolygon(args: any[], buffers: any) {\n    const points = getArg(args[0], buffers);\n\n    const polygon: [number, number][] = [];\n    for (let idx = 0; idx < points.length; idx += 2) {\n      polygon.push([points.getItem(idx), points.getItem(idx + 1)]);\n    }\n\n    this.roughCanvas.polygon(polygon, this.getRoughFillStyle());\n  }\n\n  protected strokePolygon(args: any[], buffers: any) {\n    const points = getArg(args[0], buffers);\n\n    const polygon: [number, number][] = [];\n    for (let idx = 0; idx < points.length; idx += 2) {\n      polygon.push([points.getItem(idx), points.getItem(idx + 1)]);\n    }\n\n    this.roughCanvas.polygon(polygon, this.getRoughStrokeStyle());\n  }\n\n  protected async setAttr(attr: number, value: any) {\n    if (RoughCanvasModel.ROUGH_ATTRS[attr]) {\n      (this as any)[RoughCanvasModel.ROUGH_ATTRS[attr]] = value;\n\n      return;\n    }\n\n    await super.setAttr(attr, value);\n  }\n\n  private getRoughFillStyle() {\n    const fill = this.ctx.fillStyle as string;\n    const lineWidth = this.ctx.lineWidth;\n\n    return {\n      fill,\n      fillStyle: this.roughFillStyle,\n      fillWeight: lineWidth / 2.,\n      hachureGap: lineWidth * 4.,\n      curveStepCount: 18,\n      strokeWidth: 0.001, // This is to ensure there is no stroke,\n      roughness: this.roughness,\n      bowing: this.bowing,\n    };\n  }\n\n  private getRoughStrokeStyle() {\n    const stroke = this.ctx.strokeStyle as string;\n    const lineWidth = this.ctx.lineWidth;\n\n    return {\n      stroke,\n      strokeWidth: lineWidth,\n      roughness: this.roughness,\n      bowing: this.bowing,\n      curveStepCount: 18,\n    };\n  }\n\n  static model_name = 'RoughCanvasModel';\n\n  roughCanvas: RoughCanvas;\n\n  roughFillStyle: string = 'hachure';\n  roughness: number = 1.;\n  bowing: number = 1.;\n}\n\n\nexport\nclass CanvasView extends DOMWidgetView {\n  render() {\n    this.ctx = getContext(this.el);\n\n    this.resizeCanvas();\n    this.model.on_some_change(['width', 'height'], this.resizeCanvas, this);\n\n    this.el.addEventListener('mousemove', { handleEvent: this.onMouseMove.bind(this) });\n    this.el.addEventListener('mousedown', { handleEvent: this.onMouseDown.bind(this) });\n    this.el.addEventListener('mouseup', { handleEvent: this.onMouseUp.bind(this) });\n    this.el.addEventListener('mouseout', { handleEvent: this.onMouseOut.bind(this) });\n    this.el.addEventListener('touchstart', { handleEvent: this.onTouchStart.bind(this) });\n    this.el.addEventListener('touchend', { handleEvent: this.onTouchEnd.bind(this) });\n    this.el.addEventListener('touchmove', { handleEvent: this.onTouchMove.bind(this) });\n    this.el.addEventListener('touchcancel', { handleEvent: this.onTouchCancel.bind(this) });\n\n    this.updateCanvas();\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.el.width, this.el.height);\n  }\n\n  updateCanvas() {\n    this.clear();\n    this.ctx.drawImage(this.model.canvas, 0, 0);\n  }\n\n  protected resizeCanvas() {\n    this.el.setAttribute('width', this.model.get('width'));\n    this.el.setAttribute('height', this.model.get('height'));\n  }\n\n  private onMouseMove(event: MouseEvent) {\n    this.model.send({ event: 'mouse_move', ...this.getCoordinates(event) }, {});\n  }\n\n  private onMouseDown(event: MouseEvent) {\n    this.model.send({ event: 'mouse_down', ...this.getCoordinates(event) }, {});\n  }\n\n  private onMouseUp(event: MouseEvent) {\n    this.model.send({ event: 'mouse_up', ...this.getCoordinates(event) }, {});\n  }\n\n  private onMouseOut(event: MouseEvent) {\n    this.model.send({ event: 'mouse_out', ...this.getCoordinates(event) }, {});\n  }\n\n  private onTouchStart(event: TouchEvent) {\n    const touches: Touch[] = Array.from(event.touches);\n    this.model.send({ event: 'touch_start', touches: touches.map(this.getCoordinates.bind(this)) }, {});\n  }\n\n  private onTouchEnd(event: TouchEvent) {\n    const touches: Touch[] = Array.from(event.touches);\n    this.model.send({ event: 'touch_end', touches: touches.map(this.getCoordinates.bind(this)) }, {});\n  }\n\n  private onTouchMove(event: TouchEvent) {\n    const touches: Touch[] = Array.from(event.touches);\n    this.model.send({ event: 'touch_move', touches: touches.map(this.getCoordinates.bind(this)) }, {});\n  }\n\n  private onTouchCancel(event: TouchEvent) {\n    const touches: Touch[] = Array.from(event.touches);\n    this.model.send({ event: 'touch_cancel', touches: touches.map(this.getCoordinates.bind(this)) }, {});\n  }\n\n  protected getCoordinates(event: MouseEvent | Touch) {\n    const rect = this.el.getBoundingClientRect();\n\n    const x = this.el.width * (event.clientX - rect.left) / rect.width;\n    const y = this.el.height * (event.clientY - rect.top) / rect.height;\n\n    return { x, y };\n  }\n\n  get tagName(): string {\n    return 'canvas';\n  }\n\n  el: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n\n  model: CanvasModel | MultiCanvasModel;\n}\n\n\nexport\nclass MultiCanvasModel extends DOMWidgetModel {\n  defaults() {\n    return {...super.defaults(),\n      _model_name: MultiCanvasModel.model_name,\n      _model_module: MultiCanvasModel.model_module,\n      _model_module_version: MultiCanvasModel.model_module_version,\n      _view_name: MultiCanvasModel.view_name,\n      _view_module: MultiCanvasModel.view_module,\n      _view_module_version: MultiCanvasModel.view_module_version,\n      _canvases: [],\n      sync_image_data: false,\n      image_data: null,\n      width: 700,\n      height: 500,\n    };\n  }\n\n  static serializers: ISerializers = {\n    ...DOMWidgetModel.serializers,\n    _canvases: { deserialize: (unpack_models as any) },\n    image_data: { serialize: (bytes: Uint8ClampedArray) => {\n      return new DataView(bytes.buffer.slice(0));\n    }}\n  }\n\n  initialize(attributes: any, options: any) {\n    super.initialize(attributes, options);\n\n    this.canvas = document.createElement('canvas');\n    this.ctx = getContext(this.canvas);\n\n    this.resizeCanvas();\n\n    this.on_some_change(['width', 'height'], this.resizeCanvas, this);\n    this.on('change:_canvases', this.updateCanvasModels.bind(this));\n    this.on('change:sync_image_data', this.syncImageData.bind(this));\n\n    this.updateCanvasModels();\n  }\n\n  get canvasModels(): CanvasModel[] {\n    return this.get('_canvases');\n  }\n\n  private updateCanvasModels() {\n    // TODO: Remove old listeners\n    for (const canvasModel of this.canvasModels) {\n      canvasModel.on('new-frame', this.updateCanvas, this);\n    }\n\n    this.updateCanvas();\n  }\n\n  private updateCanvas() {\n    this.ctx.clearRect(0, 0, this.get('width'), this.get('height'));\n\n    for (const canvasModel of this.canvasModels) {\n      this.ctx.drawImage(canvasModel.canvas, 0, 0);\n    }\n\n    this.forEachView((view: MultiCanvasView) => {\n      view.updateCanvas();\n    });\n\n    this.syncImageData();\n  }\n\n  private resizeCanvas() {\n    this.canvas.setAttribute('width', this.get('width'));\n    this.canvas.setAttribute('height', this.get('height'));\n  }\n\n  private async syncImageData() {\n    if (!this.get('sync_image_data')) {\n      return;\n    }\n\n    const bytes = await toBytes(this.canvas);\n\n    this.set('image_data', bytes);\n    this.save_changes();\n  }\n\n  private forEachView(callback: (view: MultiCanvasView) => void) {\n    for (const view_id in this.views) {\n      this.views[view_id].then((view: MultiCanvasView) => {\n        callback(view);\n      });\n    }\n  }\n\n  canvas: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n\n  views: Dict<Promise<MultiCanvasView>>;\n\n  static model_name = 'MultiCanvasModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n  static view_name = 'MultiCanvasView';\n  static view_module = MODULE_NAME;\n  static view_module_version = MODULE_VERSION;\n}\n\n\nexport\nclass MultiCanvasView extends CanvasView {\n  model: MultiCanvasModel;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__612__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(112);\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}