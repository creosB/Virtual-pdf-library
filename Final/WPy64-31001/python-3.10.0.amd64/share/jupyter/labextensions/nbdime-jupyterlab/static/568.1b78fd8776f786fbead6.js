(self.webpackChunknbdime_jupyterlab=self.webpackChunknbdime_jupyterlab||[]).push([[568],{4599:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,'\r\n.nbdime-Widget {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.nbdime-root {\r\n  padding: var(--jp-notebook-padding);\r\n  min-width: 50px;\r\n  min-height: 50px;\r\n  outline: none;\r\n  overflow: auto;\r\n  background: var(--jp-layout-color0);\r\n  color: var(--jp-ui-font-color0);\r\n  flex: 1 1 auto;\r\n}\r\n\r\n.jp-ToolbarButtonComponent-icon.action-notebook-diff {\r\n  color: var(--jp-ui-font-color0);\r\n}\r\n\r\n.nbdime-toolbarButton .jp-ToolbarButtonComponent-label {\r\n  display: none;\r\n}\r\n\r\n.jp-PluginList-icon.nbdime-icon {\r\n  font-size: 16px;\r\n  vertical-align: text-bottom;\r\n}\r\n\r\n\r\n/* Header syling */\r\n\r\n.jp-fa-tabIcon {\r\n  padding-top: 6px;\r\n}\r\n\r\n.nbdime-Diff {\r\n  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);\r\n  box-shadow: var(--jp-toolbar-box-shadow);\r\n  background: var(--jp-toolbar-background);\r\n  color: var(--jp-ui-font-color1);\r\n  flex: 0 0 auto;\r\n  padding: 2px;\r\n  z-index: 1;\r\n}\r\n\r\n.nbdime-header-buttonrow > * {\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n}\r\n\r\n.nbdime-Diff .nbdime-header-base {\r\n  display: inline-block;\r\n  width: calc(50% - 8px);\r\n  background-color: var(--jp-diff-deleted-color0);\r\n  padding: 0px 4px;\r\n  vertical-align: top;\r\n}\r\n\r\n.nbdime-Diff .nbdime-header-remote {\r\n  display: inline-block;\r\n  width: calc(49% - 8px);\r\n  background-color: var(--jp-diff-added-color0);\r\n  padding: 0px 4px;\r\n  vertical-align: top;\r\n}\r\n\r\n.nbdime-Diff .nbdime-header-local {\r\n  display: none;\r\n  width: calc(49% - 8px);\r\n  padding: 0px 4px;\r\n  vertical-align: top;\r\n}\r\n\r\n\r\n\r\n/* Hiding unchanged cells if told to */\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Cell-diff.jp-Diff-unchanged {\r\n  display: none;\r\n}\r\n\r\n/* Show a marker with the number of cells hidden before */\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Cell-diff[data-nbdime-NCellsHiddenBefore]::before,\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Diff-addremchunk[data-nbdime-NCellsHiddenBefore]::before {\r\n  content: attr(data-nbdime-NCellsHiddenBefore) " unchanged cell(s) hidden";\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 0;\r\n  background-color: var(--jp-layout-color2);\r\n  border-top: solid var(--jp-layout-color3) 1px;\r\n  border-bottom: solid var(--jp-layout-color3) 1px;\r\n  text-align: center;\r\n}\r\n\r\n/* Show a marker with the number of cells hidden after (for hidden cells at end) */\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Cell-diff[data-nbdime-NCellsHiddenAfter]::after,\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Diff-addremchunk[data-nbdime-NCellsHiddenAfter]::after {\r\n  content: attr(data-nbdime-NCellsHiddenAfter) " unchanged cell(s) hidden";\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 0;\r\n  background-color: var(--jp-layout-color2);\r\n  border-top: solid var(--jp-layout-color3) 1px;\r\n  border-bottom: solid var(--jp-layout-color3) 1px;\r\n  text-align: center;\r\n}\r\n\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Cell-diff[data-nbdime-NCellsHiddenBefore],\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Diff-addremchunk[data-nbdime-NCellsHiddenBefore] {\r\n  padding-top: 40px;\r\n}\r\n\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Cell-diff[data-nbdime-NCellsHiddenAfter],\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Diff-addremchunk[data-nbdime-NCellsHiddenAfter] {\r\n  padding-bottom: 40px;\r\n}\r\n\r\n/* Marker for when all cells are unchanged and hidden */\r\n.nbdime-root.jp-mod-hideUnchanged .jp-Notebook-diff[data-nbdime-AllCellsHidden]::after {\r\n  content: "No changes, " attr(data-nbdime-AllCellsHidden) " unchanged cell(s) hidden";\r\n  display: block;\r\n  width: 100%;\r\n  background-color: var(--jp-layout-color2);\r\n  border-top: solid var(--jp-layout-color3) 1px;\r\n  border-bottom: solid var(--jp-layout-color3) 1px;\r\n  text-align: center;\r\n}\r\n',""]),e.exports=t},3395:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,"\r\n.jp-CollapsiblePanel {\r\n    border: var(--jp-nbdime-output-color1) solid 1pt;\r\n}\r\n\r\nbutton.jp-CollapsiblePanel-header-icon {\r\n    height: 24px;\r\n    width: 24px;\r\n    float: right;\r\n    font-size: var(--jp-ui-font-size1);\r\n    margin-top: .1em;\r\n    padding: 0 2px;\r\n\r\n    color: var(--jp-ui-font-color2);\r\n    background-color: transparent;\r\n\r\n    border: 1px solid var(--jp-nbdime-output-color2);\r\n    border-radius: 2px;\r\n\r\n    text-decoration: none;\r\n    transition: background-color 0.1s ease;\r\n}\r\n\r\n/* Remove text border, as we don't use button text for icon */\r\nbutton.jp-CollapsiblePanel-header-icon::-moz-focus-inner {\r\n    border: none;\r\n}\r\n\r\n\r\nbutton.jp-CollapsiblePanel-header-icon:focus,\r\nbutton.jp-CollapsiblePanel-header-icon:hover,\r\nbutton.jp-CollapsiblePanel-header-icon:active {\r\n    border: 1px solid var(--jp-ui-font-color1);\r\n}\r\n\r\n.jp-CollapsiblePanel-header {\r\n    padding-top: .2em;\r\n    padding-bottom: .2em;\r\n    background-color: var(--jp-nbdime-output-color3);\r\n    padding-left: 2em;\r\n    padding-right: 2em;\r\n    border-top: var(--jp-nbdime-output-color1) solid 1pt;\r\n    color: var(--jp-ui-font-color1);\r\n}\r\n\r\n.jp-CollapsiblePanel-container {\r\n    overflow: hidden;\r\n}\r\n\r\n.jp-CollapsiblePanel-slider {\r\n\t/* complete liquid height based on the parent's height!! */\r\n    height:100%;\r\n\r\n    /* only transition on transform properties which are hardware accelerated = way better performances */\r\n\t-webkit-transition: -webkit-transform .3s ease, height 0.3s;\r\n       -moz-transition:    -moz-transform .3s ease, height 0.3s;\r\n        -ms-transition:     -ms-transform .3s ease, height 0.3s;\r\n            transition:         transform .3s ease, height 0.3s;\r\n}\r\n\r\n.jp-CollapsiblePanel-opened {\r\n    /* visible */\r\n    -webkit-transform: translate(0, 0%);\r\n       -moz-transform: translate(0, 0%);\r\n        -ms-transform: translate(0, 0%);\r\n            transform: translate(0, 0%);\r\n    height: 100%;\r\n}\r\n\r\n.jp-CollapsiblePanel-closed {\r\n    /* completely offscreen */\r\n    -webkit-transform: translate(0, -100%);\r\n       -moz-transform: translate(0, -100%);\r\n        -ms-transform: translate(0, -100%);\r\n            transform: translate(0, -100%);\r\n    height: 0;\r\n}\r\n",""]),e.exports=t},7902:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,"/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014-2016, Jupyter Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|----------------------------------------------------------------------------*/\r\n\r\n\r\n.jp-DragPanel-dragHandle{\r\n  background:\r\n    radial-gradient(rgba(255,255,255, .6) 30%, transparent 31%) 0 0,\r\n    radial-gradient(transparent 19%,rgba(0,0,0,.4) 20%, transparent 50%) 0 1px;\r\n  background-size:6px 6px;\r\n}\r\n\r\n.p-Panel.jp-DragPanel .p-Widget.jp-mod-dropTarget {\r\n  border-top: 1px dashed black;\r\n}\r\n",""]),e.exports=t},9070:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,'\r\n.nbdime-root .CodeMirror-merge {\r\n  position: relative;\r\n  white-space: pre;\r\n  /* style as jp-InputArea-editor: */\r\n  border: var(--codemirror-border);\r\n  border-radius: 0px;\r\n  background: var(--jp-cell-editor-background);\r\n}\r\n\r\n.nbdime-root .CodeMirror.cm-s-jupyter {\r\n  background: transparent;\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge, .CodeMirror-merge .CodeMirror {\r\n  height: auto;\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge-4pane .CodeMirror-merge-pane-deleted {\r\n  display: none;\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge-pane-unchanged { width: 100%; }\r\n.nbdime-root .CodeMirror-merge-1pane .CodeMirror-merge-gap { width: 6%; }\r\n.nbdime-root .CodeMirror-merge-2pane .CodeMirror-merge-pane { width: 47%; }\r\n.nbdime-root .CodeMirror-merge-2pane .CodeMirror-merge-gap { width: 6%; }\r\n.nbdime-root .CodeMirror-merge-3pane .CodeMirror-merge-pane { width: 31%; }\r\n.nbdime-root .CodeMirror-merge-3pane .CodeMirror-merge-gap { width: 3.5%; }\r\n\r\n.nbdime-root .CodeMirror-merge-pane {\r\n  display: inline-block;\r\n  white-space: normal;\r\n  vertical-align: top;\r\n  width: 100%;\r\n}\r\n.nbdime-root .CodeMirror-merge-pane-rightmost {\r\n  position: absolute;\r\n  right: 0px;\r\n  z-index: 1;\r\n}\r\n\r\n.nbdime-root .p-Widget.CodeMirror-merge-gap {\r\n  z-index: 2;\r\n  display: inline-block;\r\n  height: 100%;\r\n  -moz-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  border-left: var(--codemirror-border);\r\n  border-right: var(--codemirror-border);\r\n  position: absolute;\r\n  color: var(--jp-ui-font-color2);\r\n  background: var(--jp-layout-color2);\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge-scrolllock-wrap {\r\n  position: absolute;\r\n  bottom: 0; left: 50%;\r\n}\r\n.nbdime-root .CodeMirror-merge-scrolllock {\r\n  position: relative;\r\n  left: -50%;\r\n  cursor: pointer;\r\n  line-height: 1;\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge-r-inserted, .CodeMirror-merge-l-inserted {\r\n    background-color: var(--jp-diff-added-color1);\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge-r-deleted, .CodeMirror-merge-l-deleted {\r\n    background-color: var(--jp-diff-deleted-color1);\r\n}\r\n\r\n.nbdime-root .CodeMirror-merge-collapsed-widget:before {\r\n  content: "(...)";\r\n}\r\n.nbdime-root .CodeMirror-merge-collapsed-widget {\r\n  cursor: pointer;\r\n  color: var(--jp-ui-font-color1);\r\n  background: var(--jp-layout-color2);\r\n  border: 1px solid var(--jp-border-color1);\r\n  font-size: 90%;\r\n  padding: 0 3px;\r\n  border-radius: 4px;\r\n}\r\n.nbdime-root .CodeMirror-merge-collapsed-line .CodeMirror-gutter-elt { display: none; }\r\n\r\n.nbdime-root .CodeMirror-merge-spacer {\r\n  background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.5) 5px, rgba(255,255,255,.5) 10px);\r\n}\r\n',""]),e.exports=t},5978:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,"\r\n\r\n.jp-Notebook-diff .jp-Diff-unchanged .jp-Output *:first-child {\r\n  margin-left: auto;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-unchanged .jp-Output *:last-child {\r\n  margin-right: auto;\r\n}\r\n\r\n/* Alternative for showing single cell when cells are equal */\r\n.jp-Notebook-diff .jp-Diff-unchanged {\r\n  margin-left: 10%;\r\n  width: 80%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-unchanged .jp-Diff-unchanged {\r\n  margin-left: 0;\r\n  width: 100%;\r\n}\r\n\r\n/* Match input border of unchanged cell source */\r\n.jp-Notebook-diff .jp-Diff-unchanged .CodeMirror-merge-pane-unchanged {\r\n  border: var(--jp-border-width) solid var(--jp-private-notebook-cell-editor-border);\r\n}\r\n\r\n/* Do not use border between unchanged cells */\r\n.jp-Notebook-diff .jp-Diff-unchanged + .jp-Diff-unchanged > div:first-of-type {\r\n    border: none;\r\n}\r\n\r\n/* We can float prompt left when unchanged */\r\n.jp-Notebook-diff .jp-Diff-unchanged .jp-Cellrow-executionCount {\r\n  float: left;\r\n}\r\n\r\n\r\n.jp-Notebook-diff .jp-Metadata-diff {\r\n  margin-bottom: 20px;\r\n  border: solid black thin;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Cell-diff {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n/* Border on top of cell */\r\n.jp-Notebook-diff .jp-Cell-diff > div:first-of-type {\r\n  border-top: solid #ccc 1px;\r\n}\r\n\r\n\r\n.jp-Notebook-diff .jp-Diff-added .jp-Cellrow-source,\r\n.jp-Notebook-diff .jp-Diff-added .jp-Cellrow-outputs {\r\n  border-left: var(--codemirror-border);\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-deleted .jp-Cellrow-source,\r\n.jp-Notebook-diff .jp-Diff-deleted .jp-Cellrow-outputs {\r\n  border-right: var(--codemirror-border);\r\n}\r\n\r\n/* Add/delete chunks for small width devices (added before delete) */\r\n.jp-Notebook-diff .jp-Diff-addremchunk {\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  justify-content: space-between;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-addremchunk .jp-Diff-addedchunk,\r\n.jp-Notebook-diff .jp-Diff-addremchunk .jp-Diff-removedchunk {\r\n  width: 100%;\r\n}\r\n\r\n/* Add/delete chunks should show side-by-side for larger screens */\r\n@media (min-width: 1000px) {\r\n  .jp-Notebook-diff .jp-Diff-addremchunk {\r\n    flex-direction: row-reverse;\r\n  }\r\n\r\n  .jp-Notebook-diff .jp-Diff-addremchunk .jp-Diff-addedchunk,\r\n  .jp-Notebook-diff .jp-Diff-addremchunk .jp-Diff-removedchunk {\r\n    width: 49%;\r\n  }\r\n}\r\n\r\n/* Hide metadata changes by default */\r\n.jp-Notebook-diff .jp-Diff-added .jp-Cellrow-metadata,\r\n.jp-Notebook-diff .jp-Diff-deleted .jp-Cellrow-metadata,\r\n.jp-Notebook-diff .jp-Diff-unchanged .jp-Cellrow-outputs {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-added .jp-Cellrow-outputs,\r\n.jp-Notebook-diff .jp-Diff-deleted .jp-Cellrow-outputs {\r\n  border-top: var(--jp-nbdime-output-color1) solid 1pt;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-added .jp-Diff-unchanged {\r\n  margin-left: 25%;\r\n  width: 75%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-deleted .jp-Diff-unchanged {\r\n  margin-left: 0;\r\n  width: 75%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-unchanged .jp-Output-result > * {\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Cellrow-outputs .jp-Diff-twoway .jp-Diff-base {\r\n  float: left;\r\n  width: 47%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Cellrow-outputs .jp-Diff-twoway .jp-Diff-remote {\r\n  float: right;\r\n  width: 47%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Output-result img {\r\n  max-width: 100%;\r\n}\r\n\r\n.jp-Notebook-diff .CodeMirror-merge-pane-remote {\r\n  position: relative;\r\n  left: 6%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Cellrow-source .CodeMirror-merge-pane-deleted,\r\n.jp-Notebook-diff .jp-Cellrow-source .CodeMirror-merge-pane-added {\r\n  width: 75%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-twoway .jp-Cellrow-outputs .jp-Diff-unchanged .jp-CodeMirrorWidget {\r\n  width: initial;\r\n  max-width: 100%;\r\n}\r\n/* Ensure unchanged images are centered */\r\n.jp-Notebook-diff .jp-Diff-twoway .jp-Cellrow-outputs .jp-Diff-unchanged .jp-RenderedImage {\r\n  text-align: center;\r\n}\r\n\r\n/* Color diff highlighting according to style vars */\r\n.jp-Notebook-diff .CodeMirror-merge-r-chunk { background-color: var(--jp-diff-deleted-color2); }\r\n.jp-Notebook-diff .CodeMirror-merge-r-chunk-start { border-top: 1px solid var(--jp-diff-deleted-color0); }\r\n.jp-Notebook-diff .CodeMirror-merge-r-chunk-end { border-bottom: 1px solid var(--jp-diff-deleted-color0); }\r\n.jp-Notebook-diff .CodeMirror-merge-r-connect { fill: var(--jp-diff-deleted-color2); stroke: var(--jp-diff-deleted-color0); stroke-width: 1px; }\r\n.jp-Notebook-diff .CodeMirror-merge-spacer { background-color: var(--jp-diff-deleted-color2); }\r\n\r\n.jp-Notebook-diff .CodeMirror-merge-pane-remote .CodeMirror-merge-r-chunk { background-color: var(--jp-diff-added-color2); }\r\n.jp-Notebook-diff .CodeMirror-merge-pane-remote .CodeMirror-merge-r-chunk-start { border-top: 1px solid var(--jp-diff-added-color0); }\r\n.jp-Notebook-diff .CodeMirror-merge-pane-remote .CodeMirror-merge-r-chunk-end { border-bottom: 1px solid var(--jp-diff-added-color0); }\r\n.jp-Notebook-diff .CodeMirror-merge-pane-remote .CodeMirror-merge-r-connect { fill: var(--jp-diff-added-color2); stroke: var(--jp-diff-added-color0); stroke-width: 1px; }\r\n.jp-Notebook-diff .CodeMirror-merge-pane-remote .CodeMirror-merge-spacer { background-color: var(--jp-diff-added-color2); }\r\n\r\n\r\n.jp-Notebook-diff .jp-Diff-deleted .CodeMirror,\r\n.jp-Notebook-diff .jp-Diff-deleted .jp-Diff-renderedOutput,\r\n.jp-Cellrow-outputs .jp-Diff-twoway .jp-Diff-base {\r\n  background-color: var(--jp-diff-deleted-color2);\r\n  border: solid 1px var(--jp-diff-deleted-color0);\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-added .CodeMirror,\r\n.jp-Notebook-diff .jp-Diff-added .jp-Diff-renderedOutput,\r\n.jp-Cellrow-outputs .jp-Diff-twoway .jp-Diff-remote {\r\n  background-color: var(--jp-diff-added-color2);\r\n  border: solid 1px var(--jp-diff-added-color0);\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-added .CodeMirror-merge-pane-added,\r\n.jp-Notebook-diff .jp-Diff-deleted .CodeMirror-merge-pane-deleted {\r\n  width: 100%;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Cellrow-source .jp-InputPrompt {\r\n  text-align: left;\r\n}\r\n\r\n.jp-CollapsiblePanel-container {\r\n  background-color: var(--jp-layout-color1);\r\n  color: var(--jp-ui-font-color1);\r\n}\r\n\r\n/*\r\nOutput mimetype selection:\r\n*/\r\n\r\n.jp-Notebook-diff .jp-Diff-outputPanel .jp-Diff-outputMenu {\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, 0);\r\n  background-color: var(--jp-layout-color1);\r\n  color: var(--jp-ui-font-color1);\r\n  padding: 3px 5px;\r\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\r\n  z-index: 10;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-outputPanel:hover .jp-Diff-outputMenu {\r\n  display: initial;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-trustOutputButton {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-trustCandidate .jp-Diff-trustOutputButton {\r\n  display: initial;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-outputPanel:not(.jp-Diff-trustCandidate) .jp-diff-base64Output + .jp-Diff-outputMenu {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-outputPanel .jp-Diff-outputMenu > :not(:first-child) {\r\n  margin-left: 5px;\r\n}\r\n\r\n.jp-Diff-outputsContainer > .p-Widget:not(:last-child) {\r\n  padding-bottom: 6px;\r\n  min-height: 2em;\r\n  border-bottom: var(--jp-border-width) solid var(--jp-nbdime-output-color2);\r\n}\r\n\r\n.jp-Notebook-diff .jp-Diff-renderedOutput {\r\n  /* Ensure output is always large enough to show menu */\r\n  min-height: 2em;\r\n}\r\n",""]),e.exports=t},3424:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,"\r\n\r\n\r\n.jp-Notebook-merge .jp-Metadata-diff {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Metadata-diff .jp-CollapsiblePanel {\r\n  border: solid black thin;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cell-merge {\r\n  background-color: var(--jp-layout-color1);\r\n}\r\n\r\n/* Alternative for showing single cell when cells are equal */\r\n.jp-Notebook-merge .jp-Merge-unchanged {\r\n  margin-left: 10%;\r\n  width: 80%;\r\n}\r\n\r\n.jp-Notebook-merge .jp-merge-celldragdrop > .p-Panel:not(:first-child) {\r\n  margin-top: 20px;\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-pane-local,\r\n.jp-Notebook-merge .CodeMirror-merge-pane-remote,\r\n.jp-Notebook-merge .CodeMirror-merge-pane-base:not(.CodeMirror-merge-pane-unchanged):not(.CodeMirror-merge-pane-deleted):not(.CodeMirror-merge-pane-added) {\r\n  width: 33%;\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-pane-final {\r\n  width: 100%;\r\n  border-top: var(--codemirror-border);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Output-result img {\r\n  max-width: 100%;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-cellHeader {\r\n  display: flex;\r\n  background-color: var(--jp-layout-color2);\r\n  border-top: solid #ccc 1px;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-cellHeader > .p-Widget {\r\n  margin-right: .5em;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-cellHeader-title {\r\n  flex-grow: 1;\r\n}\r\n\r\n.jp-Notebook-merge .jp-DragPanel-dragHandle {\r\n  height: 18px;\r\n  width: 12px;\r\n}\r\n\r\n.jp-Merge-dragimage-output {\r\n  background-color: var(--jp-layout-color1);\r\n  border: solid gray thin;\r\n  max-width: 33%;\r\n}\r\n\r\n.jp-Cell-merge.p-mod-drag-image {\r\n  background-color: var(--jp-layout-color1);\r\n}\r\n\r\n.jp-Cell-merge.p-mod-drag-image .jp-Merge-cellHeader {\r\n  display: none;\r\n}\r\n\r\n\r\n.jp-Merge-output-drop-delete {\r\n  border: 3px dashed var(--jp-nbdime-output-color2);\r\n  border-radius: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-pane-deleted,\r\n.jp-Notebook-merge .CodeMirror-merge-pane-added {\r\n  width: 100%;\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-spacer { background-color: #eee; }\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-r-chunk { background-color: var(--jp-merge-remote-color2); }\r\n.jp-Notebook-merge .CodeMirror-merge-r-chunk-start,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-start-remote { border-top: 1px solid var(--jp-merge-remote-color1); }\r\n.jp-Notebook-merge .CodeMirror-merge-r-chunk-end,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-remote { border-bottom: 1px solid var(--jp-merge-remote-color1); }\r\n.jp-Notebook-merge .CodeMirror-merge-r-connect { fill: var(--jp-merge-remote-color2); stroke: var(--jp-merge-remote-color1); stroke-width: 1px; }\r\n.jp-Notebook-merge .CodeMirror-line .CodeMirror-merge-r-inserted { background-color: var(--jp-merge-remote-color1); }\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-r-chunk-end-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-remote-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer {\r\n  border-bottom: 1px solid var(--jp-merge-remote-color1);\r\n  background-color: var(--jp-merge-remote-color3);\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk { background-color: var(--jp-merge-local-color2); }\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-start,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-start-local { border-top: 1px solid var(--jp-merge-local-color1); }\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-end,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-local { border-bottom: 1px solid var(--jp-merge-local-color1); }\r\n.jp-Notebook-merge .CodeMirror-merge-l-connect { fill: var(--jp-merge-local-color2); stroke: var(--jp-merge-local-color1); stroke-width: 1px; }\r\n.jp-Notebook-merge .CodeMirror-line .CodeMirror-merge-l-inserted { background-color: var(--jp-merge-local-color1) }\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-end-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-local-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer {\r\n  border-bottom: 1px solid var(--jp-merge-local-color1);\r\n  background-color: var(--jp-merge-local-color3);\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-custom { background-color: #ffb; }\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-start-custom { border-top: 1px solid #fe6; }\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-custom { border-bottom: 1px solid #fe6; }\r\n\r\n\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk.CodeMirror-merge-r-chunk { background: var(--jp-merge-both-color2); }\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-start.CodeMirror-merge-r-chunk-start { border-top: 1px solid var(--jp-merge-both-color1); }\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-end.CodeMirror-merge-r-chunk-end { border-bottom: 1px solid var(--jp-merge-both-color1); }\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-end-empty.CodeMirror-merge-r-chunk-end-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-remote-empty.CodeMirror-merge-m-chunk-end-local-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer {\r\n  border-bottom: 1px solid var(--jp-merge-both-color1);\r\n  background-color: var(--jp-merge-both-color2);\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-r-chunk-end-empty,\r\n.jp-Notebook-merge .CodeMirror-merge-l-chunk-end-empty,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-empty,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-either-empty,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-remote-empty,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-local-empty,\r\n.jp-Notebook-merge .CodeMirror pre.CodeMirror-line {\r\n  z-index: 3;\r\n}\r\n\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-start-either,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-start-mixed:not(.CodeMirror-merge-m-chunk-custom) {\r\n  border-top: 1px solid var(--jp-merge-either-color1);\r\n  }\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-either,\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-mixed:not(.CodeMirror-merge-m-chunk-custom) {\r\n  border-bottom: 1px solid var(--jp-merge-either-color1);\r\n  }\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-m-chunk-end-either-empty + .CodeMirror-linewidget .CodeMirror-merge-spacer {\r\n  border-bottom: 1px solid var(--jp-merge-either-color1);\r\n  background-color: var(--jp-merge-either-color2);\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-pane-base .CodeMirror-line .CodeMirror-merge-m-deleted,\r\n.jp-Notebook-merge .CodeMirror-merge-pane-base .CodeMirror-line .CodeMirror-merge-l-deleted,\r\n.jp-Notebook-merge .CodeMirror-merge-pane-base .CodeMirror-line .CodeMirror-merge-r-deleted {\r\n  background-color: initial;\r\n  color: #b00\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-gutter-wrapper {\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-linenumber {\r\n  bottom: 0;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-oneway-local,\r\n.jp-Notebook-merge .jp-Merge-oneway-remote {\r\n  width: 75%;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-oneway-remote {\r\n  margin-left: 25%;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-oneway-local .CodeMirror {\r\n  background-color: var(--jp-merge-local-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-oneway-remote .CodeMirror {\r\n  background-color: var(--jp-merge-remote-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-gutter-picker {\r\n  width: 16px;\r\n  text-align: right;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-gutter-conflict {\r\n  width: 16px;\r\n  color: #b00;\r\n  text-align: right;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-conflict {\r\n  background-color: var(--jp-merge-both-color2);\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-pane.CodeMirror-merge-pane-local.jp-mod-missing {\r\n  background-color: var(--jp-merge-local-color2);\r\n}\r\n\r\n.jp-Notebook-merge .CodeMirror-merge-pane.CodeMirror-merge-pane-remote.jp-mod-missing {\r\n  background-color: var(--jp-merge-remote-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cell-merge.jp-mod-todelete > .p-Widget:not(.jp-Merge-cellHeader) {\r\n  opacity: 0.5;\r\n  filter: alpha(opacity = 50);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cell-merge.jp-mod-todelete .jp-Merge-cellHeader {\r\n  background-color: var(--jp-merge-both-color2);\r\n}\r\n\r\n.jp-Cell-merge.jp-mod-clearoutputs .jp-Cellrow-outputs {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cellrow-outputs .jp-OutputArea {\r\n  border: #666 solid 1pt;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cellrow-outputs .p-FlexPanel:last-of-type .jp-OutputArea {\r\n  margin-top: 5px;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cellrow-outputs.jp-conflicted-outputs .jp-CollapsiblePanel-header {\r\n  background-color: var(--jp-merge-both-color2)\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cellrow-outputs.jp-conflicted-outputs .jp-CollapsiblePanel-header {\r\n  background-color: var(--jp-merge-both-color2);\r\n  border-top: var(--jp-merge-both-color1) solid 1pt;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cellrow-outputs.jp-conflicted-outputs {\r\n    border: var(--jp-merge-both-color1) solid 1pt;\r\n}\r\n\r\n.jp-conflicted-outputs-button {\r\n  display: inline;\r\n  margin-left: 20px;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-renderedOutput .jp-Merge-local {\r\n  background-color: var(--jp-merge-local-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-renderedOutput .jp-Merge-remote {\r\n  background-color: var(--jp-merge-remote-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Cellrow-outputs .jp-OutputArea {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  flex-wrap: nowrap;\r\n  min-height: 2em;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Merge-oneway-local .jp-Cellrow-outputs,\r\n.jp-Notebook-merge .jp-Merge-oneway-remote .jp-Cellrow-outputs {\r\n  border-top: var(--jp-nbdime-output-color1) solid 1pt;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Output:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.jp-Merge-notebook-controls {\r\n  justify-content: flex-end;\r\n  margin-bottom: 10px;\r\n  padding: 5px;\r\n  background-color: var(--jp-layout-color2);\r\n  border: solid 1px var(--jp-ui-font-color2);\r\n}\r\n\r\n.jp-Merge-notebook-controls:empty {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-merge label[disabled] {\r\n  color: var(--jp-ui-font-color3);\r\n}\r\n\r\n/* This fixes an alignment issue between gutter background\r\n and gutter elements, but not sure *why* this is needed.\r\n Might be fixing a symptom rather than the cause, but it\r\n works for now.\r\n */\r\n.jp-Notebook-merge .CodeMirror-gutter-wrapper {\r\n  margin-left: calc(-1 * var(--jp-code-padding));\r\n}\r\n\r\n\r\n/* Display chunks of conflicted cell with a start and end marker.\r\n Add a pseudo-element at start of chunk with button to mark chunk as resolved\r\n*/\r\n\r\n.jp-Notebook-merge .jp-conflicted-cells {\r\n  border: solid 2px var(--jp-error-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-conflicted-cells .jp-conflicted-cells-header {\r\n  background-color: var(--jp-error-color3);\r\n  display: flex;\r\n  padding-top: .2em;\r\n  padding-bottom: .2em;\r\n  padding-left: 2em;\r\n  padding-right: 2em;\r\n}\r\n\r\n.jp-Notebook-merge .jp-conflicted-cells .jp-conflicted-cells-button {\r\n  margin-left: auto;\r\n}\r\n\r\n.jp-Notebook-merge .jp-conflicted-cells > .jp-DragPanel {\r\n  padding: 4px;\r\n}\r\n\r\n\r\n\r\n/*\r\nOutput mimetype selection:\r\n*/\r\n\r\n.jp-Notebook-merge .jp-Diff-outputPanel .jp-Diff-outputMenu {\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, 0);\r\n  background-color: var(--jp-layout-color1);\r\n  color: var(--jp-ui-font-color1);\r\n  padding: 3px 5px;\r\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\r\n  z-index: 10;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-outputPanel:hover .jp-Diff-outputMenu {\r\n  display: initial;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-trustOutputButton {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-trustCandidate .jp-Diff-trustOutputButton {\r\n  display: initial;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-outputPanel:not(.jp-Diff-trustCandidate) .jp-diff-base64Output + .jp-Diff-outputMenu {\r\n  display: none;\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-outputPanel .jp-Diff-outputMenu > :not(:first-child) {\r\n  margin-left: 5px;\r\n}\r\n\r\n.jp-Diff-outputsContainer > .p-Widget:not(:last-child) {\r\n  padding-bottom: 6px;\r\n  min-height: 2em;\r\n  border-bottom: var(--jp-border-width) solid var(--jp-nbdime-output-color2);\r\n}\r\n\r\n.jp-Notebook-merge .jp-Diff-renderedOutput {\r\n  /* Ensure output is always large enough to show menu */\r\n  min-height: 2em;\r\n}\r\n",""]),e.exports=t},9750:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,"\r\n:root {\r\n  --codemirror-border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\r\n\r\n  --jp-nbdime-output-color1: rgba(0, 141, 255, 0.7);\r\n  --jp-nbdime-output-color2: rgba(0, 141, 255, 0.5);\r\n  --jp-nbdime-output-color3: rgba(0, 141, 255, 0.3);\r\n\r\n  --jp-diff-added-color0: rgba(0, 200, 20, 0.6);\r\n  --jp-diff-added-color1: rgba(0, 200, 20, 0.3);\r\n  --jp-diff-added-color2: rgba(0, 200, 20, 0.3);\r\n\r\n  --jp-diff-deleted-color0: rgba(240, 20, 0, 0.55);\r\n  --jp-diff-deleted-color1: rgba(255, 20, 0, 0.3);\r\n  --jp-diff-deleted-color2: rgba(255, 20, 0, 0.3);\r\n\r\n  --jp-merge-local-color1: #cbcbf8;\r\n  --jp-merge-local-color2: #ececff;\r\n  --jp-merge-local-color3: #e6e6ff;\r\n\r\n  --jp-merge-remote-color1: #beb;\r\n  --jp-merge-remote-color2: #dfd;\r\n  --jp-merge-remote-color3: #d8f9d8;\r\n\r\n  --jp-merge-both-color1: #f88888;\r\n  --jp-merge-both-color2: #ffdddd;\r\n\r\n  --jp-merge-either-color1: #aee;\r\n  --jp-merge-either-color2: #cff4f4;\r\n}",""]),e.exports=t},8661:(e,t,r)=>{(t=r(2609)(!1)).push([e.id,"\r\n.p-FlexPanel {\r\n  display: flex;\r\n}\r\n\r\n.p-FlexPanel.p-mod-left-to-right {\r\n  flex-direction: row;\r\n}\r\n\r\n.p-FlexPanel.p-mod-right-to-left {\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.p-FlexPanel.p-mod-top-to-bottom {\r\n  flex-direction: column;\r\n}\r\n\r\n.p-FlexPanel.p-mod-bottom-to-top {\r\n  flex-direction: column-reverse;\r\n}\r\n",""]),e.exports=t},7283:(e,t,r)=>{var o=r(4599);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},5502:(e,t,r)=>{var o=r(3395);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},5998:(e,t,r)=>{var o=r(7902);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},5742:(e,t,r)=>{var o=r(9070);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},8910:(e,t,r)=>{var o=r(5978);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},9174:(e,t,r)=>{var o=r(3424);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},902:(e,t,r)=>{var o=r(9750);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},5695:(e,t,r)=>{var o=r(8661);"string"==typeof o&&(o=[[e.id,o,""]]);r(2379)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},5575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNbInGit=t.diffNotebookGit=t.diffNotebookCheckpoint=t.diffNotebook=void 0;const o=r(4810),n=r(4834),i=r(1367),l=r(6988);t.diffNotebook=function(e){let{base:t,remote:r}=e,o=new i.NbdimeWidget(e);return o.title.label=`Diff: ${t} ↔ ${r}`,o.title.caption=`Local: ${t}\nRemote: '${r}'`,o},t.diffNotebookCheckpoint=function(e){const{path:t,rendermime:r,hideUnchanged:n}=e;let l=o.PathExt.dirname(t),s=o.PathExt.basename(t,".ipynb"),a=o.PathExt.join(l,s+".ipynb"),d=new i.NbdimeWidget({base:a,rendermime:r,baseLabel:"Checkpoint",hideUnchanged:n});return d.title.label=`Diff checkpoint: ${s}`,d.title.caption=`Local: latest checkpoint\nRemote: '${t}'`,d.title.iconClass="fa fa-clock-o jp-fa-tabIcon",d},t.diffNotebookGit=function(e){const{path:t,rendermime:r,hideUnchanged:n}=e;let l=o.PathExt.basename(t,".ipynb"),s=new i.NbdimeWidget({base:t,rendermime:r,hideUnchanged:n});return s.title.label=`Diff git: ${l}`,s.title.caption=`Local: git HEAD\nRemote: '${t}'`,s.title.iconClass="fa fa-git jp-fa-tabIcon",s},t.isNbInGit=function(e){let t={method:"POST",body:JSON.stringify(e)},r=n.ServerConnection.makeSettings();return n.ServerConnection.makeRequest(o.URLExt.join(l.urlRStrip(r.baseUrl),"/nbdime/api/isgit"),t,r).then((e=>e.ok?e.json():Promise.reject(e))).then((e=>e.is_git))}},1568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4480);r(5502),r(5695),r(5998),r(902),r(5742),r(8910),r(9174),r(7283),t.default=o.default},4480:function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function l(e){try{a(o.next(e))}catch(e){i(e)}}function s(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,s)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandIDs=t.NBDiffExtension=void 0;const n=r(7635),i=r(4810),l=r(9837),s=r(1840),a=r(3067),d=r(9850),f=r(9129),c=r(5575),u="nbdime-jupyterlab:plugin";class h{constructor(e){this.commands=e}createNew(e,t){let r=[],o=-1;d.find(e.toolbar.children(),((e,t)=>!!e.hasClass("jp-Notebook-toolbarCellType")&&(o=t,!0)));let i=1;for(let t of[p.diffNotebookCheckpoint,p.diffNotebookGit]){let l=new n.CommandToolbarButton({commands:this.commands,id:t});l.addClass("nbdime-toolbarButton"),o>=0?e.toolbar.insertItem(o+i++,this.commands.label(t),l):e.toolbar.addItem(this.commands.label(t),l),r.push(l)}return new f.DisposableDelegate((()=>{for(let e of r)e.dispose()}))}}var p;t.NBDiffExtension=h,function(e){e.diffNotebook="nbdime:diff",e.diffNotebookGit="nbdime:diff-git",e.diffNotebookCheckpoint="nbdime:diff-checkpoint"}(p=t.CommandIDs||(t.CommandIDs={}));const m={id:u,requires:[s.INotebookTracker,l.IRenderMimeRegistry,a.ISettingRegistry],activate:function(e,t,r,n){return o(this,void 0,void 0,(function*(){let{commands:o,docRegistry:l}=e,s=new h(o);l.addWidgetExtension("Notebook",s);const a=yield n.load(u);!function(e,t,r,o){const{commands:n,shell:l}=e;let s=!0;function a(){return s&&null!==t.currentWidget}let d={},f=2;function u(e){return()=>s?e:"Unable to query nbdime API. Is the server extension enabled?"}let h=!1!==o.get("hideUnchanged").composite;o.changed.connect((()=>{h=!1!==o.get("hideUnchanged").composite})),n.addCommand(p.diffNotebook,{execute:e=>{},label:u("Notebook diff"),caption:u("Display nbdiff between two notebooks"),isEnabled:a,icon:"jp-Icon jp-Icon-16 action-notebook-diff action-notebook-diff-notebooks",iconLabel:"nbdiff"}),n.addCommand(p.diffNotebookCheckpoint,{execute:e=>{let o=t.currentWidget;if(!o)return;let n=c.diffNotebookCheckpoint({path:o.context.path,rendermime:r,hideUnchanged:h});l.add(n),!1!==e.activate&&l.activateById(n.id)},label:u("Notebook checkpoint diff"),caption:u("Display nbdiff from checkpoint to currently saved version"),isEnabled:a,iconClass:"jp-Icon jp-Icon-16 fa fa-clock-o action-notebook-diff action-notebook-diff-checkpoint"}),n.addCommand(p.diffNotebookGit,{execute:e=>{let o=t.currentWidget;if(!o)return;let n=c.diffNotebookGit({path:o.context.path,rendermime:r,hideUnchanged:h});l.add(n),!1!==e.activate&&l.activateById(n.id)},label:u("Notebook Git diff"),caption:u("Display nbdiff from git HEAD to currently saved version"),isEnabled:function(){if(!a())return!1;let e=t.currentWidget.context.path,r=i.PathExt.dirname(e),o=d[r];if(void 0===o){const e=c.isNbInGit({path:r});return e.then((e=>{f=2,d[r]=e,e||n.notifyCommandChanged(p.diffNotebookGit)})),e.catch((e=>{s=void 0!==e.status&&404!==e.status,setTimeout((()=>{f*=2,n.notifyCommandChanged(p.diffNotebook),n.notifyCommandChanged(p.diffNotebookCheckpoint),n.notifyCommandChanged(p.diffNotebookGit)}),f)})),!0}return o},iconClass:"jp-Icon jp-Icon-16 fa fa-git action-notebook-diff action-notebook-diff-git"})}(e,t,r,a),t.currentChanged.connect((()=>{o.notifyCommandChanged(p.diffNotebookGit),t.size<=1&&(o.notifyCommandChanged(p.diffNotebook),o.notifyCommandChanged(p.diffNotebookCheckpoint))}))}))},autoStart:!0};t.default=m},6988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlRStrip=void 0,t.urlRStrip=function(e){return"/"===e.slice(-1)?e.slice(0,-1):e}},1367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbdimeWidget=void 0;const o=r(4834),n=r(6510),i=r(8152),l=r(1305),s=r(5703),a=r(2868),d="jp-mod-hideUnchanged";class f extends n.Panel{constructor(e){super(),this.addClass("nbdime-Widget"),this.base=e.base,this.remote=e.remote,this.rendermime=e.rendermime;let t=c.diffHeader(e);this.addWidget(t),this.scroller=new n.Panel,this.scroller.addClass("nbdime-root"),this.scroller.node.tabIndex=-1,this.addWidget(this.scroller);let r,i=t.node.getElementsByClassName("nbdime-hide-unchanged")[0];return i.checked=void 0===e.hideUnchanged||e.hideUnchanged,i.onchange=()=>{c.toggleShowUnchanged(this.scroller,!i.checked)},e.hideUnchanged&&c.toggleShowUnchanged(this.scroller,!1),r=this.remote?{base:this.base,remote:this.remote}:"Checkpoint"===e.baseLabel?{base:`checkpoint:${this.base}`}:{base:`git:${this.base}`},a.requestApiJson(o.ServerConnection.makeSettings().baseUrl,"nbdime/api/diff",r,this.onData.bind(this),this.onError.bind(this)),this.id=`nbdime-${JSON.stringify(r)}`,this.title.closable=!0,this}dispose(){super.dispose(),this.rendermime=null,this.header=null,this.scroller=null}onActivateRequest(e){this.scroller.node.focus()}onData(e){if(this.isDisposed)return;let t=e.base,r=e.diff,o=new i.NotebookDiffModel(t,r),n=new l.NotebookDiffWidget(o,this.rendermime);this.scroller.addWidget(n);let s=n.init();return s.then((()=>{c.markUnchangedRanges(this.scroller.node)})),s}onError(e){if(this.isDisposed)return;let t=new n.Widget;t.node.innerHTML=`Failed to fetch diff: ${e.message}`,this.scroller.addWidget(t)}}var c;t.NbdimeWidget=f,function(e){function t(e){if(!e.parentElement||!e.parentElement.parentElement)return e;let t=e.parentElement.parentElement;return t.classList.contains(s.CHUNK_PANEL_CLASS)?t:e}function r(e){let r=e.querySelectorAll(`.${l.CELLDIFF_CLASS}`),o=-1;for(let e=0;e<r.length;++e){let n=r[e];if(n.classList.contains(s.UNCHANGED_DIFF_CLASS))-1===o&&(o=e);else if(-1!==o){let r=e-o;t(n).setAttribute("data-nbdime-NCellsHiddenBefore",r.toString()),o=-1}}if(-1!==o){let n=r.length-o;if(0===o)return void(e.querySelector(".jp-Notebook-diff")||e).setAttribute("data-nbdime-AllCellsHidden",n.toString());t(r[o-1]).setAttribute("data-nbdime-NCellsHiddenAfter",n.toString())}}e.diffHeader=function(e){let{base:t,remote:r,baseLabel:o,remoteLabel:i}=e;r?(void 0===o&&(o=t),void 0===i&&(i=r)):(o||(o="git HEAD"),i=t);let l=document.createElement("div");return l.className="nbdime-Diff",l.innerHTML='\n      <div class="nbdime-header-buttonrow">\n        <label><input class="nbdime-hide-unchanged" type="checkbox">Hide unchanged cells</label>\n        <button class="nbdime-export" style="display: none">Export diff</button>\n      </div>\n      <div class=nbdime-header-banner>\n        <span class="nbdime-header-base"></span>\n        <span class="nbdime-header-remote"></span>\n      </div>',l.getElementsByClassName("nbdime-header-base")[0].innerText=o,l.getElementsByClassName("nbdime-header-remote")[0].innerText=i,new n.Widget({node:l})},e.toggleShowUnchanged=function(e,t){let o=e.hasClass(d);if(void 0===t)t=o;else if(o!==t)return;t?e.removeClass(d):(r(e.node),e.addClass(d)),e.update()},e.markUnchangedRanges=r}(c||(c={}))},1757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitMergeDecisionsOnChunks=void 0;const o=r(1406),n=r(7377),i=r(425);function l(e){for(let t of e)if(i.hasEntries(t))return!0;return!1}function s(e){let t=[];for(let r of e){let e,o=r.key;t.push(o),"addrange"===r.op||("removerange"===r.op?(e=o+r.length,t.push(e)):"patch"===r.op&&(e=o+1,t.push(e)))}return t.filter(i.unique)}function a(e,t){let r=[];if(!Array.isArray(t))throw new Error;let n=0;for(let l of e)if(i.valueIn(l.op,["addrange","patch"]))r.push(l);else{if("removerange"!==l.op)throw new Error("Unhandled diff entry op "+l.op);for(;t[n]<l.key;)n+=1;if(t[n]!==l.key)throw new Error;for(;n<t.length-1&&t[n+1]<=l.key+l.length;)r.push(o.opRemoveRange(t[n],t[n+1]-t[n])),n+=1}return r}function d(e,t){let r=[0,e.length];for(let e of t)if(i.hasEntries(e)){let t=s(e);r=r.concat(t)}r=r.filter(i.unique).sort();let o=[];for(let e of t)i.hasEntries(e)?o.push(a(e,r)):o.push(e);let n=function(e,t){let r=Array.apply(null,Array(t.length)).map(Number.prototype.valueOf,0),o=[];for(let n=0;n<e.length;++n){let i=e[n],s=n<e.length-1?e[n+1]:i,a=[];for(let e=0;e<t.length;++e){let o=t[e],n=[];for(;o&&r[e]<o.length&&o[r[e]].key===i;)n.push(o[r[e]]),r[e]+=1;a.push(n)}if(l(a)){let e={baseStart:i,baseEnd:s,diffs:a};o.push(e)}}return o}(r,o);return n}function f(e,t,r){if(r.length<2)return[t];let o=[];for(let l of r){let r=t.customDiff;i.hasEntries(r)&&(t.localPath.length>0&&(r=n.pushPath(r,t.localPath)),r=a(r,[0,e.length,l.baseStart,l.baseEnd].filter(i.unique).sort())),o.push(new n.MergeDecision(t.absolutePath.slice(),l.diffs[0],l.diffs[1],t.action,t.conflict))}return o}t.splitMergeDecisionsOnChunks=function(e,t){let r=[];for(let o of t){let t=d(e,[n.buildDiffs(e,[o],"local"),n.buildDiffs(e,[o],"remote")]);r=r.concat(f(e,o,t))}return r}},3231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.labelSource=t.lineToNormalChunks=t.LineChunker=t.Chunker=t.Chunk=void 0;const o=r(425);class n{constructor(e,t,r,o,n){this.baseFrom=e,this.baseTo=t,this.remoteFrom=r,this.remoteTo=o,this.sources=n?[n]:[]}inEdit(e){return e>=this.baseFrom&&e<=this.baseTo}inOrig(e){return e>=this.remoteFrom&&e<=this.remoteTo}}t.Chunk=n;class i{constructor(){this._currentGhost=null,this.chunks=[],this.editOffset=0}_getCurrent(){return this._currentGhost?(this._currentGhost=null,null):this.chunks.length>0?this.chunks[this.chunks.length-1]:null}_overlapChunk(e,t,r){return r?e.inOrig(t.from.line):e.inEdit(t.from.line)}addDiff(e,t){let r=e.to.line-e.from.line;e.endsOnNewline&&(r+=1);const i=0===e.from.ch&&r>0,l=e.chunkStartLine?0:1,s=e.chunkStartLine&&e.endsOnNewline&&i?0:1;let a=this._getCurrent();if(a&&(t?this._overlapChunk(a,e,t)?(a.remoteTo=Math.max(a.remoteTo,e.from.line+s+r),a.baseTo=Math.max(a.baseTo,e.from.line+s+this.editOffset),e.source&&!o.valueIn(e.source,a.sources)&&a.sources.push(e.source)):a=null:this._overlapChunk(a,e,t)?(a.remoteTo=Math.max(a.remoteTo,e.from.line+s-this.editOffset),a.baseTo=Math.max(a.baseTo,e.from.line+s+r),e.source&&!o.valueIn(e.source,a.sources)&&a.sources.push(e.source)):a=null),!a){if(t){let t=e.from.line,o=t+this.editOffset;a=new n(o+l,o+s,t+l,t+s+r)}else{let t=e.from.line,o=t-this.editOffset;a=new n(t+l,t+s+r,o+l,o+s)}e.source&&a.sources.push(e.source),this.chunks.push(a)}a.sources=a.sources.filter(o.unique),this.editOffset+=t?-r:r}addGhost(e,t,r){let i=e.to.line-e.from.line;e.endsOnNewline&&(i+=1);let l=0===e.from.ch&&i>0,s=e.chunkStartLine?0:1,a=e.chunkStartLine&&e.endsOnNewline&&l?0:1;t||(a+=i);let d=this._currentGhost,f=e.from.line+(t?r:0);if(d){let t=f-this.editOffset;d.baseTo>f?(d.remoteTo=Math.max(d.remoteTo,t+a),d.baseTo=Math.max(d.baseTo,f+a),e.source&&!o.valueIn(e.source,d.sources)&&d.sources.push(e.source)):d=null}if(!d){let t=f-this.editOffset;d=new n(f+s,f+a,t+s,t+a),e.source&&d.sources.push(e.source),this.chunks.push(d)}this._currentGhost=d,d.sources=d.sources.filter(o.unique)}}t.Chunker=i,t.LineChunker=class extends i{_overlapChunk(e,t,r){let o=t.from.line;return(e.baseFrom!==e.baseTo||e.remoteFrom>=e.remoteTo)&&(o+=1),r?e.inOrig(o):e.inEdit(o)}},t.lineToNormalChunks=function(e){let t=null,r=[];for(let n of e)null===t?t=o.shallowCopy(n):t.inEdit(n.baseFrom)?(t.remoteTo=Math.max(t.remoteTo,n.remoteTo),t.baseTo=Math.max(t.baseTo,n.baseTo),t.sources=t.sources.concat(n.sources)):(r.push(t),t=o.shallowCopy(n)),t.sources=t.sources.filter(o.unique);return null!==t&&r.push(t),r},t.labelSource=function e(t,r){if(t)for(let o of t)o.source=r,"patch"===o.op&&e(o.diff,r);return t}},7460:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(3231),t),n(r(1757),t)},1719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanel=void 0;const o=r(6510),n="jp-CollapsiblePanel-header-icon",i="jp-CollapsiblePanel-header-icon-opened",l="jp-CollapsiblePanel-header-icon-closed",s="jp-CollapsiblePanel-opened",a="jp-CollapsiblePanel-closed";class d extends o.Panel{constructor(e,t,r){super(),this.addClass("jp-CollapsiblePanel"),this.inner=e;let d=this.constructor.createHeader(t);this.header=d,this.button=d.node.getElementsByClassName(n)[0],d.node.onclick=this.toggleCollapsed.bind(this),this.addWidget(d),this.container=new o.Panel,this.container.addClass("jp-CollapsiblePanel-container"),this.slider=new o.Panel,this.slider.addClass("jp-CollapsiblePanel-slider"),this.slider.addWidget(e),this.container.addWidget(this.slider),this.addWidget(this.container),this.slider.addClass(!0===r?a:s),this.button.classList.add(!0===r?l:i),this.button.classList.add("fa"),this.button.classList.add(!0===r?"fa-caret-down":"fa-caret-up")}static createHeader(e){let t=new o.Panel;t.addClass("jp-CollapsiblePanel-header"),e&&(t.node.innerText=e);let r=document.createElement("button");return r.className=n,t.node.appendChild(r),t}toggleCollapsed(){let e=this.slider,t=this.button;this.collapsed?(e.removeClass(a),e.addClass(s),t.classList.remove(l),t.classList.add(i),this.button.classList.remove("fa-caret-down"),this.button.classList.add("fa-caret-up")):(e.removeClass(s),e.addClass(a),t.classList.remove(i),t.classList.add(l),this.button.classList.remove("fa-caret-up"),this.button.classList.add("fa-caret-down"))}get collapsed(){return this.slider.hasClass(a)}set headerTitle(e){this.header.node.innerText=e}}t.CollapsiblePanel=d},7602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorWidget=void 0;const o=r(2440),n=r(6472);class i extends o.CodeEditorWrapper{constructor(e,t){t&&t.readOnly&&(t.extraKeys={Tab:!1,"Shift-Tab":!1}),super({model:new o.CodeEditor.Model({value:e}),factory:function(){let e=new n.CodeMirrorEditorFactory(t);return e.newInlineEditor.bind(e)}()}),this.staticLoaded=!1,i.editors.push(this.cm)}get cm(){return this.editor.editor}get doc(){return this.editor.doc}onResize(e){this.staticLoaded||(e.width<0||e.height<0?this.cm.setSize(null,null):super.onResize(e),this.editor.getOption("readOnly")&&document.contains(this.node)&&(this.staticLoaded=!0))}}t.EditorWidget=i,i.editors=[]},5261:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotifyUserError=void 0;class r extends Error{constructor(e,t="error"){super(e),Object.setPrototypeOf(this,r.prototype),this.message=e,this.stack=(new Error).stack,this.severity=t}}t.NotifyUserError=r},5929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeView=t.DiffView=t.createNbdimeMergeView=t.EventDirection=t.DIFF_OP=void 0;const o=r(8681),n=r(6510),i=r(6618),l=r(7460),s=r(7602),a=r(425),d=r(5261);var f,c;!function(e){e[e.DIFF_DELETE=-1]="DIFF_DELETE",e[e.DIFF_INSERT=1]="DIFF_INSERT",e[e.DIFF_EQUAL=0]="DIFF_EQUAL"}(f=t.DIFF_OP||(t.DIFF_OP={})),function(e){e[e.INCOMING=0]="INCOMING",e[e.OUTGOING=1]="OUTGOING"}(c=t.EventDirection||(t.EventDirection={}));const u="jp-Merge-gutter-picker",h="jp-Merge-gutter-conflict",p="jp-Merge-conflict",m={chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect",gutter:"CodeMirror-merge-l-gutter"},g={chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect",gutter:"CodeMirror-merge-r-gutter"},b={chunk:"CodeMirror-merge-m-chunk",start:"CodeMirror-merge-m-chunk-start",end:"CodeMirror-merge-m-chunk-end",insert:"CodeMirror-merge-m-inserted",del:"CodeMirror-merge-m-deleted",connect:"CodeMirror-merge-m-connect",gutter:"CodeMirror-merge-m-gutter"};t.createNbdimeMergeView=function(e,t,r,o){let n=new M({remote:e,local:t,merged:r,readOnly:o,orig:null,collapseIdentical:!0}),i=[];n.left&&i.push(n.left),n.right&&i.push(n.right),n.merge&&i.push(n.merge);let l=(e||r).mimetype;if(l){for(let e of i)e.ownWidget.model.mimeType=l;n.base.model.mimeType=l}return n};class y{constructor(e,t,r,o){this.collapsedRanges=[],this.model=e,this.type=t,this.updateCallback=r,this.classes="left"===t?m:"right"===t?g:null;let n=this.model.remote||"";this.ownWidget=new s.EditorWidget(n,a.copyObj({readOnly:!!o.readOnly},o)),this.showDifferences=!1!==o.showDifferences}init(e){this.baseEditor=e,(this.baseEditor.state.diffViews||(this.baseEditor.state.diffViews=[])).push(this),this.ownEditor.state.diffViews=[this],this.baseEditor.on("gutterClick",this.onGutterClick.bind(this)),this.ownEditor.on("gutterClick",this.onGutterClick.bind(this)),this.lineChunks=this.model.getLineChunks(),this.chunks=l.lineToNormalChunks(this.lineChunks),this.dealigned=!1,this.forceUpdate=this.registerUpdate(),this.setScrollLock(!0,!1),this.registerScroll()}setShowDifferences(e){(e=!1!==e)!==this.showDifferences&&(this.showDifferences=e,this.forceUpdate("full"))}syncModel(){if(this.modelInvalid()){let e=this.ownEditor,t=this.model.getLineChunks(),r=l.lineToNormalChunks(t);if(this.model.remote===e.getValue())return this.lineChunks=t,void(this.chunks=r);let n,i,s=e.getDoc().getCursor(),d=a.splitLines(this.model.remote),f=e.getDoc().firstLine(),c=e.getDoc().lastLine()+1,u=0;for(let t of this.collapsedRanges){let l=t.line;n=j(l,this.chunks),i=j(l,r);let s=i-n;n===f&&0===s||e.getDoc().replaceRange(d.slice(f+u,i+u-1).join(""),o.Pos(f,0),o.Pos(n-1,0),"syncModel"),u+=s,f=n+t.size}f<c&&e.getDoc().replaceRange(d.slice(f,d.length).join(""),o.Pos(f,0),o.Pos(c,0),"syncModel"),this.ownEditor.getDoc().setCursor(s),this.lineChunks=t,this.chunks=r}}buildGap(){let e=this.lockButton=N("div",void 0,"CodeMirror-merge-scrolllock");e.title="Toggle locked scrolling";let t=N("div",[e],"CodeMirror-merge-scrolllock-wrap"),r=this;return o.on(e,"click",(function(){r.setScrollLock(!r.lockScroll)})),this.gap=N("div",[t],"CodeMirror-merge-gap")}setScrollLock(e,t){this.lockScroll=e,e&&!1!==t&&this.syncScroll(c.OUTGOING),this.lockButton&&(this.lockButton.innerHTML=e?"⇛⇚":"⇛&nbsp;&nbsp;⇚")}registerUpdate(){let e,t=[],r=[],o=this;function n(e){o.updating=!0,o.updatingFast=!1,"full"===e&&(o.syncModel(),null===o.classes?(C(o.baseEditor,t),C(o.ownEditor,r)):(D(o.baseEditor,t,o.classes),D(o.ownEditor,r,o.classes))),o.showDifferences&&(o.updateMarks(o.ownEditor,o.model.additions,t,f.DIFF_INSERT),o.updateMarks(o.baseEditor,o.model.deletions,r,f.DIFF_DELETE)),o.updateCallback(!0),function(e){if(o.model.remote!==e.getValue())throw new d.NotifyUserError("CRITICAL: Merge editor out of sync with model! Double-check any saved merge output!")}(o.ownEditor),o.updating=!1}function s(e){let t=!1;for(let e of o.baseEditor.state.diffViews)t=t||e.updating;t||(o.dealigned=!0,a(!0===e))}function a(t){let r=!1;for(let e of o.baseEditor.state.diffViews)r=r||e.updating||e.updatingFast;r||(clearTimeout(e),!0===t&&(o.updatingFast=!0),e=window.setTimeout(n,!0===t?20:250))}function c(e,t){o.model instanceof i.DecisionStringDiffModel||(o.lineChunks=o.model.getLineChunks(),o.chunks=l.lineToNormalChunks(o.lineChunks)),s(t.text.length-1!=t.to.line-t.from.line)}return o.updating=!1,o.updatingFast=!1,this.baseEditor.on("change",c),this.ownEditor.on("change",c),this.baseEditor.on("markerAdded",s),this.baseEditor.on("markerCleared",s),this.ownEditor.on("markerAdded",s),this.ownEditor.on("markerCleared",s),this.baseEditor.on("viewportChange",(function(){a(!1)})),this.ownEditor.on("viewportChange",(function(){a(!1)})),n(),n}modelInvalid(){return this.model instanceof i.DecisionStringDiffModel&&this.model.invalid}onGutterClick(e,t,r,o){if(0!==o.button)return;let n=e.lineInfo(t);if(!n.gutterMarkers||!n.gutterMarkers.hasOwnProperty(r))return;let l=n.gutterMarkers[r];if(l&&l.sources){let o=l.sources;if(r===u){if(e===this.ownEditor)for(let e of o)e.decision.action=e.action;else if("merge"===this.type&&e===this.baseEditor)for(let e of o)e.decision.action="base";for(let e=o.length-1;e>=0;--e){let t=o[e];"merge"===this.type&&a.hasEntries(t.decision.customDiff)&&(t.decision.customDiff=[])}0===o.length&&e.setGutterMarker(t,u,null)}else if(r===h)for(let e of o)e.decision.conflict=!1;for(let e of this.baseEditor.state.diffViews)e.model instanceof i.DecisionStringDiffModel&&e.model.invalidate(),e.forceUpdate("full")}}registerScroll(){let e=this;this.baseEditor.on("scroll",(function(){e.syncScroll(c.OUTGOING)})),this.ownEditor.on("scroll",(function(){e.syncScroll(c.INCOMING)}))}syncScroll(e){if(this.modelInvalid())return;if(!this.lockScroll)return;let t,r;if(e===c.OUTGOING?(t=this.baseEditor,r=this.ownEditor):(t=this.ownEditor,r=this.baseEditor),t.state.scrollSetBy===this)return void(t.state.scrollSetBy=null);if(r.state.scrollPosition=t.getScrollInfo(),r.state.scrollTicking)return;let o=r.getScrollInfo();if(r.state.scrollPosition.top===o.top&&r.state.scrollPosition.left===o.left)return;let n=this;window.requestAnimationFrame((function(){r.scrollTo(r.state.scrollPosition.left,r.state.scrollPosition.top),r.state.scrollTicking=!1,r.state.scrollSetBy=n})),r.state.scrollTicking=!0}updateMarks(e,t,r,o){let n;n=null===this.classes?a.copyObj(b):this.classes;let i=this;function l(e,t,o,l){if(null===i.classes&&l.length>0){n=a.copyObj(b);let e=l[0].action;if(l.length>1)for(let t of l.slice(1))if(t.action!==e){e="mixed";break}for(let t of Object.keys(n))n[t]+="-"+e}let s=!1;if(l.length>0)for(let e of l)if(e.decision.conflict){s=!0;break}for(let d=t;d<o;++d){let f=e.addLineClass(d,"background",n.chunk);if(s&&e.addLineClass(f,"background",p),d===t)if(e.addLineClass(f,"background",n.start),"merge"!==i.type){let t=N("div","➭",n.gutter);t.sources=l,t.classList.add(u),e.setGutterMarker(f,u,t)}else if(e===i.baseEditor){for(let t of l)if("custom"===t.decision.action&&!a.hasEntries(t.decision.localDiff)&&!a.hasEntries(t.decision.remoteDiff)){let t=N("div","➭",n.gutter);t.sources=l,t.classList.add(u),e.setGutterMarker(f,u,t)}}else if(s&&e===i.ownEditor){let t=N("div","⚠","");t.sources=l,t.classList.add(h),e.setGutterMarker(f,h,t)}d===o-1&&e.addLineClass(f,"background",n.end),r.push(f)}if(t===o){let o=e.addLineClass(t,"background",n.start);if("merge"!==i.type){let t=N("div","➭",n.gutter);t.sources=l,t.classList.add(u),e.setGutterMarker(o,u,t)}else if(s){let t=N("div","⚠","");t.sources=l,t.classList.add(h),e.setGutterMarker(o,h,t)}e.addLineClass(o,"background",n.end+"-empty"),r.push(o)}}let s=o===f.DIFF_DELETE?n.del:n.insert;e.operation((function(){let o=e===i.baseEditor;i.classes?D(e,r,n):C(e,r),function(e,t,r,o){let n=e.getDoc(),i=null;a.valueIn(o,[b.del,b.insert])&&(i=o);for(let e of t)null!==i&&(o=i+(e.source?"-"+e.source.action:"")),r.push(n.markText(e.from,e.to,{className:o}))}(e,t,r,s);for(let t of i.chunks)o?l(e,t.baseFrom,t.baseTo,t.sources):l(e,t.remoteFrom,t.remoteTo,t.sources)}))}get ownEditor(){return this.ownWidget.cm}}function C(e,t){for(let r of["-local","-remote","-either","-custom"]){let o=a.copyObj(b);for(let e of Object.keys(o))o[e]+=r;D(e,t,o)}}function D(e,t,r){for(let o=t.length-1;o>=0;--o){let n=t[o];if("clear"in n)n.clear(),t.splice(o,1);else if(n.parent){e.removeLineClass(n,"background",r.chunk),e.removeLineClass(n,"background",r.start),e.removeLineClass(n,"background",r.end),e.removeLineClass(n,"background",p),a.valueIn(r.gutter,[m.gutter,g.gutter])?e.setGutterMarker(n,u,null):e.setGutterMarker(n,h,null);let i=e.lineInfo(n);i.bgClass&&0!==i.bgClass.length||t.splice(o,1)}}}function j(e,t){let r=0;for(let o=0;o<t.length;o++){let n=t[o];if(n.baseTo>e&&n.baseFrom<=e)return 0;if(n.baseFrom>e)break;r=n.remoteTo-n.baseTo}return e+r}function k(e,t){let r=e.baseFrom;for(let e=0;e<t.length;++e){let o=t[e];if(o.baseFrom===r)return o.remoteTo;if(o.baseFrom>r)break}return e.baseTo}function w(e,t,r){let o=0,n=[];for(let r=0;r<e.length;r++)if(null!==t[r]){let i=e[r].heightAtLine(t[r],"local");n[r]=i,o=Math.max(o,i)}for(let i=0;i<e.length;i++)if(null!==t[i]){let l=o-n[i];l>1&&r.push(v(e[i],t[i],l))}}function v(e,t,r){let o=!0;t>e.getDoc().lastLine()&&(t--,o=!1);let n=document.createElement("div");return n.className="CodeMirror-merge-spacer",n.style.height=r+"px",n.style.minWidth="1px",e.addLineWidget(t,n,{height:r,above:o})}t.DiffView=y;class M extends n.Panel{constructor(e){super(),this.initialized=!1,this.collapsedRanges=[],this.options=e;let t=e.remote,r=e.local||null,o=e.merged||null,i=0,l=this.left=null,d=this.right=null,f=this.merge=null,c=this;this.diffViews=[],this.aligners=[];let p=e.remote||e.merged;if(!p)throw new Error("Either remote or merged model needs to be specified!");e.value=null!==p.base?p.base:p.remote,e.lineNumbers=!1!==e.lineNumbers;let m=e.readOnly;e.readOnly=!0;let g=e;if(o&&(e.gutters=[h,u],void 0===e.lineWrapping&&(e.lineWrapping=!1)),this.base=new s.EditorWidget(e.value,a.copyObj({readOnly:!!e.readOnly},e)),this.base.addClass("CodeMirror-merge-pane"),this.base.addClass("CodeMirror-merge-pane-base"),o){let s,c,u=!1!==e.showBase;u||(this.base.node.style.display="hidden"),r&&null!==r.remote?(l=this.left=new y(r,"left",this.alignViews.bind(this),a.copyObj(g)),this.diffViews.push(l),s=l.ownWidget):(l=this.left=null,s=new n.Widget({node:N("div","Value missing","jp-mod-missing")})),s.addClass("CodeMirror-merge-pane"),s.addClass("CodeMirror-merge-pane-local"),this.addWidget(s),u&&this.addWidget(this.base),t&&null!==t.remote?(d=this.right=new y(t,"right",this.alignViews.bind(this),a.copyObj(g)),this.diffViews.push(d),c=d.ownWidget):(d=this.right=null,c=new n.Widget({node:N("div","Value missing","jp-mod-missing")})),c.addClass("CodeMirror-merge-pane"),c.addClass("CodeMirror-merge-pane-remote"),this.addWidget(c),this.addWidget(new n.Widget({node:N("div",null,"CodeMirror-merge-clear","height: 0; clear: both;")})),f=this.merge=new y(o,"merge",this.alignViews.bind(this),a.copyObj({readOnly:m},a.copyObj(g))),this.diffViews.push(f);let h=f.ownWidget;h.addClass("CodeMirror-merge-pane"),h.addClass("CodeMirror-merge-pane-final"),this.addWidget(h),i=3+(u?1:0)}else if(t){if(this.addWidget(this.base),t.unchanged||t.added||t.deleted)t.unchanged?this.base.addClass("CodeMirror-merge-pane-unchanged"):t.added?this.base.addClass("CodeMirror-merge-pane-added"):t.deleted&&this.base.addClass("CodeMirror-merge-pane-deleted"),i=1;else{d=this.right=new y(t,"right",this.alignViews.bind(this),g),this.diffViews.push(d);let e=d.ownWidget;e.addClass("CodeMirror-merge-pane"),e.addClass("CodeMirror-merge-pane-remote"),this.addWidget(new n.Widget({node:d.buildGap()})),this.addWidget(e),i=2}this.addWidget(new n.Widget({node:N("div",null,"CodeMirror-merge-clear","height: 0; clear: both;")}))}this.addClass("CodeMirror-merge"),this.addClass("CodeMirror-merge-"+i+"pane");for(let e of[l,d,f])e&&e.init(this.base.cm);e.collapseIdentical&&i>1&&this.base.cm.operation((function(){!function(e,t){"number"!=typeof t&&(t=2);let r=[],o=e.base.cm,n=o.getDoc().firstLine();for(let e=n,t=o.getDoc().lastLine();e<=t;e++)r.push(!0);e.left&&S(e.left,t,n,r),e.right&&S(e.right,t,n,r),e.merge&&S(e.merge,t,n,r),e.collapsedRanges=[];for(let i=0;i<r.length;i++)if(r[i]){let l=i+n,s=1;for(;i<r.length-1&&r[i+1];i++,s++);if(s>t){let t=[{line:l,cm:o}];e.left&&t.push({line:j(l,e.left.chunks),cm:e.left.ownEditor}),e.right&&t.push({line:j(l,e.right.chunks),cm:e.right.ownEditor}),e.merge&&t.push({line:j(l,e.merge.chunks),cm:e.merge.ownEditor});let r=x(s,t);e.collapsedRanges.push({line:l,size:s}),r.on("clear",(()=>{for(let t=0;t<e.collapsedRanges.length;++t)if(e.collapsedRanges[t].line===l)return void e.collapsedRanges.splice(t,1)})),e.options.onCollapse&&e.options.onCollapse(e,l,s,r)}}}(c,e.collapseIdentical)}));for(let e of[l,d,f])e&&(e.collapsedRanges=this.collapsedRanges);this.initialized=!0,(this.left||this.right||this.merge)&&this.alignViews(!0)}alignViews(e){let t=!1;if(!this.initialized)return;for(let e of this.diffViews)e.syncModel(),e.dealigned&&(t=!0,e.dealigned=!1);if(!t&&!e)return;let r=function(e){let t=[],r=[],o=e[0],n=e.slice(1);for(let e=0;e<o.lineChunks.length;e++){let i=o.lineChunks[e],l=[i.baseTo,i.remoteTo];for(let e of n)l.push(k(i,e.lineChunks));if(t.length>0&&t[t.length-1][0]===l[0]){let e=t[t.length-1];for(let t=0;t<l.length;++t)e[t]=Math.max(e[t],l[t])}else if(t.length>0){let e=t[t.length-1],o=l[0]-e[0];for(let t=1;t<l.length;++t)if(o!==l[t]-e[t]){o=null;break}if(null!==o){r.push(l[0]);continue}t.push(l)}else t.push(l)}for(let e=0;e<n.length;e++)for(let i=0;i<n[e].lineChunks.length;i++){let l=n[e].lineChunks[i],s=0;for(;s<t.length;s++){let e=t[s];if(a.valueIn(l.baseTo,r)){s=-1;break}if(e[0]>=l.baseTo)break}if(s>-1){let r=[l.baseTo,k(l,o.lineChunks)];for(let t=0;t<n.length;t++)t===e?r.push(l.remoteTo):r.push(k(l,n[t].lineChunks));if(t.length>s&&t[s][0]===l.baseTo){let e=t[s];for(let t=0;t<r.length;++t)e[t]=Math.max(e[t],r[t])}else t.splice(s,0,r)}}return t}(this.diffViews),o=this,n=function(){let e=o.aligners;for(let t=0;t<e.length;t++)e[t].clear();e.length=0;let t=[o.base.cm],n=[];for(let e of o.diffViews)t.push(e.ownEditor);for(let e=0;e<t.length;e++)n.push(t[e].getScrollInfo().top);for(let o=0;o<r.length;o++)w(t,r[o],e);for(let e=0;e<t.length;e++)t[e].scrollTo(null,n[e])};var i;this.base.cm.curOp||(i=n,n=function(){o.base.cm.operation(i)});for(let e of this.diffViews)e.ownEditor.curOp||(n=function(t){return function(){e.ownEditor.operation(t)}}(n));n()}setShowDifferences(e){this.right&&this.right.setShowDifferences(e),this.left&&this.left.setShowDifferences(e)}getMergedValue(){if(!this.merge)throw new Error('No merged value; missing "merged" view');return this.merge.ownEditor.getValue()}}function _(e,t,r){e.addLineClass(t,"wrap","CodeMirror-merge-collapsed-line");let n=document.createElement("span");n.className="CodeMirror-merge-collapsed-widget",n.title="Identical text collapsed. Click to expand.";let i=e.getDoc().markText(o.Pos(t,0),o.Pos(r-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:n,clearOnEnter:!0});function l(){i.clear(),e.removeLineClass(t,"wrap","CodeMirror-merge-collapsed-line")}return o.on(n,"click",l),{mark:i,clear:l}}function x(e,t){let r=[];function o(){for(let e=0;e<r.length;e++)r[e].clear()}for(let n=0;n<t.length;n++){let i=t[n],l=_(i.cm,i.line,i.line+e);r.push(l),l.mark.on("clear",o)}return r[0].mark}function S(e,t,r,o){for(let n=0;n<e.chunks.length;n++){let i=e.chunks[n];for(let e=i.baseFrom-t;e<i.baseTo+t;e++){let t=e+r;t>=0&&t<o.length&&(o[t]=!1)}}}function N(e,t,r,o){let n=document.createElement(e);if(r&&(n.className=r),o&&(n.style.cssText=o),"string"==typeof t)n.appendChild(document.createTextNode(t));else if(t)for(let e=0;e<t.length;++e)n.appendChild(t[e]);return n}function E(e,t,r){for(let o=e.length-1;o>=0;o--){let n=e[o],i=(r?n.remoteTo:n.baseTo)-1;if(i<t)return i}return null}function P(e,t,r){for(let o=0;o<e.length;o++){let n=e[o],i=r?n.remoteFrom:n.baseFrom;if(i>t)return i}return null}var O;function A(e,t){let r=null,n=e.state.diffViews,i=e.getDoc().getCursor().line;if(n)for(let o=0;o<n.length;o++){let l=n[o],s=e===l.ownEditor,a=t===O.Previous?E(l.chunks,i,s):P(l.chunks,i,s);null===a||null!==r&&!(t===O.Previous?a>r:a<r)||(r=a)}if(null===r)return o.Pass;e.getDoc().setCursor(r,0)}t.MergeView=M,function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(O||(O={})),o.commands.goNextDiff=function(e){return A(e,O.Next)},o.commands.goPrevDiff=function(e){return A(e,O.Previous)}},425:(e,t)=>{"use strict";function r(e,t){return t.indexOf(e)>=0}function o(e,t){let r=[];for(let t=0;t<e.length;++t)r.push({index:t,key:e[t]});r=r.sort(((e,r)=>t(e.key,r.key)||e.index-r.index));let o=new Array(e.length);for(let t=0;t<e.length;++t)o[t]=e[r[t].index];return o}Object.defineProperty(t,"__esModule",{value:!0}),t.buildSelect=t.copyObj=t.stableSort=t.intersection=t.unique=t.accumulateLengths=t.repeatString=t.sortByKey=t.isPrefixArray=t.findSharedPrefix=t.arraysEqual=t.shallowCopy=t.deepCopy=t.splitLines=t.hasEntries=t.valueIn=void 0,t.valueIn=r,t.hasEntries=function(e){return null!==e&&0!==e.length},t.splitLines=function(e){return e.match(/^.*(\r\n|\r|\n|$)/gm)},t.deepCopy=function e(t){if("object"!=typeof t){if(r(typeof t,["string","number","boolean"]))return t;throw new TypeError("Cannot deepcopy non-object")}if(null===t)return null;if(Array.isArray(t)){let r=t.length,o=new Array(r);for(let n=0;n<r;n++)o[n]=e(t[n]);return o}{let r=t,o={};void 0!==r.prototype&&(o.prototype=r.prototype);for(let n in t)o[n]=e(r[n]);return o}},t.shallowCopy=function(e){let t=Object.create(Object.getPrototypeOf(e));for(let r in e){let o=e[r];if(null!=o&&o.hasOwnProperty("constructor")&&o.constructor===Function)continue;let n=Object.getOwnPropertyDescriptor(e,r);n&&!n.get&&Object.defineProperty(t,r,n)}return t},t.arraysEqual=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},t.findSharedPrefix=function(e,t){if(null===e||null===t)return null;if(e===t)return e.slice();let r=0;for(;r<Math.min(e.length,t.length)&&e[r]===t[r];++r);return e.slice(0,r)},t.isPrefixArray=function(e,t){if(e===t)return!0;if(null===e||0===e.length)return!0;if(null===t||e.length>t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},t.sortByKey=function(e,t){return o(e,(function(e,r){let o=e[t],n=r[t];return o<n?-1:o>n?1:0}))},t.repeatString=function(e,t){if(t<1)return"";let r="",o=e.valueOf();for(;t>1;)1&t&&(r+=o),t>>=1,o+=o;return r+o},t.accumulateLengths=function(e){let t=[];return e.reduce((function(e,r,o){return t[o]=e+r.length}),0),t},t.unique=function(e,t,r){return r.indexOf(e)===t},t.intersection=function(e,t){let r=[];[e,t]=e.length>t.length?[e,t]:[t,e];for(let o of e)-1!==t.indexOf(o)&&r.push(o);return r},t.stableSort=o,t.copyObj=function(e,t){t||(t={});for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},t.buildSelect=function(e,t){void 0===t&&(t=document.createElement("select"));for(let r of e){let e=document.createElement("option");e.text=r,t.appendChild(e)}return t}},1406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateObjectOp=t.validateSequenceOp=t.opPatch=t.opRemoveRange=t.opAddRange=t.opRemove=t.opAdd=t.opReplace=void 0;const o=r(425);t.opReplace=function(e,t){return{op:"replace",key:e,value:t}},t.opAdd=function(e,t){return{op:"add",key:e,value:t}},t.opRemove=function(e){return{op:"remove",key:e}},t.opAddRange=function(e,t){return{op:"addrange",key:e,valuelist:t}},t.opRemoveRange=function(e,t){return{op:"removerange",key:e,length:t}},t.opPatch=function(e,t){return{op:"patch",key:e,diff:t}},t.validateSequenceOp=function(e,t){if("number"!=typeof t.key)throw console.info("Invalid patch details",e,t),new TypeError(`Invalid patch sequence op: Key is not a number: ${t.key}`);let r=t.key;if("addrange"===t.op){if(r<0||r>e.length||isNaN(r))throw new RangeError("Invalid add range diff op: Key out of range: "+r)}else if("removerange"===t.op){if(r<0||r>=e.length||isNaN(r))throw new RangeError("Invalid remove range diff op: Key out of range: "+r);if(r+t.length>e.length||isNaN(r))throw new RangeError("Invalid remove range diff op: Range too long!")}else{if("patch"!==t.op)throw new Error("Invalid op: "+t.op);if(r<0||r>=e.length||isNaN(r))throw new RangeError("Invalid patch diff op: Key out of range: "+r)}},t.validateObjectOp=function(e,t,r){let n=t.op;if("string"!=typeof t.key)throw console.info("Invalid patch details",e,t,r),new TypeError(`Invalid patch object op: Key is not a string: ${t.key}`);let i=t.key;if("add"===n){if(o.valueIn(i,r))throw new Error("Invalid add key diff op: Key already present: "+i)}else if("remove"===n){if(!o.valueIn(i,r))throw new Error("Invalid remove key diff op: Missing key: "+i)}else if("replace"===n){if(!o.valueIn(i,r))throw new Error("Invalid replace key diff op: Missing key: "+i)}else{if("patch"!==n)throw new Error("Invalid op: "+n);if(!o.valueIn(i,r))throw new Error("Invalid patch key diff op: Missing key: "+i)}}},8906:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeletedCellDiffModel=t.createAddedCellDiffModel=t.createUnchangedCellDiffModel=t.createPatchedCellDiffModel=t.CellDiffModel=void 0;const o=r(8393),n=r(5261),i=r(5082),l=r(8924),s=r(7726),a=r(6848);class d{constructor(e,t,r,o,i){if(this.source=e,this.metadata=t,this.outputs=r,this.executionCount=o,this.cellType=i,null===r&&"code"===i)throw new n.NotifyUserError("Invalid code cell, missing outputs!");this.metadata.collapsible=!0,this.metadata.collapsibleHeader="Metadata changed",this.metadata.startCollapsed=!0}get unchanged(){let e=this.source.unchanged;if(e=e&&(!this.metadata||this.metadata.unchanged),this.outputs)for(let t of this.outputs)e=e&&t.unchanged;return this.executionCount&&(e=e&&this.executionCount.unchanged),e}get added(){return this.source.added}get deleted(){return this.source.deleted}getChunkedOutputs(){if(null===this.outputs)return null;const e=[];if(this.added||this.deleted)for(let t of this.outputs)e.push([t]);else{let t=[];for(let r of this.outputs)r.added||r.deleted?t.push(r):(t.length&&e.push(t),e.push([r]),t=[]);t.length&&e.push(t)}return e}}t.CellDiffModel=d,t.createPatchedCellDiffModel=function(e,t,r){let n=null,f=null,c=null,u=null,h=i.getSubDiffByKey(t,"source");if(n=h?l.createPatchStringDiffModel(e.source,h):l.createDirectStringDiffModel(e.source,e.source),l.setMimetypeFromCellType(n,e,r),h=i.getSubDiffByKey(t,"metadata"),f=h?l.createPatchStringDiffModel(e.metadata,h):l.createDirectStringDiffModel(e.metadata,e.metadata),o.isCode(e)){let r=e.outputs,o=i.getSubDiffByKey(t,"outputs");c=o?s.makeOutputModels(r,null,o):s.makeOutputModels(r,r);let n=e.execution_count,l=i.getDiffEntryByKey(t,"execution_count");u=a.createImmutableModel(n,n,l)}return new d(n,f,c,u,e.cell_type)},t.createUnchangedCellDiffModel=function(e,t){let r=l.createDirectStringDiffModel(e.source,e.source);l.setMimetypeFromCellType(r,e,t);let n=l.createDirectStringDiffModel(e.metadata,e.metadata),i=null,f=null;if(o.isCode(e)){i=s.makeOutputModels(e.outputs,e.outputs);let t=e.execution_count;f=a.createImmutableModel(t,t)}return new d(r,n,i,f,e.cell_type)},t.createAddedCellDiffModel=function(e,t){let r=l.createDirectStringDiffModel(null,e.source);l.setMimetypeFromCellType(r,e,t);let n=l.createDirectStringDiffModel(null,e.metadata),i=null,f=null;return o.isCode(e)&&(i=s.makeOutputModels(null,e.outputs),f=a.createImmutableModel(null,e.execution_count)),new d(r,n,i,f,e.cell_type)},t.createDeletedCellDiffModel=function(e,t){let r=l.createDirectStringDiffModel(e.source,null);l.setMimetypeFromCellType(r,e,t);let n=l.createDirectStringDiffModel(e.metadata,null),i=null,f=null;if(o.isCode(e)){i=s.makeOutputModels(e.outputs,null);let t=e.execution_count;f=a.createImmutableModel(t,null)}return new d(r,n,i,f,e.cell_type)}},2311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createImmutableModel=t.ImmutableDiffModel=void 0;class r{constructor(e,t,r,o,n){this.base=e,this.remote=t,this.collapsible=!0===r,this.collapsible&&(this.collapsibleHeader=o||"",this.startCollapsed=!0===n)}get unchanged(){return this.base===this.remote}get added(){return void 0===this.base}get deleted(){return void 0===this.remote}}t.ImmutableDiffModel=r,t.createImmutableModel=function(e,t,o){if(o){if("add"===o.op){if(void 0!==e)throw new Error("Invalid diff op on immutable value");return new r(e,o.value)}if("remove"===o.op){if(void 0===e)throw new Error("Invalid diff op on immutable value");return new r(e,void 0)}if(void 0===e)throw new Error("Invalid diff op on immutable value");return new r(e,o.value)}return new r(e,t)}},8152:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(8906),t),n(r(2311),t),n(r(6848),t),n(r(9965),t),n(r(7726),t),n(r(2617),t),n(r(8924),t)},9965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDiffModel=void 0;const o=r(5082),n=r(8924),i=r(8906);t.NotebookDiffModel=class{constructor(e,t){let r,l=o.getSubDiffByKey(t,"metadata");e.metadata&&l?this.metadata=n.createPatchStringDiffModel(e.metadata,l):this.metadata=null,this.metadata&&(this.metadata.collapsible=!0,this.metadata.collapsibleHeader="Notebook metadata changed",this.metadata.startCollapsed=!0);try{r=e.metadata.language_info.mimetype}catch(e){}this.mimetype=r||"text/python",this.cells=[],this.chunkedCells=[];let s=0,a=0,d=-1,f=[];for(let r of o.getSubDiffByKey(t,"cells")||[]){let t=r.key;for(let r=s;r<t;r++){let t=i.createUnchangedCellDiffModel(e.cells[r],this.mimetype);this.cells.push(t),this.chunkedCells.push([t])}if(t!==d&&(f=[],this.chunkedCells.push(f),d=t),"addrange"===r.op){for(let e of r.valuelist){let t=i.createAddedCellDiffModel(e,this.mimetype);this.cells.push(t),f.push(t)}a=0}else if("removerange"===r.op){a=r.length;for(let r=t;r<t+a;r++){let t=i.createDeletedCellDiffModel(e.cells[r],this.mimetype);this.cells.push(t),f.push(t)}}else if("patch"===r.op){f.length>0&&(f=[],this.chunkedCells.push(f));let o=i.createPatchedCellDiffModel(e.cells[t],r.diff,this.mimetype);this.cells.push(o),f.push(o),a=1}s=Math.max(s,t+a)}for(let t=s;t<e.cells.length;t++){let r=i.createUnchangedCellDiffModel(e.cells[t],this.mimetype);this.cells.push(r),this.chunkedCells.push([r])}}}},7726:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeOutputModels=t.OutputDiffModel=void 0;const o=r(8393),n=r(5261),i=r(2617),l=["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"];class s extends i.RenderableDiffModel{hasMimeType(e){let t=this.base||this.remote;return o.isStream(t)&&-1!==l.indexOf(e)?"text":o.isError(t)?"traceback":(o.isExecuteResult(t)||o.isDisplayData(t))&&e in t.data?["data",e]:null}innerMimeType(e){let t=(this.base||this.remote).output_type;if("stream"===t&&"text"===e||"error"===t&&"traceback"===e)return"text/plain";if(("execute_result"===t||"display_data"===t)&&Array.isArray(e))return e[1];throw new n.NotifyUserError("Unknown MIME type for key: "+e)}stringify(e){let t=super.stringify(e);return e&&(t.mimetype=this.innerMimeType(e)),t}}t.OutputDiffModel=s,t.makeOutputModels=function(e,t,r){let o=[];if(null!==t||r)if(null===e){if(null===t)throw new Error("Either base or remote need to be specififed!");for(let e of t)o.push(new s(null,e))}else if(t===e)for(let t of e)o.push(new s(t,t));else{if(!r)throw new Error("Invalid arguments to makeOutputModels()");{let t=0,n=0;for(let i of r){let r=i.key;for(let n of e.slice(t,r))o.push(new s(n,n));if("addrange"===i.op){for(let e of i.valuelist)o.push(new s(null,e));n=0}else if("removerange"===i.op){let t=i.length;for(let n=r;n<r+t;n++)o.push(new s(e[n],null));n=t}else{if("patch"!==i.op)throw new Error("Invalid diff operation: "+i);o.push(new s(e[r],null,i.diff)),n=1}t=Math.max(t,r+n)}for(let r of e.slice(t))o.push(new s(r,r))}}else{if(null===e)throw new Error("Either base or remote need to be specififed!");for(let t of e)o.push(new s(t,null))}return o}},2617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableDiffModel=void 0;const o=r(1797),n=r(6168),i=r(5082),l=r(7811),s=r(8924);t.RenderableDiffModel=class{constructor(e,t,r){if(this.trustedChanged=new n.Signal(this),!t&&!e)throw new Error("Either remote or base value need to be given");this.base=e,this.remote=!t&&r?l.patch(e,r):t,this.diff=r||null,this.collapsible=!1}get unchanged(){return JSON.stringify(this.base)===JSON.stringify(this.remote)}get added(){return null===this.base}get deleted(){return null===this.remote}stringify(e){let t=function(e,r,o){if(!e)return e;if(Array.isArray(r)){const n=r.length>2?r.slice(1):r[1];return t(o?o(e,r[0]):e[r[0]],n,o)}return o?o(e,r):e[r]};const r=o.JSONExt.deepCopy(this.base);let n=e?t(r,e):r;const l=o.JSONExt.deepCopy(this.remote);let a=e?t(l,e):l,d=this.diff&&e?t(this.diff,e,i.getSubDiffByKey):this.diff,f=null;return f=this.unchanged||this.added||this.deleted||!d?s.createDirectStringDiffModel(n,a):s.createPatchStringDiffModel(n,d),f.mimetype=e?this.innerMimeType(e):"application/json",f.collapsible=this.collapsible,f.collapsibleHeader=this.collapsibleHeader,f.startCollapsed=this.startCollapsed,f}get trusted(){return this._trusted}set trusted(e){this._trusted!==e&&(this._trusted=e,this.trustedChanged.emit(e))}get contents(){let e=[];return this.base&&e.push(this.base),this.remote&&this.remote!==this.base&&e.push(this.remote),e}}},8924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMimetypeFromCellType=t.createDirectStringDiffModel=t.createPatchStringDiffModel=t.StringDiffModel=void 0;const o=r(8393),n=r(1797),i=r(1668),l=r(7460),s=r(7811);class a{constructor(e,t,r,o,n,l,s){this.base=e,this.remote=t,null===e?(console.assert(0===o.length),this.deletions=[]):this.deletions=i.raw2Pos(o,e),null===t?(console.assert(0===r.length),this.additions=[]):this.additions=i.raw2Pos(r,t),this.collapsible=!0===n,this.collapsible&&(this.collapsibleHeader=l||"",this.startCollapsed=!0===s)}iterateDiffs(){return new a.DiffIter(this)}getLineChunks(){let e=new l.LineChunker,t=this.iterateDiffs();for(let r=t.next();void 0!==r;r=t.next())e.addDiff(r.range,r.isAddition);return e.chunks}get unchanged(){return this.base===this.remote}get added(){return null===this.base}get deleted(){return null===this.remote}}t.StringDiffModel=a,function(e){e.DiffIter=class{constructor(e){this.editOffset=0,this.done=!1,this.ia=0,this.id=0,this.hintTakeDeletion=!1,this.model=e}next(){let e=null,t=null,r=this.model.additions,o=this.model.deletions,n=this.hintTakeDeletion;if(this.hintTakeDeletion=!1,this.ia<this.model.additions.length)if(this.id<o.length){let t=r[this.ia],i=o[this.id];t.from.line===i.from.line-this.editOffset&&t.from.ch===i.from.ch?n?e=!1:(this.hintTakeDeletion=!0,e=!0):e=t.from.line<i.from.line-this.editOffset||t.from.line===i.from.line-this.editOffset&&t.from.ch<i.from.ch}else e=!0;else{if(!(this.id<o.length))return void(this.done=!0);e=!1}t=e?r[this.ia++]:o[this.id++];let i=t.to.line-t.from.line;return t.endsOnNewline&&(i+=1),this.editOffset+=e?-i:i,{range:t,isAddition:e}}};class t{constructor(e){this.currentOffset=0,this.models=[],this.iterators=[],this.values=[],this.offsets=[];for(let t of e){if(null===t)continue;this.models.push(t);let e=t.iterateDiffs();this.iterators.push(e),this.offsets.push(0),this.values.push(e.next())}}static cmp(e,t,r,o){if(void 0===e&&void 0===t)return 0;if(void 0===e)return 1;if(void 0===t)return-1;let n=e.range.from.line+(e.isAddition?r:0),i=t.range.from.line+(t.isAddition?o:0);return n<i||e.range.from.ch<t.range.from.ch?-1:n>i||e.range.from.ch>t.range.from.ch?1:0}next(){let e=0;for(let r=1;r<this.values.length;++r)0>t.cmp(this.values[r],this.values[e],this.iterators[r].editOffset,this.iterators[e].editOffset)&&(e=r);this.i=e;let r=this.values[e];return this.currentOffset=this.offsets[e],this.offsets[e]=this.iterators[e].editOffset,void 0!==r&&(this.values[e]=this.iterators[e].next()),r}currentModel(){return this.models[this.i]}}e.SyncedDiffIter=t}(a=t.StringDiffModel||(t.StringDiffModel={})),t.createPatchStringDiffModel=function(e,t){console.assert(!!t,"Patch model needs diff.");const r=n.JSONExt.deepCopy(e);let o=s.stringifyAndBlankNull(r),i=s.patchStringified(r,t);return new a(o,i.remote,i.additions,i.deletions)},t.createDirectStringDiffModel=function(e,t){let r=s.stringifyAndBlankNull(e),o=s.stringifyAndBlankNull(t),n=[],l=[];if(null===e&&null===t)throw new Error("Invalid arguments to createDirectStringDiffModel(). Both base and remote cannot be equal!");if(null===e)r=null,n.push(new i.DiffRangeRaw(0,o.length,void 0));else if(null===t)o=null,l.push(new i.DiffRangeRaw(0,r.length,void 0));else if(o!==r)throw new Error("Invalid arguments to createDirectStringDiffModel(). Either base or remote should be null, or they should be equal!");return new a(r,o,n,l)},t.setMimetypeFromCellType=function(e,t,r){"code"===t.cell_type?e.mimetype=r:"markdown"===t.cell_type?e.mimetype="text/markdown":o.isRaw(t)&&(e.mimetype=t.metadata.format||"text/plain")}},1668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raw2Pos=t.DiffRangePos=t.DiffRangeRaw=void 0;const o=r(8681),n=r(425);t.DiffRangeRaw=class{constructor(e,t,r){this.from=e,this.to=e+t,this.source=r}offset(e){this.from+=e,this.to+=e}};class i{constructor(e,t,r,o){this.from=e,this.to=t,this.chunkStartLine=!0===r,this.endsOnNewline=!0===o}}function l(e,t){if(0===e.length)return 0;let r=null;return e.some((function(e,o){return e>=t&&(r=o,!0)})),null===r?e.length:r}t.DiffRangePos=i,t.raw2Pos=function(e,t){let r=[],s=-1;for(;-1!==(s=t.indexOf("\n",s+1));)r.push(s);let a=[];for(let s of e){let e=l(r,s.from),d=e>0?r[e-1]+1:0,f=o.Pos(e,s.from-d);e=l(r,s.to-1),d=e>0?r[e-1]+1:0;let c=o.Pos(e,s.to-d),u=n.valueIn(s.from,r),h=n.valueIn(s.to-1,r),p=0===f.ch&&(f.line!==c.line||h||s.to===t.length)||!u||!n.valueIn(s.from-1,r)&&!n.valueIn(s.to,r),m=new i(f,c,p,h);m.source=s.source,a.push(m)}return a}},5082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenStringDiff=t.stripSource=t.getDiffEntryByKey=t.getSubDiffByKey=t.JSON_INDENT=void 0;const o=r(425),n=r(1406);function i(e,t,r){if(n.validateSequenceOp(e,t),"patch"===t.op){let r=e[t.key],o=t.diff;if(null!==o)for(let e of o)n.validateSequenceOp(r,e)}}t.JSON_INDENT="  ",t.getSubDiffByKey=function(e,t){if(!e)return null;for(let r=0;r<e.length;++r)if(e[r].key===t)return e[r].diff||null;return null},t.getDiffEntryByKey=function(e,t){if(!e)return null;for(let r=0;r<e.length;++r)if(e[r].key===t)return e[r];return null},t.stripSource=function e(t){if(!t)return null;let r=[];for(let n of t)if("patch"===n.op)r.push({key:n.key,op:n.op,diff:e(n.diff)});else{let e=o.shallowCopy(n);delete e.source,r.push(e)}return r},t.flattenStringDiff=function(e,t){"string"==typeof e&&(e=o.splitLines(e));let r=[0].concat(o.accumulateLengths(e)),l=[];for(let s of t){i(e,s);let t=r[s.key];if("patch"===s.op){let e=s.diff;if(null!==e)for(let r of e){let e=o.shallowCopy(r);e.key+=t,l.push(e)}}else{let e=null;if("addrange"===s.op)e=n.opAddRange(t,s.valuelist.join(""));else{let o=s.key+s.length;e=n.opRemoveRange(t,r[o]-t)}e.source=s.source,l.push(e)}}return o.sortByKey(l,"key")}},8833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellDiffWidget=t.OUTPUTS_DIFF_CLASS=t.CELLDIFF_CLASS=void 0;const o=r(6510),n=r(9837),i=r(3474),l=r(1719),s=r(5929),a=r(425),d=r(8152),f=r(5703),c=r(3271);t.CELLDIFF_CLASS="jp-Cell-diff",t.OUTPUTS_DIFF_CLASS="jp-Diff-outputsContainer";const u="jp-Cellrow-outputs";class h extends o.Panel{constructor(e,r,o){super(),this.addClass(t.CELLDIFF_CLASS),this._model=e,this._rendermime=r,this.mimetype=o,this.init()}init(){let e=this.model,r=f.DIFF_CLASSES.slice();e.added?(this.addClass(f.ADDED_DIFF_CLASS),r=f.DIFF_CLASSES.slice(1,2)):e.deleted?(this.addClass(f.DELETED_DIFF_CLASS),r=f.DIFF_CLASSES.slice(0,1)):e.unchanged?this.addClass(f.UNCHANGED_DIFF_CLASS):this.addClass(f.TWOWAY_DIFF_CLASS);let n=h.createView(e.source,e,r,this._rendermime);if(n.addClass("jp-Cellrow-source"),e.executionCount&&n.insertWidget(0,h.createPrompts(e.executionCount,e)),this.addWidget(n),!e.metadata.unchanged){let t=h.createView(e.metadata,e,r,this._rendermime);t.addClass("jp-Cellrow-metadata"),this.addWidget(t)}const i=e.getChunkedOutputs();if(a.hasEntries(i)){let n=new o.Panel;n.addClass(t.OUTPUTS_DIFF_CLASS);let s=!1;for(let t of i)if(1===t.length){let o=t[0],i=h.createView(o,e,r,this._rendermime);n.addWidget(i),s=s||!o.unchanged||o.added||o.deleted}else{let i=new o.Panel;i.addClass(f.CHUNK_PANEL_CLASS);let l=new o.Panel;l.addClass(f.ADDED_CHUNK_PANEL_CLASS);let a=new o.Panel;a.addClass(f.REMOVED_CHUNK_PANEL_CLASS);for(let o of t){let t=o.deleted?a:l,n=h.createView(o,e,r,this._rendermime);t.addWidget(n),s=s||!o.unchanged||o.added||o.deleted}i.addWidget(l),i.addWidget(a),n.addWidget(i)}if(e.added||e.deleted)n.addClass(u),this.addWidget(n);else{let e=!s,t=s?"Outputs changed":"Outputs unchanged",r=new l.CollapsiblePanel(n,t,e);r.addClass(u),this.addWidget(r)}}}static createPrompts(e,t){let r=[];if(!t.added){let t=`In [${e.base||" "}]:`;r.push(t)}if(!t.unchanged&&!t.deleted){let t=`In [${e.remote||" "}]:`;r.push(t)}let n=new i.FlexPanel({direction:"left-to-right"});for(let e of r){let t=new o.Widget;t.node.innerText=e,t.addClass("jp-InputPrompt"),n.addWidget(t),i.FlexPanel.setGrow(t,1)}return n.addClass("jp-Cellrow-executionCount"),n}static createView(e,t,r,i){let a;if(e instanceof d.StringDiffModel){let r=null;if(e.unchanged&&"markdown"===t.cellType){let t=new n.MimeModel({data:{"text/markdown":e.base}}),o=i.preferredMimeType(t.data,"ensure");if(!o)throw new Error("No renderer for output");let l=i.createRenderer(o);l.renderModel(t),r=l}else r=s.createNbdimeMergeView(e);e.collapsible?a=new l.CollapsiblePanel(r,e.collapsibleHeader,e.startCollapsed):(a=new o.Panel,a.addWidget(r))}else{if(!(e instanceof d.OutputDiffModel))throw new Error("Unrecognized model type.");a=new c.OutputPanel(e,t,r,i),e.added?a.addClass(f.ADDED_DIFF_CLASS):e.deleted?a.addClass(f.DELETED_DIFF_CLASS):e.unchanged?a.addClass(f.UNCHANGED_DIFF_CLASS):a.addClass(f.TWOWAY_DIFF_CLASS)}return a}get model(){return this._model}}t.CellDiffWidget=h},5703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_DEL_LABEL_CLASS=t.REMOVED_CHUNK_PANEL_CLASS=t.ADDED_CHUNK_PANEL_CLASS=t.CHUNK_PANEL_CLASS=t.DIFF_CLASSES=t.UNCHANGED_DIFF_CLASS=t.DELETED_DIFF_CLASS=t.ADDED_DIFF_CLASS=t.TWOWAY_DIFF_CLASS=void 0,t.TWOWAY_DIFF_CLASS="jp-Diff-twoway",t.ADDED_DIFF_CLASS="jp-Diff-added",t.DELETED_DIFF_CLASS="jp-Diff-deleted",t.UNCHANGED_DIFF_CLASS="jp-Diff-unchanged",t.DIFF_CLASSES=["jp-Diff-base","jp-Diff-remote"],t.CHUNK_PANEL_CLASS="jp-Diff-addremchunk",t.ADDED_CHUNK_PANEL_CLASS="jp-Diff-addedchunk",t.REMOVED_CHUNK_PANEL_CLASS="jp-Diff-removedchunk",t.ADD_DEL_LABEL_CLASS="jp-Diff-label"},1305:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(8833),t),n(r(9629),t),n(r(1704),t)},1704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataDiffWidget=void 0;const o=r(6510),n=r(5929),i=r(1719),l=r(5703);class s extends o.Panel{constructor(e){super(),this._model=e,console.assert(!e.added&&!e.deleted),this.addClass("jp-Metadata-diff"),this.init()}init(){let e=this._model;if(!e.unchanged){this.addClass(l.TWOWAY_DIFF_CLASS);let t=n.createNbdimeMergeView(e);e.collapsible&&(t=new i.CollapsiblePanel(t,e.collapsibleHeader,e.startCollapsed)),this.addWidget(t)}}}t.MetadataDiffWidget=s},9629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDiffWidget=void 0;const o=r(6510),n=r(8833),i=r(5703),l=r(1704);class s extends o.Panel{constructor(e,t){super(),this._model=e,this._rendermime=t,this.addClass("jp-Notebook-diff")}init(){let e=this._model,t=this._rendermime,r=Promise.resolve();r=r.then((()=>{e.metadata&&this.addWidget(new l.MetadataDiffWidget(e.metadata))}));for(let l of e.chunkedCells)r=r.then((()=>new Promise((r=>{if(1!==l.length||l[0].added||l[0].deleted){let r=new o.Panel;r.addClass(i.CHUNK_PANEL_CLASS);let s=new o.Panel;s.addClass(i.ADDED_CHUNK_PANEL_CLASS);let a=new o.Panel;a.addClass(i.REMOVED_CHUNK_PANEL_CLASS);for(let r of l)(r.deleted?a:s).addWidget(new n.CellDiffWidget(r,t,e.mimetype));r.addWidget(s),r.addWidget(a),this.addWidget(r)}else this.addWidget(new n.CellDiffWidget(l[0],t,e.mimetype));requestAnimationFrame((()=>{r()}))}))));return r}get model(){return this._model}}t.NotebookDiffWidget=s},3271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableOutputView=t.OutputPanel=void 0;const o=r(6510),n=r(9850),i=r(9837),l=r(1719),s=r(5929),a=r(425),d=r(5703),f=r(566),c="jp-Diff-trustCandidate",u=["text/html"];let h=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;function p(e,t=64){return null!==e&&e.length>t&&h.test(e.replace("\n",""))}class m extends o.Panel{constructor(e,t,r,n){if(super(),this._mimetype=null,this.forceText=!1,this.model=e,this.rendermime=n,this.editorClasses=r,e.trustedChanged.connect(((e,t)=>{this.trustedChanged(t)})),m.isTrustSignificant(e,this.rendermime)&&this.addClass(c),e.added){if(!t.added){let e=new o.Widget;e.node.textContent="Output added",e.addClass(d.ADD_DEL_LABEL_CLASS),this.addWidget(e)}this.addClass(d.ADDED_DIFF_CLASS)}else if(e.deleted){if(!t.deleted){let e=new o.Widget;e.node.textContent="Output deleted",e.addClass(d.ADD_DEL_LABEL_CLASS),this.addWidget(e)}this.addClass(d.DELETED_DIFF_CLASS)}else e.unchanged?this.addClass(d.UNCHANGED_DIFF_CLASS):this.addClass(d.TWOWAY_DIFF_CLASS);let i=this.createView();this.initContainer(i),this.createHoverMenu(),this.addClass("jp-Diff-outputPanel")}initContainer(e){this.model.collapsible?this.container=new l.CollapsiblePanel(e,this.model.collapsibleHeader,this.model.startCollapsed):(this.container=this,this.container.addWidget(e)),this.view=e}replaceView(e){let t=this.view,r=this.container.widgets.indexOf(t);this.container.insertWidget(r,e),t.parent=null,this.view=e}createView(e=!1){let t=null,r=this.model,o=this.rendermime;return t=g.canRender(r,o)&&!e?new g(r,this.editorClasses,o,this.selectedMimetype):this.createOutputTextView(),t}createOutputTextView(){let e,t=this.model,r=null;if(null===this.selectedMimetype?n.find(this.rendermime.mimeTypes,(e=>(r=t.hasMimeType(e),null!==r))):r=t.hasMimeType(this.selectedMimetype),r){let o=t.stringify(r);p(o.base||o.remote)||(e=s.createNbdimeMergeView(o))}return e||(e=s.createNbdimeMergeView(t.stringify())),e}createHoverMenu(){this.menu=new o.Panel,this.menu.addClass("jp-Diff-outputMenu"),this.container.addWidget(this.menu);let e=document.createElement("button"),t=["Show source","Render"];e.innerText=t[0],e.onclick=r=>{this.forceText=!this.forceText,e.innerText=t[this.forceText?1:0],this.updateView()};let r=new o.Widget({node:e});r.addClass("jp-Diff-showOutputSourceButton"),this.menu.addWidget(r);let n=document.createElement("button");n.innerText="Trust",n.onclick=e=>{this.model.trusted=!this.model.trusted},r=new o.Widget({node:n}),r.addClass("jp-Diff-trustOutputButton"),this.menu.addWidget(r);let l=[];for(let e of this.model.contents){let t=i.OutputModel.getData(e);l=l.concat(Object.keys(t))}if(l=l.filter(a.unique),l.length>1){let e=a.buildSelect(l),t=this.selectedMimetype;t&&(e.selectedIndex=l.indexOf(t)),e.onchange=t=>{this.selectedMimetype=l[e.selectedIndex]},r=new o.Widget({node:e}),r.addClass("jp-Diff-outputMimetypeSelect"),this.menu.addWidget(r)}else if(1===l.length){let e=document.createElement("span");e.innerText=l[0],r=new o.Widget({node:e}),this.menu.addWidget(r)}}trustedChanged(e){this.updateView(),e?this.removeClass(c):m.isTrustSignificant(this.model,this.rendermime)&&this.addClass(c)}updateView(){let e=this.model;if(this.view instanceof g)if(!this.forceText&&g.canRender(e,this.rendermime))this.view.updateView(this.selectedMimetype,e.trusted);else{let e=this.createView(this.forceText);this.replaceView(e)}else{let e=this.createView(this.forceText);this.replaceView(e)}}get selectedMimetype(){if(null!==this._mimetype)return this._mimetype;let e=i.OutputModel.getData(this.model.base||this.model.remote),t=this.rendermime.preferredMimeType(e,this.model.trusted?"any":"ensure");return void 0===t?null:t}set selectedMimetype(e){this._mimetype!==e&&(this._mimetype=e,this.updateView())}static isTrustSignificant(e,t){if(e.trusted)return!1;let r=[];e.base&&r.push(e.base),e.remote&&e.remote!==e.base&&r.push(e.remote);for(let e of r){let r=new i.OutputModel({value:e,trusted:!1}),o=Object.keys(r.data),l=n.toArray(t.mimeTypes),s=a.intersection(o,l);for(let e of s){let r=t.getFactory(e);if(r&&(!r.safe||-1!==u.indexOf(e)))return!0}}return!1}}t.OutputPanel=m;class g extends f.RenderableDiffView{constructor(e,t,r,o){super(e,t,r,o)}createSubView(e,t){let r=new b(this.rendermime);return r.updateView(e,t,this.mimetype),r}updateView(e,t){let r=0,o=this.model;this.mimetype=e,n.each(this.layout.widgets,(n=>{if(n instanceof b){let i=null;0===r&&o.base?i=o.base:o.remote&&(i=o.remote),i&&n.updateView(i,t,e),++r}}))}static canRender(e,t){let r=e.contents;for(let o of r){let r=i.OutputModel.getData(o);if(!t.preferredMimeType(r,e.trusted?"any":"ensure"))return!1}return!0}}t.RenderableOutputView=g;class b extends o.Panel{constructor(e){super(),this.rendermime=e}updateView(e,t,r){let o=this.renderer;this.renderer=this.createRenderer(e,t,r),void 0!==o&&o.dispose(),this.addWidget(this.renderer)}createRenderer(e,t,r){let o=new i.OutputModel({value:e,trusted:t}),n=this.rendermime.createRenderer(r);return n.renderModel(o),n.addClass("jp-Diff-renderedOutput"),p(i.OutputModel.getData(e)[r])&&n.addClass("jp-diff-base64Output"),n}}},566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableDiffView=void 0;const o=r(6510);class n extends o.Widget{constructor(e,t,r,n){super(),this.rendermime=r,this.model=e,this.mimetype=n;let i=e.base,l=e.remote;this.layout=new o.PanelLayout;let s=0;if(i){let r=this.createSubView(i,e.trusted);this.layout.addWidget(r),r.addClass(t[s++])}if(l&&l!==i){let r=this.createSubView(l,e.trusted);this.layout.addWidget(r),r.addClass(t[s++])}}}t.RenderableDiffView=n},7377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterDecisions=t.pushPatchDecision=t.buildDiffs=t.applyDecisions=t.resolveCommonPaths=t.pushPath=t.popPath=t.addSorted=t.decisionSortKey=t.decisionPathSortKey=t.MergeDecision=void 0;const o=r(1406),n=r(5082),i=r(7811),l=r(425);function s(e,t){return void 0===e?t:e}class a{constructor(e,t=null,r=null,o="base",n=!1,i=null,d=null){this.level=0,e instanceof Array?this._path=e:e instanceof a?(this._path=e.absolutePath.slice(),t=e.localDiff,r=e.remoteDiff,o=e.action,n=e.conflict,i=e.customDiff,d=e.similarInsert,this.level=e.level):(this._path=s(e.common_path,[]),t=s(e.local_diff,t),r=s(e.remote_diff,r),o=function(e){if(l.valueIn(e,["base","local","remote","local_then_remote","remote_then_local","custom","clear","clear_parent","either"]))return e;throw new Error("Invalid merge decision action: "+e)}(s(e.action,o)),n=s(e.conflict,n),i=s(e.custom_diff,i),d=s(e.similar_insert,d)),this.localDiff=t,this.remoteDiff=r,this.action=o,this.conflict=n,this.customDiff=i,this.similarInsert=d}setValuesFrom(e){this._path=e.absolutePath.slice(),this.localDiff=e.localDiff,this.remoteDiff=e.remoteDiff,this.action=e.action,this.conflict=e.conflict,this.customDiff=e.customDiff,this.similarInsert=e.similarInsert,this.level=e.level}get localPath(){return this._path.slice(this.level)}get absolutePath(){return this._path}set absolutePath(e){this._path=e}pushPath(e){this._path.push(e)}get diffs(){let e=[this.localDiff,this.remoteDiff];return this.customDiff&&e.push(this.customDiff),e}set diffs(e){this.localDiff=e[0],this.remoteDiff=e[1],e.length>2&&(this.customDiff=e[2])}serialize(){return{common_path:this.absolutePath.slice(),local_diff:n.stripSource(this.localDiff),remote_diff:n.stripSource(this.remoteDiff),action:this.action,conflict:this.conflict,custom_diff:n.stripSource(this.customDiff)}}}function d(e,t){if(e.length===t.length){for(let r=0;r<e.length;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}return t.length-e.length}function f(e,t){if(e.length<1)return null;let r=0;for(let t of e){if(null!==t&&t.length>0)break;r++}if(r===e.length)return console.log("Empty merge decision (no diffs)!"),null;let o=e[r],n=o[0].op,i=o[0].key;for(let t of e)if(t&&t.length>0)for(let e of t)if(e.op!==n||e.key!==i)return null;if("patch"===n){if(!0!==t)for(let t of e)if(t&&t.length>0&&(1!==t.length||!t[0].diff||1!==t[0].diff.length))return null;let r=[];for(let t of e)t&&t.length>0?r.push(t[0].diff):r.push(null);return{diffs:r,key:i}}return null}function c(e,t){for(let r of t.reverse())e=[o.opPatch(r,e)];return e}function u(e,t){for(let r of t)e=e[r];return e}function h(e,t){return e&&t?e.concat(t):e?e.slice():t?t.slice():[]}function p(e,t){let r=t.action;if("base"===r)return[];if("local"===r||"either"===r)return t.localDiff?t.localDiff.slice():[];if("remote"===r)return t.remoteDiff?t.remoteDiff.slice():[];if("custom"===r)return t.customDiff?t.customDiff.slice():[];if("local_then_remote"===r)return h(t.localDiff,t.remoteDiff);if("remote_then_local"===r)return h(t.remoteDiff,t.localDiff);if("clear"===r){let r=null;if("object"!=typeof e)throw new TypeError("Can only use `'clear'` action on objects/dicts");for(let e of h(t.localDiff,t.remoteDiff))if(r){if(r!==e.key)throw new Error("Cannot combine diffs with different keys")}else r=e.key;if(r){let i=o.opReplace(r,(n=e[r])instanceof Array?[]:"string"==typeof n?"":null===n||l.valueIn(typeof n,["number","boolean"])?null:{});return i.source={decision:t,action:"custom"},[i]}return[]}if("clear_parent"===r){if(Array.isArray(e)){let r=o.opRemoveRange(0,e.length);return r.source={decision:t,action:"custom"},[r]}if("string"==typeof e){let r=l.splitLines(e).length,n=o.opRemoveRange(0,r);return n.source={decision:t,action:"custom"},[n]}{let r=[];for(let n of e){let e=o.opRemove(n);e.source={decision:t,action:"custom"},r.push(e)}return r}}throw new Error('The action "'+r+'" is not defined');var n}function m(e,t){for(let r=0;r<t.length;++r){if("string"==typeof e)return[t.slice(0,r),t.slice(r)];e=e[t[r]]}return[t,null]}function g(e,t){let r=[],o=null;for(let n=0;n<t.length;++n){let i,s=e[t[n]].path,a=e[t[n]].diff;if(r=r.concat(a),i=n===t.length-1?o:e[t[n+1]].path,!l.isPrefixArray(i,s)){let o=g(e,t.slice(n+1));i=e[t[t.length-1]].path;let a=l.findSharedPrefix(s,i),d=a?a.length:0;r=c(r,s.slice(d)).concat(c(o,i.slice(d)));break}null!==i&&(r=c(r,s.slice(i.length)),o=i)}return r}t.MergeDecision=a,t.decisionPathSortKey=d,t.decisionSortKey=function(e,t){return d(e.absolutePath,t.absolutePath)},t.addSorted=function(e,t,r){let o=0;for(;o<e.length;++o){let n=d(e[o].absolutePath,t.absolutePath);if(n>0)return void e.splice(o,0,t);if(void 0!==r&&0===n){let n=null;for(let t of e[o].diffs)if(t)for(let e of t)(!n||e.key<n)&&(n=e.key);if(r===n)throw new Error("Shouldn't have multiple decisions with diff on same key");if(null===n||r<n)return void e.splice(o,0,t)}}e.push(t)},t.popPath=f,t.pushPath=c,t.resolveCommonPaths=function(e){for(let t of e){let e=t.diffs,r=t.absolutePath||[],o=f(e,!0);for(;o;)r.push(o.key),e=o.diffs,o=f(e,!0);t.absolutePath=r,t.diffs=e}},t.applyDecisions=function(e,t){let r=l.deepCopy(e),o=null,n=null,s=null,a=null,d=[],f=!1;for(let e of t){let t=m(r,e.localPath),u=t[0],h=t[1];if(l.arraysEqual(u,o))if(f);else{"clear_parent"===e.action&&(f=!0,d=[]);let t=p(a,e);h&&(t=c(t,h)),d=d.concat(t)}else{null!==o&&(null===n?r=i.patch(a,d):n[s]=i.patch(a,d)),o=u.slice(),a=r,n=null,s=null;for(let e of u)n=a,a=a[e],s=e;d=p(a,e),h&&(d=c(d,h)),f="clear_parent"===e.action}}return null!==o&&(null===n?r=i.patch(a,d):n[s]=i.patch(a,d)),r},t.buildDiffs=function(e,t,r){let o={},i=[],l="local"===r,s="merged"===r;l||s||console.assert("remote"===r);for(let r of t){let t=null,a=m(e,r.localPath),d=a[0],f=a[1];if(s)t=p(u(e,d),r);else if(t=l?r.localDiff:r.remoteDiff,null===t)continue;let h="/"+d.join("/");if(o.hasOwnProperty(h))if(f){let e=n.getSubDiffByKey(o[h].diff,f[0]);e?e.push.apply(e,t):(t=c(t,f),o[h].diff.push(t[0]))}else o[h].diff=o[h].diff.concat(t);else f&&(t=c(t,f)),o[h]={diff:t,path:d},i.push(h)}return 0===Object.keys(o).length?null:(o.hasOwnProperty("/")||(o["/"]={diff:[],path:[]},i.push("/")),g(o,i))},t.pushPatchDecision=function(e,t){let r=new a(e);for(let e of t.slice().reverse()){if(0===r.absolutePath.length)throw new Error("Cannot remove key from empty decision path: "+e+", "+r);let t=r.absolutePath.pop();if(t!==e)throw Error("Cannot push a patch that doesn't correspond to a key in the decision path! Key: "+e+"; Remaining path: "+r.absolutePath.concat([t]));let n=r.localDiff&&r.localDiff.length>0,i=r.remoteDiff&&r.remoteDiff.length>0,l=r.customDiff&&r.customDiff.length>0;r.localDiff=n?[o.opPatch(e,r.localDiff)]:null,r.remoteDiff=i?[o.opPatch(e,r.remoteDiff)]:null,r.customDiff=l?[o.opPatch(e,r.customDiff)]:null}return r},t.filterDecisions=function(e,t,r,o){let n=[];r=r||0;for(let i of e)void 0!==o&&i.absolutePath.length>o||l.isPrefixArray(t,i.absolutePath.slice(r))&&(i.level=r+t.length,n.push(i));return n}},9103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellMergeModel=void 0;const o=r(8393),n=r(6168),i=r(5082),l=r(8152),s=r(7377),a=r(7811),d=r(425),f=r(7460),c=r(8930),u=r(5261);class h extends c.ObjectMergeModel{constructor(e,t,r){super(e,[],r,["source","metadata","outputs","execution_count"]),this.deleteCellChanged=new n.Signal(this),this._clearOutputs=!1,this.clearOutputsChanged=new n.Signal(this),this.onesided=!1,this._deleteCell=!1,this.processDecisions(t)}get deleteCell(){return this._deleteCell}set deleteCell(e){this._deleteCell!==e&&(this._deleteCell=e,this.deleteCellChanged.emit(e))}get clearOutputs(){return this._clearOutputs}set clearOutputs(e){this._clearOutputs!==e&&(this._clearOutputs=e,this.clearOutputsChanged.emit(e))}get agreedSource(){return!!this.local&&!!this.remote&&this.local.source.remote===this.remote.source.remote}get agreedMetadata(){return!(!this.local||!this.remote)&&this.local.metadata.remote===this.remote.metadata.remote}get agreedOutputs(){if(!this.local||!this.remote)return!1;let e=this.local.outputs,t=this.remote.outputs;if(!d.hasEntries(e)||!d.hasEntries(t))return!d.hasEntries(e)&&!d.hasEntries(t);if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(JSON.stringify(e[r].remote)!==JSON.stringify(t[r].remote))return!1;return!0}get agreedCell(){return this.agreedSource&&this.agreedMetadata&&this.agreedOutputs}get conflicted(){for(let e of this.decisions)if(e.conflict)return!0;return!1}hasConflictsOn(e){let t=s.filterDecisions(this.decisions,[e],2);for(let e of t)if(e.conflict)return!0;return!1}get sourceConflicted(){return this.hasConflictsOn("source")}get metadataConflicted(){return this.hasConflictsOn("metadata")}get outputsConflicted(){return this.hasConflictsOn("outputs")}clearOutputConflicts(){let e=s.filterDecisions(this.decisions,["outputs"],2);for(let t of e)t.conflict=!1}getExecutionCountDecision(){let e=s.filterDecisions(this.decisions,["cells"],0,2);for(let t of e)if(null!==i.getDiffEntryByKey(t.localDiff,"execution_count")||null!==i.getDiffEntryByKey(t.remoteDiff,"execution_count")||null!==i.getDiffEntryByKey(t.customDiff,"execution_count"))return t;return null}serialize(){if(this.deleteCell)return null;if(null===this.base){if(this.decisions.length>1||!this.merged.added)throw new u.NotifyUserError("Invalid cell decision");let e,t=this.decisions[0];if("local"===t.action||"either"===t.action){if(!t.localDiff)throw new u.NotifyUserError("Invalid cell decision");e=t.localDiff[0]}else if("remote"===t.action){if(!t.remoteDiff)throw new u.NotifyUserError("Invalid cell decision");e=t.remoteDiff[0]}else{if("custom"!==t.action)throw new u.NotifyUserError("Invalid cell decision");if(!t.customDiff)throw new u.NotifyUserError("Invalid cell decision");e=t.customDiff[0]}if("addrange"!==e.op)throw new u.NotifyUserError("Invalid cell decision");return e.valuelist[0]}let e=[];for(let t of this.decisions){let r=new s.MergeDecision(t);r.level=2,e.push(r)}let t=s.applyDecisions(this.base,e),r=t.source;return Array.isArray(r)&&(r=r.join("")),r!==this._merged.source.remote&&(console.warn("Serialized outputs doesn't match model value! Keeping the model value."),t.source=d.splitLines(this._merged.source.remote)),this.clearOutputs&&o.isCode(t)&&(t.outputs=[]),t}processDecisions(e){if(1===e.length&&d.arraysEqual(e[0].absolutePath,["cells"])){let t=e[0];0===(e=this.applyCellLevelDecision(t)).length&&this.decisions.push(t)}for(let t of e){if(t.level=2,t.absolutePath.length<2||"cells"!==t.absolutePath[0])throw new Error("Not a valid path for a cell decision");if(2===t.absolutePath.length&&(d.hasEntries(t.localDiff)||d.hasEntries(t.remoteDiff))){let e=s.pushPatchDecision(t,t.absolutePath.slice(1,2)),r=d.hasEntries(e.localDiff)?e.localDiff[0]:null,o=d.hasEntries(e.remoteDiff)?e.remoteDiff[0]:null,n=this.splitPatch(e,r,o);for(let e of n)e.level=2,this.decisions.push(e)}else this.decisions.push(t)}}applyCellLevelDecision(e){let t=[];if(console.assert(!this.onesided,"Cannot have multiple cell decisions on one cell!"),this.onesided=!0,d.hasEntries(e.localDiff))if(d.hasEntries(e.remoteDiff))if(console.assert(d.hasEntries(e.localDiff)&&d.hasEntries(e.remoteDiff)),console.assert(1===e.localDiff.length&&1===e.remoteDiff.length),e.localDiff[0].op===e.remoteDiff[0].op)if(null===this.base){let t=e.localDiff[0].valuelist[0];this._local=l.createAddedCellDiffModel(t,this.mimetype),this._remote=l.createAddedCellDiffModel(t,this.mimetype),this._merged=l.createAddedCellDiffModel(t,this.mimetype)}else this._local=l.createDeletedCellDiffModel(this.base,this.mimetype),this._remote=l.createDeletedCellDiffModel(this.base,this.mimetype),this._merged=l.createDeletedCellDiffModel(this.base,this.mimetype),this.deleteCell=d.valueIn(e.action,["local","remote","either"]);else{let r=[e.localDiff[0].op,e.remoteDiff[0].op];if(console.assert(d.valueIn("removerange",r)&&d.valueIn("patch",r)),null===this.base)throw new Error("Invalid merge decision, cannot have null base for deleted cell: "+e);"removerange"===r[0]?(this._local=l.createDeletedCellDiffModel(this.base,this.mimetype),this.deleteCell="local"===e.action,t=t.concat(this.splitPatch(e,null,e.remoteDiff[0]))):(this._remote=l.createDeletedCellDiffModel(this.base,this.mimetype),this.deleteCell="remote"===e.action,t=t.concat(this.splitPatch(e,e.localDiff[0],null))),s.resolveCommonPaths(t)}else{if(this._remote=null,!e.localDiff||1!==e.localDiff.length)throw new Error("Merge decision does not conform to expectation: "+e);if(null===this.base){let t=e.localDiff[0];if("addrange"!==t.op)throw new Error("Merge decision does not conform to expectation: "+e);let r=t.valuelist[0];this._local=l.createAddedCellDiffModel(r,this.mimetype),this._merged=l.createAddedCellDiffModel(r,this.mimetype)}else this._local=l.createDeletedCellDiffModel(this.base,this.mimetype),this._merged=l.createDeletedCellDiffModel(this.base,this.mimetype),this.deleteCell=d.valueIn(e.action,["local","either"])}else{if(this._local=null,!e.remoteDiff||1!==e.remoteDiff.length)throw new Error("Merge decision does not conform to expectation: "+e);if(null===this.base){let t=e.remoteDiff[0];if("addrange"!==t.op)throw new Error("Merge decision does not conform to expectation: "+e);let r=t.valuelist[0];this._remote=l.createAddedCellDiffModel(r,this.mimetype),this._merged=l.createAddedCellDiffModel(r,this.mimetype)}else this._remote=l.createDeletedCellDiffModel(this.base,this.mimetype),this._merged=l.createDeletedCellDiffModel(this.base,this.mimetype),this.deleteCell=d.valueIn(e.action,["remote","either"])}return t}splitPatch(e,t,r){let o=!!t&&d.hasEntries(t.diff),n=!!r&&d.hasEntries(r.diff);if(!o&&!n)return[];let l=o?t.diff:null,a=n?r.diff:null,f=[],c=[];if(o)for(let e of l)c.push(e.key);if(n)for(let e of a)c.push(e.key);if(c=c.filter(d.unique),o&&n&&t.key!==r.key)throw new Error("Different keys of patch ops given to `splitPatch`.");let h=o?t.key:r.key;for(let t of c){if(this._whitelist&&!d.valueIn(t,this._whitelist))throw new u.NotifyUserError('Currently not able to handle decisions on variable "'+t+'"');let r=i.getDiffEntryByKey(l,t),o=i.getDiffEntryByKey(a,t),n=!(r&&o),c=e.action;"base"===c&&n&&(c=r?"local":"remote"),f.push(new s.MergeDecision(e.absolutePath.concat([h]),r?[r]:null,o?[o]:null,c,e.conflict))}let p=this.splitOnSourceChunks(f);return s.resolveCommonPaths(p),d.stableSort(p,s.decisionSortKey)}splitOnSourceChunks(e){let t=[];for(let r=0;r<e.length;++r){let o=e[r];if("source"===o.absolutePath[2]){let e=this.base.source;Array.isArray(e)||(e=d.splitLines(e)),o.level=3;let r=f.splitMergeDecisionsOnChunks(e,[o]);s.resolveCommonPaths(r),t=t.concat(d.stableSort(r,s.decisionSortKey))}else t.push(o)}return t}createDiffModel(e){if(null===this.base)throw new Error("Cannot create a patched or unchanged diff model with null base!");return e&&e.length>0?l.createPatchedCellDiffModel(this.base,e,this.mimetype):l.createUnchangedCellDiffModel(this.base,this.mimetype)}createMergedDiffModel(){if(null===this.base)throw new Error("Cannot create a patched or unchanged merged diff model with null base!");return function(e,t,r,n,f){for(let e of t)if(0===e.localPath.length){let t=s.popPath(e.diffs,!0);null!==t&&(e.diffs=t.diffs,e.pushPath(t.key))}let u=new c.DecisionStringDiffModel(e.source,s.filterDecisions(t,["source"],2),[r?r.source:null,n?n.source:null]);l.setMimetypeFromCellType(u,e,f);let h=new c.DecisionStringDiffModel(e.metadata,s.filterDecisions(t,["metadata"],2),[r?r.metadata:null,n?n.metadata:null]),p=null,m=null;if(o.isCode(e)){if(e.outputs){let r,o=e.outputs,n=s.filterDecisions(t,["outputs"],2),i=s.buildDiffs(o,n,"merged");r=i&&i.length>0?a.patch(o,i):o,p=l.makeOutputModels(o,r,i)}let r=e.execution_count,o=s.filterDecisions(t,["cells"],0,2);for(let t of o)if(null!==i.getDiffEntryByKey(t.localDiff,"execution_count")||null!==i.getDiffEntryByKey(t.remoteDiff,"execution_count")||null!==i.getDiffEntryByKey(t.customDiff,"execution_count")){t.level=2;let o=s.buildDiffs(e,[t],"merged"),n=d.hasEntries(o)?o[0]:null;m=l.createImmutableModel(r,r,n)}}return new l.CellDiffModel(u,h,p,m,e.cell_type)}(this.base,this.decisions,this.local,this.remote,this.mimetype)}}t.CellMergeModel=h},8930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMergeModel=t.DecisionStringDiffModel=void 0;const o=r(1668),n=r(8152),i=r(7377),l=r(7460),s=r(7811);class a extends n.StringDiffModel{constructor(e,t,r,o,n,i){super(s.stringifyAndBlankNull(e),"",[],[],o,n,i),this.rawBase=e,this.decisions=t,this._outdated=!0,this._sourceModels=r,this._update()}get additions(){return this._outdated&&this._update(),this._additions}set additions(e){this._additions=e}get deletions(){return this._outdated&&this._update(),this._deletions}set deletions(e){this._deletions=e}get remote(){return this._outdated&&this._update(),this._remote}set remote(e){this._remote=e}invalidate(){this._outdated=!0}get invalid(){return this._outdated}getLineChunks(){let e=[this];e=e.concat(this._sourceModels);let t=new l.LineChunker,r=new n.StringDiffModel.SyncedDiffIter(e);for(let e=r.next();void 0!==e;e=r.next())if(r.currentModel()===this)t.addDiff(e.range,e.isAddition);else{if(!e.range.source||"base"!==e.range.source.decision.action)continue;t.addGhost(e.range,e.isAddition,r.currentOffset)}return t.chunks}_update(){this._outdated=!1;let e=i.buildDiffs(this.rawBase,this.decisions,"merged"),t=s.patchStringified(this.rawBase,e);this._additions=o.raw2Pos(t.additions,t.remote),this._deletions=o.raw2Pos(t.deletions,this.base||""),this._remote=t.remote}}t.DecisionStringDiffModel=a,t.ObjectMergeModel=class{constructor(e,t,r,o){this._finalized=!1,this.base=e,this.mimetype=r,this._whitelist=o||null,this.decisions=t}serialize(){return null===this.base?null:i.applyDecisions(this.base,this.decisions)}get local(){if(void 0===this._local){this._finalizeDecisions();let e=i.buildDiffs(this.base,this.decisions,"local");this._local=this.createDiffModel(e)}return this._local}get remote(){if(void 0===this._remote){this._finalizeDecisions();let e=i.buildDiffs(this.base,this.decisions,"remote");this._remote=this.createDiffModel(e)}return this._remote}get merged(){return void 0===this._merged&&(this._finalizeDecisions(),this._merged=this.createMergedDiffModel()),this._merged}get subModels(){return[this.local,this.remote,this.merged]}_finalizeDecisions(){if(!this._finalized){for(let e of this.decisions)"either"===e.action?(l.labelSource(e.localDiff,{decision:e,action:"either"}),l.labelSource(e.remoteDiff,{decision:e,action:"either"})):(l.labelSource(e.localDiff,{decision:e,action:"local"}),l.labelSource(e.remoteDiff,{decision:e,action:"remote"})),l.labelSource(e.customDiff,{decision:e,action:"custom"});this._finalized=!0}}}},6618:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(9103),t),n(r(8930),t),n(r(1379),t),n(r(8873),t)},1379:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataMergeModel=void 0;const o=r(8152),n=r(8930),i=r(1797);class l extends n.ObjectMergeModel{constructor(e,t){super(e,t,"application/json")}serialize(){if(!this.merged||null===this.merged.remote)throw new Error("Missing notebook metadata merge data.");return JSON.parse(this.merged.remote)}createDiffModel(e){if(e&&e.length>0)return o.createPatchStringDiffModel(this.base,e);{const e=i.JSONExt.deepCopy(this.base);return o.createDirectStringDiffModel(e,e)}}createMergedDiffModel(){return new n.DecisionStringDiffModel(this.base,this.decisions,[this.local,this.remote])}}t.MetadataMergeModel=l},8873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookMergeModel=void 0;const o=r(425),n=r(7377),i=r(7460),l=r(7811),s=r(9103),a=r(1379);function d(e){return!!e&&2===e.length&&e[0].key===e[1].key}t.NotebookMergeModel=class{constructor(e,t){this.base=e;let r,o=this.constructor.preprocessDecisions(t);try{r=e.metadata.language_info.mimetype}catch(e){}this.mimetype=r||"text/python",this.cells=this.buildCellList(o);let i=n.filterDecisions(o,["metadata"]);this.metadata=new a.MetadataMergeModel(e.metadata,i),this.unsavedChanges=!1}static preprocessDecisions(e){let t=[];for(let r of e)t.push(new n.MergeDecision(r));t=function(e){let t=[];for(let r of e)if(o.arraysEqual(r.absolutePath,["cells"]))if(r.localDiff&&!r.remoteDiff)for(let e of r.localDiff){let o=new n.MergeDecision(r);o.localDiff=[e],t.push(o)}else if(r.remoteDiff&&!r.localDiff)for(let e of r.remoteDiff){let o=new n.MergeDecision(r);o.absolutePath=r.absolutePath.slice(),o.remoteDiff=[e],t.push(o)}else if(d(r.localDiff))if(d(r.remoteDiff)){let e=new n.MergeDecision(r);e.localDiff=r.localDiff.slice(0,1),e.remoteDiff=r.remoteDiff.slice(0,1),t.push(e),t.push(new n.MergeDecision(r.absolutePath.slice(),r.localDiff.slice(1),r.remoteDiff.slice(1),"either"))}else{let e=new n.MergeDecision(r);e.localDiff=r.localDiff.slice(0,1),t.push(e),t.push(new n.MergeDecision(r.absolutePath.slice(),r.localDiff.slice(1),[],"local",r.conflict))}else if(d(r.remoteDiff)){let e=new n.MergeDecision(r);e.remoteDiff=r.remoteDiff.slice(0,1),t.push(e),t.push(new n.MergeDecision(r.absolutePath.slice(),[],r.remoteDiff.slice(1),"remote",r.conflict))}else if(o.hasEntries(r.remoteDiff)&&o.hasEntries(r.localDiff))if("addrange,removerange"===[r.remoteDiff[0].op,r.localDiff[0].op].sort().join(",")){let e=new n.MergeDecision(r);e.action="local",e.localDiff=r.localDiff.slice(),e.remoteDiff=null,t.push(e);let o=new n.MergeDecision(r);o.action="remote",o.localDiff=null,o.remoteDiff=r.remoteDiff.slice(),t.push(o)}else t.push(r);else t.push(r);else t.push(r);return n.resolveCommonPaths(t),t}(t),t=function(e){let t=[],r=function(e,t,r,o){let i=new n.MergeDecision(e.absolutePath.slice(),null,null,e.action,e.conflict),l=[{key:t,op:"removerange",length:1}];return console.assert(r||o),r&&(i.localDiff=l),o&&(i.remoteDiff=l),i};for(let n of e){if(!o.arraysEqual(n.absolutePath,["cells"])){t.push(n);continue}let e=o.hasEntries(n.localDiff)?n.localDiff[n.localDiff.length-1]:null,i=o.hasEntries(n.remoteDiff)?n.remoteDiff[n.remoteDiff.length-1]:null;if(e&&!i||i&&!e){let o=e||i;if(!("removerange"===o.op&&o.length>1)){t.push(n);continue}for(let l=0;l<o.length;++l)t.push(r(n,o.key+l,!!e,!!i))}else if(i&&e){if("removerange"!==e.op&&"removerange"!==i.op){t.push(n);continue}if(e.op===i.op){let o=e.key,l=i.key,s=Math.min(o,l),a=o+e.length,d=l+i.length,f=Math.max(a,d);for(let e=s;e<f;++e){let i=e>=o&&e<a,s=e>=l&&e<d;t.push(r(n,e,i,s))}}else{let o="removerange"===e.op,l=o?e:i,s=o?i:e;console.assert("patch"===s.op);let a=s.key,d=l.key;for(let e=d;e<d+l.length;++e){let i=r(n,e,o,!o);e===a&&(o?i.remoteDiff=[s]:i.localDiff=[s]),t.push(i)}}}}return t}(t),t=function(e){let t=[],r=function(e,t,r,i){let l=new n.MergeDecision(e.absolutePath.slice(),null,null,e.action,e.conflict);if(r&&!o.hasEntries(e.localDiff)||!r&&!o.hasEntries(e.remoteDiff))throw new Error("Invalid input: "+e);let s=[{key:(r?e.localDiff:e.remoteDiff)[0].key,op:"addrange",valuelist:[t]}];return console.assert(r||i),r&&(l.localDiff=s),i&&(l.remoteDiff=s),l};for(let n of e){if(!o.arraysEqual(n.absolutePath,["cells"])){t.push(n);continue}let e=!0;if(n.localDiff)for(let t of n.localDiff)if("addrange"!==t.op){e=!1;break}if(n.remoteDiff)for(let t of n.remoteDiff)if("addrange"!==t.op){e=!1;break}if(!e){t.push(n);continue}let i=n.localDiff&&1===n.localDiff.length?n.localDiff[0]:null,s=n.remoteDiff&&1===n.remoteDiff.length?n.remoteDiff[0]:null;if(i&&!s||s&&!i){let e=(i||s).valuelist;for(let o of e)t.push(r(n,o,!!i,!!s))}else if(i&&s)if(l.stringify(i.valuelist)===l.stringify(s.valuelist))for(let e of i.valuelist)t.push(r(n,e,!0,!0));else{let e=i.key;if(console.assert(e===s.key),"remote_then_local"===n.action){for(let e of s.valuelist){const o=r(n,e,!1,!0);o.action="remote",t.push(o)}for(let e of i.valuelist){const o=r(n,e,!0,!1);o.action="local",t.push(o)}}else{for(let e of i.valuelist){const o=r(n,e,!0,!1);o.action="local",t.push(o)}for(let e of s.valuelist){const o=r(n,e,!1,!0);o.action="remote",t.push(o)}}}}return t}(t),t=function(e){let t=[];for(let r of e){if(!o.arraysEqual(r.absolutePath,["cells"])){t.push(r);continue}let e=o.hasEntries(r.localDiff)?r.localDiff:null,i=o.hasEntries(r.remoteDiff)?r.remoteDiff:null;if(e&&e.length<2&&i&&i.length<2){t.push(r);continue}let l=Math.max(e?e.length:0,i?i.length:0);for(let o=0;o<l;++o){let l=e&&o<e.length?[e[o]]:null,s=i&&o<i.length?[i[o]]:null;t.push(new n.MergeDecision(r.absolutePath.slice(),l,s,r.action,r.conflict))}}return o.stableSort(t,n.decisionSortKey)}(t),n.resolveCommonPaths(t);for(let e of t)"either"===e.action?(i.labelSource(e.localDiff,{decision:e,action:"either"}),i.labelSource(e.remoteDiff,{decision:e,action:"either"})):(i.labelSource(e.localDiff,{decision:e,action:"local"}),i.labelSource(e.remoteDiff,{decision:e,action:"remote"})),i.labelSource(e.customDiff,{decision:e,action:"custom"});return t}serialize(){let e={};for(let t in this.base)o.valueIn(t,["cells","metadata"])||(e[t]=this.base[t]);e.metadata=this.metadata.serialize();let t=[];for(let e of this.cells){let r=e.serialize();null!==r&&t.push(r)}return e.cells=t,e}get decisions(){let e=[];for(let t of this.cells)e=e.concat(t.decisions);return e=e.concat(this.metadata.decisions),e}get conflicts(){let e=[];for(let t of this.decisions)t.conflict&&e.push(t);return e}buildCellList(e){let t=[];for(let e of this.base.cells)t.push({base:e,decisions:[]});let r=0;for(let n of e){let e=n.absolutePath;if(!(e.length<1||"cells"!==e[0]))if(o.arraysEqual(e,["cells"])){let e=null,o=!1;for(let i of n.diffs)if(i&&0!==i.length&&(e=i[0].key,"addrange"===i[0].op)){let i=r+e;t.splice(i,0,{base:null,decisions:[n]}),r+=1,o=!0;break}if(o)continue;if(null===e)throw new Error("No index could be found for merge decision!");t[e+r].decisions.push(n)}else t[e[1]].decisions.push(n)}let n=[];for(let e of t)n.push(new s.CellMergeModel(e.base,e.decisions,this.mimetype));return n}}},1326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatchObjectHelper=void 0;const o=r(425);class n{constructor(e,t){this._diffLUT={};let r=[];if(t)for(let e of t)r.push(e.key),this._diffLUT[e.key]=e;this._diffKeys=r,this.baseKeys=i(e)}isDiffKey(e){return o.valueIn(e,this._diffKeys)}getDiffEntry(e){return this._diffLUT[e]}entriesAfterCurrentAddRem(){if(void 0===this._currentIsAddition)throw new Error("Current op is not an add or remove op");let e=this._currentIsAddition?"remove":"add";for(let t of this._remainingKeys){if(!o.valueIn(t,this._diffKeys))return!0;if(this._diffLUT[t].op!==e)return!0}return!1}iter(){return this._remainingKeys=this.baseKeys.concat(this._diffKeys).filter(o.unique).sort(),this}keys(){return this}next(){let e=this._remainingKeys.shift();if(e&&o.valueIn(e,this._diffKeys)){let t=this._diffLUT[e].op;this._currentIsAddition="add"===t||"remove"!==t&&void 0}return e}clone(){let e=new n({},null);return e.baseKeys=this.baseKeys,e._diffKeys=this._diffKeys,e._currentIsAddition=this._currentIsAddition,e._diffLUT=this._diffLUT,e._remainingKeys=this._remainingKeys.slice(),e}}t.PatchObjectHelper=n;let i=Object.keys||function(e){let t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(let o in e)t.call(e,o)&&r.push(o);return r}},9984:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patch=void 0;const o=r(1797),n=r(425),i=r(1406),l=r(2796);t.patch=function e(t,r){if("string"==typeof t)return l.patchString(t,r,0,!1).remote;if(Array.isArray(t))return function(t,r){if(null===r)return n.deepCopy(t);let o=[],l=0,s=0;for(let a of r){i.validateSequenceOp(t,a);let r=a.key;for(let e of t.slice(l,r))o.push(n.deepCopy(e));"addrange"===a.op?(o=o.concat(a.valuelist),s=0):"removerange"===a.op?s=a.length:"patch"===a.op&&(o.push(e(t[r],a.diff)),s=1),l=Math.max(l,r+s)}for(let e of t.slice(l))o.push(n.deepCopy(e));return o}(o.JSONExt.deepCopy(t),r);if("number"==typeof t||"boolean"==typeof t)throw new TypeError("Cannot patch an atomic type: "+typeof t);if(null===t)throw new TypeError("Cannot patch a null base!");return function(t,r){let o={},l=Object.keys(t);if(r)for(let n of r){i.validateObjectOp(t,n,l);let r=n.key;"add"===n.op?o[r]=n.value:"remove"===n.op?l.splice(l.indexOf(r),1):"replace"===n.op?(l.splice(l.indexOf(r),1),o[r]=n.value):"patch"===n.op&&(l.splice(l.indexOf(r),1),o[r]=e(t[r],n.diff))}for(let e of l)o[e]=n.deepCopy(t[e]);return o}(o.JSONExt.deepCopy(t),r)}},7811:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1326),t),n(r(9984),t),n(r(2796),t)},2796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patchString=t.patchStringified=t.stringifyAndBlankNull=t.stringify=void 0;const o=r(9850),n=r(425),i=r(5082),l=r(1406),s=r(1668),a=r(1326),d=r(2117);function f(e,t,r=!0){let o=d(e,{space:i.JSON_INDENT});return t&&(o=function(e,t,r){r=!1!==r;let o=e.split("\n"),l=new Array(o.length);r||(l[0]=o[0]);for(let e=r?0:1;e<o.length;e++)l[e]=n.repeatString(i.JSON_INDENT,t)+o[e];return l.join("\n")}(o,t,r)),o}function c(e,t,r,o){let n=[],l=[],a=0;if(null===t)return{remote:o?f(e,r):e,additions:n,deletions:l};t=i.flattenStringDiff(e,t);let d=0,c=0,p="";for(let r of t){let t=r.key,o=e.slice(d,t);if(p+=o,a+=o.length,"addrange"===r.op){let e=r.valuelist;n.push(new s.DiffRangeRaw(p.length,e.length,r.source)),p+=e,c=0}else"removerange"===r.op&&(c=r.length,l.push(new s.DiffRangeRaw(a,c,r.source)),a+=c);d=Math.max(d,t+c)}return p+=e.slice(d,e.length),o&&(p=f(p,r),u(r*i.JSON_INDENT.length+1,n,l),h(p,n),h(f(e,r),l)),{remote:p,additions:n,deletions:l}}function u(e,t,r){for(let r of t)r.offset(e);for(let t of r)t.offset(e)}function h(e,t){let r,o=['\\"',"\\\\","\\/","\\b","\\f","\\n","\\r","\\t"],n=/\\uD[89A-Fa-f][0-9a-fA-F]{2}\\uD[c-fC-F][0-9a-fA-F]{2}/g,i=/(?!\\uD[c-fC-F][0-9a-fA-F]{2})\\u(?!D[89A-Fa-f][0-9a-fA-F]{2})\d{4}/g,l=[],s=[];for(let t of o){let r=JSON.parse('"'+t+'"').length,o=0;for(;o=e.indexOf(t,o),!(o<0);)l.push(o),s.push(2-r),o++}for(;null!==(r=i.exec(e));)l.push(r.index),s.push(6-JSON.parse('"'+r[0]+'"').length);for(;null!==(r=n.exec(e));)l.push(r.index),s.push(12-JSON.parse('"'+r[0]+'"').length);for(let e=0;e<l.length;e++)for(let r of t){let t=l[e],o=s[e];r.from>t&&(r.from+=o),r.to>t&&(r.to+=o)}}t.stringify=f,t.stringifyAndBlankNull=function(e){return"string"==typeof e?e:null===e?"":f(e)},t.patchStringified=function e(t,r,d){if(void 0===d&&(d=0),"string"==typeof t)return c(t,r,d,d>0);if(Array.isArray(t))return function(t,r,o){let a="",d=[],c=[],h=0,p=",\n";if(null===r)return{remote:f(t,o),additions:d,deletions:c};let m=0,g=0;for(let n of r){l.validateSequenceOp(t,n);let r=n.key;for(;r>m;m++){let e=f(t[m],o+1)+p;a+=e,h+=e.length}if("addrange"===n.op){let e="";for(let t of n.valuelist)e+=f(t,o+1)+p;let i=e.length;r===t.length&&(i-=1),d.push(new s.DiffRangeRaw(a.length,i,n.source)),a+=e,g=0}else if("removerange"===n.op){let e="",i=n.length;for(let n=r;n<r+i;n++)e+=f(t[n],o+1)+p;let l=e.length;i+r===t.length&&(l-=1),c.push(new s.DiffRangeRaw(h,l,n.source)),h+=e.length,g=n.length}else if("patch"===n.op){let i=e(t[r],n.diff,o+1);g=1;let l=i.remote+p;u(a.length,i.additions,i.deletions),d=d.concat(i.additions),c=c.concat(i.deletions),h+=f(t[r],o+1).length,a+=l}m=Math.max(m,r+g)}for(;t.length>m;m++)a+=f(t[m],o+1)+p;a.slice(a.length-p.length)===p&&(a=a.slice(0,a.length-p.length));let b=n.repeatString(i.JSON_INDENT,o);return a=b+"[\n"+a+"\n"+b+"]",u(b.length+2,d,c),{remote:a,additions:d,deletions:c}}(t,r,d);if("number"==typeof t||"boolean"==typeof t)throw new TypeError("Cannot patch an atomic type: "+typeof t);if(null===t)throw new TypeError("Cannot patch a null base!");return function(t,r,d){let c="",h=[],p=[],m=",\n",g=0;if(null===r)return{remote:f(t,d),additions:h,deletions:p};let b=new a.PatchObjectHelper(t,r),y=b.baseKeys.slice();o.each(b.keys(),(r=>{let o=function(e,t){return n.repeatString(i.JSON_INDENT,t)+'"'+e+'": '}(r,d+1);if(b.isDiffKey(r)){let a=b.getDiffEntry(r);if(l.validateObjectOp(t,a,y),n.valueIn(a.op,["add","replace","remove"])){let e="replace"===a.op;if("add"===a.op||"replace"===a.op){let t=f(a.value,d+1,!1)+m,r=c.length,n=t.length;e?r+=o.length:n+=o.length,!e&&b.entriesAfterCurrentAddRem()||(n-=m.length,"add"===a.op&&(n+=1)),h.push(new s.DiffRangeRaw(r,n,a.source)),c+=o+t}if("remove"===a.op||"replace"===a.op){let n=f(t[r],d+1,!1)+m,i=g,l=n.length;e?i+=o.length:l+=o.length,!e&&b.entriesAfterCurrentAddRem()||(l-=m.length,"remove"===a.op&&(l+=1)),p.push(new s.DiffRangeRaw(i,l,a.source)),g+=o.length+n.length,y.splice(y.indexOf(r),1)}}else if("patch"===a.op){let n=e(t[r],a.diff,d+1),l=n.remote;l=o+l.slice((d+1)*i.JSON_INDENT.length)+m,u(c.length+o.length-(d+1)*i.JSON_INDENT.length,n.additions,n.deletions),c+=l,h=h.concat(n.additions),p=p.concat(n.deletions),g+=f(t[r],d+1,!1).length+o.length+m.length,y.splice(y.indexOf(r),1)}}else{let e=o+f(t[r],d+1,!1)+m;c+=e,g+=e.length}})),c.slice(c.length-m.length)===m&&(c=c.slice(0,c.length-m.length));let C=n.repeatString(i.JSON_INDENT,d);return c=C+"{\n"+c+"\n"+C+"}",u(C.length+2,h,p),{remote:c,additions:h,deletions:p}}(t,r,d)},t.patchString=c},2868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestMerge=t.requestMergePromise=t.requestDiff=t.requestDiffPromise=t.requestApiJson=t.requestApiJsonPromise=t.requestApi=t.requestApiPromise=t.handleError=void 0;const o=r(7048),n=r(4834);function i(e){if(!e.ok){if(500===e.status&&e.body)return e.text().then((e=>{throw new Error(e)}));throw new Error(`${e.status} ${e.statusText}`)}return Promise.resolve(e)}function l(e,t,r){const l=o.URLExt.join("/"===(s=e).slice(-1)?s.slice(0,-1):s,t);var s;let a={method:"POST",body:JSON.stringify(r)},d=n.ServerConnection.makeSettings();return n.ServerConnection.makeRequest(l,a,d).then(i)}function s(e,t,r){return l(e,t,r).then((e=>e.json()))}function a(e,t,r,o,n){s(e,t,r).then(o,(e=>{n(e.message)}))}t.handleError=i,t.requestApiPromise=l,t.requestApi=function(e,t,r,o,n){l(e,t,r).then(o,(e=>{n(e.message)}))},t.requestApiJsonPromise=s,t.requestApiJson=a,t.requestDiffPromise=function(e,t,r){return s(r,"api/diff",{base:e,remote:t})},t.requestDiff=function(e,t,r,o,n){a(r,"api/diff",{base:e,remote:t},o,n)},t.requestMergePromise=function(e,t,r,o){return s(o,"api/merge",{base:e,local:t,remote:r})},t.requestMerge=function(e,t,r,o,n,i){a(o,"api/merge",{base:e,local:t,remote:r},n,i)}},7438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlexLayout=void 0;const o=r(9850),n=r(3211),i=r(6510);class l extends i.PanelLayout{constructor(e={}){super(),this.order=null,this._wrap=!1,this._minimumSpacing=4,this._justifyContent=null,this._alignItems=null,this._alignContent=null,this._dirty=!1,this._direction="top-to-bottom",this._stretchType=null,this._evenSizes=!1,void 0!==e.direction&&(this._direction=e.direction),void 0!==e.minimumSpacing&&(this._minimumSpacing=s.clampSpacing(e.minimumSpacing)),void 0!==e.wrap&&(this._wrap=e.wrap),void 0!==e.justifyContent&&(this._justifyContent=e.justifyContent),void 0!==e.alignItems&&(this._alignItems=e.alignItems),void 0!==e.alignContent&&(this._alignContent=e.alignContent),void 0!==e.stretchType&&(this._stretchType=e.stretchType),void 0!==e.evenSizes&&(this._evenSizes=e.evenSizes)}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(s.toggleDirection(this.parent,e),this.parent.fit()))}get minimumSpacing(){return this._minimumSpacing}set minimumSpacing(e){e=s.clampSpacing(e),this._minimumSpacing!==e&&(this._minimumSpacing=e,this.parent&&(this.parent.node.style.flexWrap=e?"wrap":"nowrap",this.parent.fit()))}get wrap(){return this._wrap}set wrap(e){this._wrap!==e&&(this._wrap=e,this.parent&&(this.parent.node.style.flexWrap=e?"wrap":"nowrap",this.parent.fit()))}get justifyContent(){return this._justifyContent}set justifyContent(e){if(this._justifyContent===e)return;this._justifyContent=e;let t=s.translateFlexString(e);this.parent&&(this.parent.node.style.justifyContent=t,this.parent.fit())}get alignItems(){return this._alignItems}set alignItems(e){if(this._alignItems===e)return;this._alignItems=e;let t=s.translateFlexString(e);this.parent&&(this.parent.node.style.alignItems=t,this.parent.fit())}get alignContent(){return this._alignContent}set alignContent(e){if(this._alignContent===e)return;this._alignContent=e;let t=s.translateFlexString(e);this.parent&&(this.parent.node.style.alignContent=t,!1!==this._wrap&&this.parent.fit())}get stretchType(){return this._stretchType}set stretchType(e){this._stretchType!==e&&(this._stretchType=e,this.parent&&this.parent.fit())}get evenSizes(){return this._evenSizes}set evenSizes(e){this._evenSizes!==e&&(this._evenSizes=e,this.parent&&this.parent.fit())}isHorizontal(){return"right-to-left"===this.direction||"left-to-right"===this.direction}isVertical(){return!this.isHorizontal()}init(){s.toggleDirection(this.parent,this.direction),super.init()}attachWidget(e,t){super.attachWidget(e,t),this.order&&o.ArrayExt.insert(this.order,e,t),this.parent.fit()}moveWidget(e,t,r){e!==t&&(this.order||(this.order=this.widgets.slice()),o.ArrayExt.move(this.order,e,t),this._dirty=!0),this.parent.update()}detachWidget(e,t){if(this.order){let e=0;for(;e<this.order.length;++e)if(t===this.order[e]){o.ArrayExt.removeAt(this.order,e);break}}super.detachWidget(e,t),this.parent.fit()}onAfterShow(e){super.onAfterShow(e),this.parent.update()}onAfterAttach(e){super.onAfterAttach(e),s.toggleDirection(this.parent,this._direction);let t=this.parent.node.style;t.flexWrap=this._wrap?"wrap":"nowrap",t.justifyContent=s.translateFlexString(this._justifyContent)||"",t.alignContent=s.translateFlexString(this._alignContent)||"",t.alignItems=s.translateFlexString(this._alignItems)||"",this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update()}onUpdateRequest(e){this.parent.isVisible&&this._update()}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){this._dirty=!0;let e=this.parent.parent;e&&n.MessageLoop.sendMessage(e,i.Widget.Msg.FitRequest),this._dirty&&n.MessageLoop.sendMessage(this.parent,i.Widget.Msg.UpdateRequest)}_update(){this._dirty=!1;let e=this.order||this.widgets;if(0===e.length)return;let t=this.minimumSpacing.toString()+"px";if(this.isHorizontal())for(let r=0;r<e.length-1;++r)e[r].node.style.marginRight=t;else for(let r=0;r<e.length-1;++r)e[r].node.style.marginBottom=t;if(this._evenSizes||this.stretchType){let t=null,r=null,o=null;if(this._evenSizes)t=0,r=1;else switch(this._stretchType){case"grow":r=1,o=0;break;case"shrink":r=0,o=1;break;case"both":r=1,o=1;break;case"fixed":r=0,o=0;break;default:throw new TypeError("Invalid stretch type: "+this._stretchType)}for(let n=0;n<e.length;++n){let i=e[n].node.style;null!==t&&(i.flexBasis=t.toString()),null!==r&&(i.flexGrow=r.toString()),null!==o&&(i.flexShrink=o.toString())}}for(let t=0;t<e.length;++t)e[t].node.style.order=this.order?t.toString():""}}var s;t.FlexLayout=l,function(e){e.getGrow=function(e){let t=e.node.style.flexGrow;return t?parseInt(t,10):null},e.setGrow=function(e,t,r=!0){e.node.style.flexGrow=null===t?"":t.toString(),r&&e.parent&&e.parent.fit()},e.getShrink=function(e){let t=e.node.style.flexShrink;return t?parseInt(t,10):null},e.setShrink=function(e,t,r=!0){e.node.style.flexShrink=null===t?"":t.toString(),r&&e.parent&&e.parent.fit()},e.getSizeBasis=function(e){let t=e.node.style.flexBasis;return"auto"===t?"auto":t?parseInt(t.replace("px",""),10):null},e.setSizeBasis=function(e,t,r=!0){e.node.style.flexBasis="auto"===t?t:null===t?"":t.toString()+"px",r&&e.parent&&e.parent.fit()}}(l=t.FlexLayout||(t.FlexLayout={})),function(e){e.isHorizontal=function(e){return"left-to-right"===e||"right-to-left"===e},e.translateFlexString=function(e){return"start"!==e&&"end"!==e||(e="flex-"+e),e},e.toggleDirection=function(e,t){e.toggleClass("p-mod-left-to-right","left-to-right"===t),e.toggleClass("p-mod-right-to-left","right-to-left"===t),e.toggleClass("p-mod-top-to-bottom","top-to-bottom"===t),e.toggleClass("p-mod-bottom-to-top","bottom-to-top"===t)},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))}}(s||(s={}))},3474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlexPanel=void 0;const o=r(7438),n=r(6510),i="p-FlexPanel-child";class l extends n.Panel{constructor(e={}){super({layout:s.createLayout(e)}),e.layout||(void 0!==e.minimumSpacing&&(this.minimumSpacing=e.minimumSpacing),void 0!==e.direction&&(this.direction=e.direction)),this.addClass("p-FlexPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get minimumSpacing(){return this.layout.minimumSpacing}set minimumSpacing(e){this.layout.minimumSpacing=e}get wrap(){return this.layout.wrap}set wrap(e){this.layout.wrap=e}get justifyContent(){return this.layout.justifyContent}set justifyContent(e){this.layout.justifyContent=e}get alignItems(){return this.layout.alignItems}set alignItems(e){this.layout.alignItems=e}get alignContent(){return this.layout.alignContent}set alignContent(e){this.layout.alignContent=e}get stretchType(){return this.layout.stretchType}set stretchType(e){this.layout.stretchType=e}get evenSizes(){return this.layout.evenSizes}set evenSizes(e){this.layout.evenSizes=e}onChildAdded(e){e.child.addClass(i)}onChildRemoved(e){e.child.removeClass(i)}onAfterAttach(e){super.onAfterAttach(e),this.fit()}}var s;t.FlexPanel=l,function(e){e.getGrow=function(e){return o.FlexLayout.getGrow(e)},e.setGrow=function(e,t){o.FlexLayout.setGrow(e,t)},e.getShrink=function(e){return o.FlexLayout.getShrink(e)},e.setShrink=function(e,t){o.FlexLayout.setShrink(e,t)},e.getSizeBasis=function(e){return o.FlexLayout.getSizeBasis(e)},e.setSizeBasis=function(e,t){o.FlexLayout.setSizeBasis(e,t)}}(l=t.FlexPanel||(t.FlexPanel={})),function(e){e.createLayout=function(e){return e.layout||new o.FlexLayout(e)}}(s||(s={}))}}]);