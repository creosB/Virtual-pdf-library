(self.webpackChunkbqplot=self.webpackChunkbqplot||[]).push([[87],{9087:function(n,t){!function(n){"use strict";function t(){}function r(n){if(!n)return t;var r,e,o=n.scale[0],u=n.scale[1],i=n.translate[0],c=n.translate[1];return function(n,t){t||(r=e=0),n[0]=(r+=n[0])*o+i,n[1]=(e+=n[1])*u+c}}function e(n,t){for(var r=0,e=n.length;r<e;){var o=r+e>>>1;n[o]<t?r=o+1:e=o}return r}function o(n,t){var r={type:"Feature",id:t.id,properties:t.properties||{},geometry:u(n,t)};return null==t.id&&delete r.id,r}function u(n,t){var e=r(n.transform),o=n.arcs;function u(n,t){t.length&&t.pop();for(var r,u=o[n<0?~n:n],i=0,c=u.length;i<c;++i)t.push(r=u[i].slice()),e(r,i);n<0&&function(n,t){for(var r,e=n.length,o=e-t;o<--e;)r=n[o],n[o++]=n[e],n[e]=r}(t,c)}function i(n){return n=n.slice(),e(n,0),n}function c(n){for(var t=[],r=0,e=n.length;r<e;++r)u(n[r],t);return t.length<2&&t.push(t[0].slice()),t}function f(n){for(var t=c(n);t.length<4;)t.push(t[0].slice());return t}function a(n){return n.map(f)}var s={Point:function(n){return i(n.coordinates)},MultiPoint:function(n){return n.coordinates.map(i)},LineString:function(n){return c(n.arcs)},MultiLineString:function(n){return n.arcs.map(c)},Polygon:function(n){return a(n.arcs)},MultiPolygon:function(n){return n.arcs.map(a)}};return function n(t){var r=t.type;return"GeometryCollection"===r?{type:r,geometries:t.geometries.map(n)}:r in s?{type:r,coordinates:s[r](t)}:null}(t)}function i(n,t){var r={},e={},o={},u=[],i=-1;function c(n,t){for(var e in n){var o=n[e];delete t[o.start],delete o.start,delete o.end,o.forEach((function(n){r[n<0?~n:n]=1})),u.push(o)}}return t.forEach((function(r,e){var o,u=n.arcs[r<0?~r:r];u.length<3&&!u[1][0]&&!u[1][1]&&(o=t[++i],t[i]=r,t[e]=o)})),t.forEach((function(t){var r,u,i=function(t){var r,e=n.arcs[t<0?~t:t],o=e[0];return n.transform?(r=[0,0],e.forEach((function(n){r[0]+=n[0],r[1]+=n[1]}))):r=e[e.length-1],t<0?[r,o]:[o,r]}(t),c=i[0],f=i[1];if(r=o[c])if(delete o[r.end],r.push(t),r.end=f,u=e[f]){delete e[u.start];var a=u===r?r:r.concat(u);e[a.start=r.start]=o[a.end=u.end]=a}else e[r.start]=o[r.end]=r;else if(r=e[f])if(delete e[r.start],r.unshift(t),r.start=c,u=o[c]){delete o[u.end];var s=u===r?r:u.concat(r);e[s.start=u.start]=o[s.end=r.end]=s}else e[r.start]=o[r.end]=r;else e[(r=[t]).start=c]=o[r.end=f]=r})),c(o,e),c(e,o),t.forEach((function(n){r[n<0?~n:n]||u.push([n])})),u}function c(n,t,r){var e=[];function o(n){var t=n<0?~n:n;(s[t]||(s[t]=[])).push({i:n,g:a})}function u(n){n.forEach(o)}function c(n){n.forEach(u)}function f(n){"GeometryCollection"===n.type?n.geometries.forEach(f):n.type in l&&(a=n,l[n.type](n.arcs))}if(arguments.length>1){var a,s=[],l={LineString:u,MultiLineString:c,Polygon:c,MultiPolygon:function(n){n.forEach(c)}};f(t),s.forEach(arguments.length<3?function(n){e.push(n[0].i)}:function(n){r(n[0].g,n[n.length-1].g)&&e.push(n[0].i)})}else for(var h=0,p=n.arcs.length;h<p;++h)e.push(h);return{type:"MultiLineString",arcs:i(n,e)}}function f(n){var t=n[0],r=n[1],e=n[2];return Math.abs((t[0]-e[0])*(r[1]-t[1])-(t[0]-r[0])*(e[1]-t[1]))}function a(n,t){var r={},e=[],o=[];function c(n){n.forEach((function(t){t.forEach((function(t){(r[t=t<0?~t:t]||(r[t]=[])).push(n)}))})),e.push(n)}function f(t){return Math.abs(function(n){for(var t,r=-1,e=n.length,o=n[e-1],u=0;++r<e;)t=o,o=n[r],u+=t[0]*o[1]-t[1]*o[0];return u/2}(u(n,{type:"Polygon",arcs:[t]}).coordinates[0]))}return t.forEach((function(n){"Polygon"===n.type?c(n.arcs):"MultiPolygon"===n.type&&n.arcs.forEach(c)})),e.forEach((function(n){if(!n._){var t=[],e=[n];for(n._=1,o.push(t);n=e.pop();)t.push(n),n.forEach((function(n){n.forEach((function(n){r[n<0?~n:n].forEach((function(n){n._||(n._=1,e.push(n))}))}))}))}})),e.forEach((function(n){delete n._})),{type:"MultiPolygon",arcs:o.map((function(t){var e,o=[];if(t.forEach((function(n){n.forEach((function(n){n.forEach((function(n){r[n<0?~n:n].length<2&&o.push(n)}))}))})),(e=(o=i(n,o)).length)>1)for(var u,c,a=1,s=f(o[0]);a<e;++a)(u=f(o[a]))>s&&(c=o[0],o[0]=o[a],o[a]=c,s=u);return o}))}}function s(n,t){return n[1][2]-t[1][2]}n.version="1.6.27",n.mesh=function(n){return u(n,c.apply(this,arguments))},n.meshArcs=c,n.merge=function(n){return u(n,a.apply(this,arguments))},n.mergeArcs=a,n.feature=function(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return o(n,t)}))}:o(n,t)},n.neighbors=function(n){var t={},r=n.map((function(){return[]}));function o(n,r){n.forEach((function(n){n<0&&(n=~n);var e=t[n];e?e.push(r):t[n]=[r]}))}function u(n,t){n.forEach((function(n){o(n,t)}))}var i={LineString:o,MultiLineString:u,Polygon:u,MultiPolygon:function(n,t){n.forEach((function(n){u(n,t)}))}};for(var c in n.forEach((function n(t,r){"GeometryCollection"===t.type?t.geometries.forEach((function(t){n(t,r)})):t.type in i&&i[t.type](t.arcs,r)})),t)for(var f=t[c],a=f.length,s=0;s<a;++s)for(var l=s+1;l<a;++l){var h,p=f[s],v=f[l];(h=r[p])[c=e(h,v)]!==v&&h.splice(c,0,v),(h=r[v])[c=e(h,p)]!==p&&h.splice(c,0,p)}return r},n.presimplify=function(n,e){var o=r(n.transform),u=function(n){if(!n)return t;var r,e,o=n.scale[0],u=n.scale[1],i=n.translate[0],c=n.translate[1];return function(n,t){t||(r=e=0);var f=Math.round((n[0]-i)/o),a=Math.round((n[1]-c)/u);n[0]=f-r,n[1]=a-e,r=f,e=a}}(n.transform),i=function(){var n={},t=[],r=0;function e(n,r){for(;r>0;){var e=(r+1>>1)-1,o=t[e];if(s(n,o)>=0)break;t[o._=r]=o,t[n._=r=e]=n}}function o(n,e){for(;;){var o=e+1<<1,u=o-1,i=e,c=t[i];if(u<r&&s(t[u],c)<0&&(c=t[i=u]),o<r&&s(t[o],c)<0&&(c=t[i=o]),i===e)break;t[c._=e]=c,t[n._=e=i]=n}}return n.push=function(n){return e(t[n._=r]=n,r++),r},n.pop=function(){if(!(r<=0)){var n,e=t[0];return--r>0&&(n=t[r],o(t[n._=0]=n,0)),e}},n.remove=function(n){var u,i=n._;if(t[i]===n)return i!==--r&&(s(u=t[r],n)<0?e:o)(t[u._=i]=u,i),i},n}();function c(n){i.remove(n),n[1][2]=e(n),i.push(n)}return e||(e=f),n.arcs.forEach((function(n){var t,r,f,a,s=[],l=0;for(r=0,f=n.length;r<f;++r)a=n[r],o(n[r]=[a[0],a[1],1/0],r);for(r=1,f=n.length-1;r<f;++r)(t=n.slice(r-1,r+2))[1][2]=e(t),s.push(t),i.push(t);for(r=0,f=s.length;r<f;++r)(t=s[r]).previous=s[r-1],t.next=s[r+1];for(;t=i.pop();){var h=t.previous,p=t.next;t[1][2]<l?t[1][2]=l:l=t[1][2],h&&(h.next=p,h[2]=t[2],c(h)),p&&(p.previous=h,p[0]=t[0],c(p))}n.forEach(u)})),n},Object.defineProperty(n,"__esModule",{value:!0})}(t)}}]);